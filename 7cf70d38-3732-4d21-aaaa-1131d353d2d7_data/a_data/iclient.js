(window.webpackJsonp=window.webpackJsonp||[]).push([[6,4],Array(27).concat([function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));a(18);var n=a(145);function i(t){return"".concat(t*n.rpxValue).concat(n.rpxUnit)}function s(t){return"".concat(t*n.rpxValue*3).concat(n.rpxUnit)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=_sdk_cfd795},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(2);a(959);var i=a(960),s=a(436).default;t.exports=a(436),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2),i=a(1110),s=a(510).default;t.exports=a(510),t.exports.default=n(s,i,[])},,,,,,,,function(t,e){t.exports=_vendor_cfd795},,,,,function(t,e,a){var n=a(2);a(931);var i=a(932),s=a(424).default;t.exports=a(424),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(963);var i=a(964),s=a(438).default;t.exports=a(438),t.exports.default=n(s,i,[])},,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(239);e.a=n.a},function(t,e,a){var n=a(2);a(979);var i=a(980),s=a(444).default;t.exports=a(444),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(981);var i=a(982),s=a(445).default;t.exports=a(445),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(983);var i=a(984),s=a(446).default;t.exports=a(446),t.exports.default=n(s,i,[])},,,,,function(t,e,a){"use strict";var n=a(9),i=a.n(n),s=a(238),o=a.n(s),r=(a(10),a(65),a(8),a(25),a(70),a(90),a(73),a(64),a(52),a(6),a(78),a(19),a(20),a(87),a(88),a(89),a(0)),c=a(30),d=a(61),l=a(179),p=a(33),u=a(22),m=a(56),h=a(5),g=a(206),f=a(1),v=a(13);function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={};y.initH5Action=function(){r.store.actions.NetTaskbegin||r.store.addAction("NetTaskbegin",(function(t,e){var a=e.getState,n=e.dispatch,i=t.status,s=a("rebound");n("updateSessionStatus",h.a.stateMap.connected),2===i&&n("sendWaitInfo"),n("sendAutoMsg"),n("sendCachedMsg"),s&&n("sendCipTrack"),n("sendSmartInviteTrack"),n("sendInitMsgTrack"),n("sendTrackBeforeConnect"),n("sendGuessTrackBeforeConnect")})),r.store.actions.AddMessageToChatView||r.store.addAction("AddMessageToChatView",(function(t,e){var a=e.getState,n=e.dispatch;r.store.dispatch("popupUnreadMessageCheck",t);var i=t.history,s=i?"unshift":"push",o=a("session.total"),d=a("session.state")===h.a.stateMap.connected,l=u.a.isCloseMsg(t),p=a("session.hasMissKefuMsg"),g="kefu"===t.tag,v=a("fixedRefPrefix"),x=!1,y=t.num||o+1,w=a("fixed");a("rebound");if(d||!l){if(r.store.dispatch("checkYxtMsg",t),!t.isYxt){var k=a("session.hasFirstClientMsg");"user"===t.source&&!k&&u.a.addMsgProp(t,"first_user_msg",!0);var S=a("session.hasFirstKefuMsg");a("isXhHitted");g&&!S&&u.a.addMsgProp(t,"first_kefu_msg",!0),d||!g||p||(x=!0,n("UpdateHasMissKefuMsg"),setTimeout((function(){n("UpdateFixedRefs",v+"-"+o)}))),(!w&&"user"===t.source||w&&!i&&"user"===t.source||"8000"!==t.type&&"time"!==t.type&&"system"===t.source||"small"===a("popupState"))&&(n("decideIsNeedScrollToBottom",!0),n("updateFixedAction",!1));var C=a("isNeedScrollToBottom"),T=a("iframe.on");C&&!T&&setTimeout((function(){n("ChatViewScrollToBottom")}));var M=a("missMessage");if(u.a.needShowTime(t)&&(t.num=y,y+=1,r.store.dispatch("updateShowedMsgTs",t)),"form"===t.name&&t.log.sourcetype.indexOf("offline")>-1){var I=a("form.sessionStatus");t.log.sessionStatus=I}var B={name:t.name,log:t.log,style:t.style,type:t.type,content_type:t.content_type,card:t.card,source:t.source,content:t.content,action:t.action,contenttext:m.a.xssFilter(t.contenttext),msgid:t.msgid,msgtime:t.msgtime,history:t.history,status:0,num:y,fixed:x,tag:t.tag,sourceTag:t.sourceTag};[f.i.GET_PRICE,f.i.ORDER_PHONE,f.i.ORDER_MEET].includes(t.sourceTag)&&(B.showType="messageCard");var P=t.message_id||t.msgid;if(P&&r.store.dispatch("updateshowMessageIds",{msgid:P}),"user"===t.source){var L=t.history,D=(r.store.getState("session.chatCount"),r.store.getState("session.currentUserMsgCount")),O=r.store.getState("feature"),E=r.store.getState("wechatStatus");O.chatTip,O.huanran;!L&&(D+=1);var _,R=E&&E.isRequested||!1,N=E&&E.isCopied||!1;if(D>=3&&d&&!R&&!N&&O.wechat_2&&r.store.dispatch("getAsyncWechatCard"),!L&&!r.store.getState("usrHasLeads")&&u.a.hasLeads(t))r.store.dispatch("updateUsrHasLeads",!0),n("sendLog",{type:"user_leads",from:"imlp",content:{userMsgCount:r.store.getState("session.sendedMsgCount"),detentionShowed:null!==(_=r.store.getState("detentionShowed"))&&void 0!==_&&_}});u.a.addMsgProp(B,"seq",D),u.a.addMsgProp(B,"imid",r.store.getState("imid")),u.a.addMsgProp(B,"msgid",t.message_id),u.a.addMsgProp(B,"sendState",t.sendState),u.a.addMsgProp(B,"recommendMsg",t.recommendMsg);var j=r.store.getState("robotServiceModel")||f.o.NORMAL;return t.first_user_msg&&j!==f.o.SELECTION_ROBOT&&r.store.dispatch("sendCombineSysTip",!0),n("checkLocalPhoneCard",b({},B)),Object(c.builder)()[s]("message",B).apply("session.chatCount",(function(t){return t+1})).set("session.currentUserMsgCount",D).apply("session.total",(function(t){return y}))}T=T||!1;var U=!w&&!C&&"service"===t.source;if(T||U){var V=(M&&M.number||0)+1,H=M&&M.list||[];H.push(t);var F=a("message").length;n("updateMissMessage",{on:!0,hasFirst:!0,index:F,number:V,list:H})}return B.history||"service"!==B.source||"welcome"===B.tag||(n("checkWechatForKefuMsg",B),n("checkGroup",B)),n("checkLocalPhoneCard",b({},B)),Object(c.builder)()[s]("message",B).apply("session.total",(function(t){return y}))}i||n("logYxtMsg",{msgid:t.msgid})}})),r.store.actions.ChatAction||r.store.addAction("ChatAction",(function(t,e){var a,n=e.getState;e.dispatch;if(!(n("session.state")!==h.a.stateMap.connected)||["form","coupon"].includes(null==t||null===(a=t.value)||void 0===a?void 0:a.type)){var i={type:"onClick"},s=t.value,o=s.type;s.ext&&"guess_card"===s.ext.tag?i.data={ext:s.ext}:"card"===o&&s.content?i.data={type:"card",text:s.content.title||s.content.text||"",value:s.content.cid||s.content.value||""}:i.data=s,i.data.ext&&d.a.sendUserAction(i)}}))},y.init=function(){!function(){var t={},e="",a={};try{t={prefetch:!!r.store.getState("prefetch"),prerender:!!r.store.getState("prerender"),imType:r.store.getState("im_type"),level1:r.store.getState("level1"),level2:r.store.getState("level2"),level3:r.store.getState("level3"),isLite:r.store.getState("isLiteBox"),isLitePerfetch:r.store.getState("isLitePerfetch")},e=encodeURIComponent(r.store.getState("imlpUrl")||window.location.href),a=r.store.getState("pageInfo");var n=encodeURIComponent(document.referrer.split("?")[0]||""),i=document.documentElement.clientHeight||f.g.HEIGHT,s=document.documentElement.clientWidth||f.g.WIDTH,c=Math.round(s/i*100)/100;p.a.log({type:"pv",from:"imlp",content:performance&&performance.now?Math.round(performance.now()):-1,ext:o()({},a,{browser:navigator.userAgent.indexOf("baiduboxapp")>-1?"baiduboxapp":"other",referPath:n,screenRatio:c},t),url:e})}catch(n){p.a.log({type:"pv-error",from:"imlp",content:String(n),ext:Object.assign({},a,t),url:e})}}(),r.store.getState("zhidao")||r.store.dispatch("sendWelcome"),l.a.init();var t=r.store.getState("couponPreviewId"),e=r.store.getState("messagePreviewText");if(t){var a=v.a.formatCouponPreview(t);r.store.dispatch("AddMessageToChatView",a)}e&&r.store.dispatch("AddMessageToChatView",{type:"text",source:"service",content:decodeURIComponent(e)});var n=r.store.getState("review");if(n)r.store.dispatch("showOfflineForm");else{g.a.init();setTimeout((function(){r.store.dispatch("getDetentionContent")}),r.store.getState("expParam.imlp_t3")?0:1500),r.store.dispatch("getPhoneNumberCard"),r.store.dispatch("pageInit"),"2"===r.store.getState("robotPreview.preview")&&(r.store.dispatch("ConnectNet",{connectTime:0,source:"auto"}),r.store.dispatch("beginHeartBeat"));var i=r.store.getState("appid"),s=(r.store.getState("tplName"),r.store.getState("autoConnect")),c=r.store.getState("rebound"),d=(r.store.getState("smartprogram"),r.store.getState("wake"),0===i.indexOf("xyl_ad")),u=!(s&&"2"!==c||n),m=r.store.getState("yxtTitle"),h=r.store.getState("cancelEntrySite"),x=r.store.getState("config")||{},b=x.inviteType,y="manual"===b||"auto"===b||"smart"===b||!1;m&&r.store.dispatch("informYxtDrawEvent"),r.store.dispatch("xhInitOnPageLoaded"),r.store.dispatch("sendInitUserMsg"),y&&r.store.dispatch("sendInvite",x.inviteData),h&&(r.store.dispatch("updateSessionDelayTime",{needConnectImmediate:u,isXylAd:d}),r.store.dispatch("antiCheck"))}},e.a=y},,,,,,,,,,function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(2);a(969);var i=a(970),s=a(441).default;t.exports=a(441),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(985);var i=a(986),s=a(447).default;t.exports=a(447),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(991);var i=a(992),s=a(450).default;t.exports=a(450),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1001);var i=a(1002),s=a(455).default;t.exports=a(455),t.exports.default=n(s,i,[])},,,,,,,,,,,,function(t,e,a){var n=a(2);a(1084);var i=a(1085),s=a(497).default;t.exports=a(497),t.exports.default=n(s,i,[])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(1152),i=a(1153),s=a(532),o=a(372),r=a(1154),c=a(1158),d=a(375);t.exports=function(t,e,a){return a&&"number"!=typeof a&&o(t,e,a)&&(e=a=void 0),(a=void 0===a?4294967295:a>>>0)?(t=d(t))&&("string"==typeof e||null!=e&&!r(e))&&!(e=n(e))&&s(t)?i(c(t),0,a):t.split(e,a):[]}},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(223),i=a(157),s=a(368),o=a(224),r=a(374),c=a(60),d=Object.prototype.hasOwnProperty,l=s((function(t,e){if(r(e)||o(e))i(e,c(e),t);else for(var a in e)d.call(e,a)&&n(t,a,e[a])}));t.exports=l},,,,,function(t,e,a){var n=a(2);a(943);var i=a(944),s=a(428).default;t.exports=a(428),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(955);var i=a(956),s=a(434).default;t.exports=a(434),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(965);var i=a(966),s=a(439).default;t.exports=a(439),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(967);var i=a(968),s=a(440).default;t.exports=a(440),t.exports.default=n(s,i,[])},function(t,e,a){"use strict";a(25);e.a={formatFilter:function(t){if("buttonGroup"===t.name){t.cell=t.cell||2;var e=t.list||[],a=[],n=[];if(t.row){var i=t.row*t.cell;void 0===t.more&&e.length>i&&(t.more=!0)}for(var s=0;s<e.length;s++)s%t.cell==0&&(n=[],a.push(n)),n.push(e[s]);for(s=n.length;s<t.cell;s++)n.push({type:"blank"});return t.listTemp=a,t}return t}}},function(t,e,a){var n=a(2);a(975);var i=a(976),s=a(638).default;t.exports=a(638),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(977);var i=a(978),s=a(443).default;t.exports=a(443),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(987);var i=a(988),s=a(448).default;t.exports=a(448),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(993);var i=a(994),s=a(451).default;t.exports=a(451),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1007);var i=a(1008),s=a(458).default;t.exports=a(458),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1009);var i=a(1010),s=a(459).default;t.exports=a(459),t.exports.default=n(s,i,[])},function(t,e,a){"use strict";var n=a(210),i=a.n(n),s=a(211),o=a.n(s),r=a(668),c=a.n(r),d=a(669),l=a.n(d),p=a(347),u=a.n(p),m=a(9),h=a.n(m),g=a(288),f=a.n(g),v=a(204),x=a.n(v);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){h()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w=function(t){if(!t||!window||!window.document)return null;var e=new RegExp("(^| )".concat(t,"=([^;]*)(;|$)")),a=document.cookie.match(e);return a?a&&a.length>2&&a[2]:null};function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){h()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C=window&&window.location||{},T=function(t,e){var a=e.solutionId,n=e.phone,i=e.consumerId,s=void 0===i?0:i,o=e.bduss,r=void 0===o?"":o,c=e.couponName,d=e.componentType,l=void 0===d?"sdk-default":d,p=e.extInfo,u=void 0===p?{}:p,m=e.copid,h=e.appid,g=void 0===h?269:h,f=e.actionProd,v=void 0===f?2:f,x=e.fromConsult,b=void 0!==x&&x,y=e.pageId,k=void 0===y?0:y,T=e.siteId,M=void 0===T?0:T,I=e.pageUrl,B=e.pageUrlParams,P=e.xst,L=void 0===P?"":P,D=I||C&&C.origin+C.pathname||"",O=B||C&&C.search&&C.search.substring(1)||"";return D=b?"".concat(D,"?").concat(O):D,t({path:"/fengming-c/coupon/draw",params:{solutionId:a,fromConsult:b,phone:n,consumerId:s,bduss:r,isSdk:!0,cuid:w("BAIDUCUID")||w("AGL_USER_ID")||"",submitClueInfo:{clkid:w("H_BDCLCKID_SF")||"",compname:"mip-sjh-coupon-".concat(l),orderInfo:JSON.stringify([{name:"电话",value:n,type:"phone"},{name:"卡券名称",value:c,type:"couponName"},{name:"卡券样式",value:l,type:"couponCategory"}]),actionType:6,extInfo:JSON.stringify(S({solutionId:a,solutionType:"coupon",orderType:3,relatedSolution:{solutionType:b?"consult":"",solutionId:""}},u)),copid:m,appid:g,actionProd:v,siteId:M,pageId:k,pageUrl:D,pageUrlParams:O,xst:b?L:""}}})},M="picture",I="sms",B="no",P={500:"调用第三方服务系统异常",5001:"电话号码为空",5002:"电话号码格式错误",5004:"短信发送失败",5008:"短信验证码已经发送，请稍后再发",5009:"短信验证码发送超限",5011:"验证码已过期或者验证码错误",5069:"当前手机号保护中，请勿频繁提交",5070:"验证码已过期"},L=/^1[3456789]\d{9}$/,D=0,O=1,E=2,_=3,R="请输入正确的手机号",N="请输入手机号",j="请输入验证码",U={dev:(window&&window.location||{}).origin||"http://127.0.0.1:8002",offline:"http://jzapi-offline.baidu.com",preonline:"http://jzapi-preonline.baidu.com",online:"https://jzapi.baidu.com"},V=function(t,e,a){return t({path:"sjh-lexus/GET/CaptchaService/checkCodeImage",params:{uniqId:e,codeStr:a}}).then((function(t){if(t&&t.data&&t.data.check){var e=t.data;return e.passed="ok"===e.check,e.passed||e.message||(e.message="请输入正确的验证码"),e}return{passed:!1}})).catch((function(){return{passed:!1,message:"图片验证失败"}}))},H=function(t,e,a){return t({path:"sjh-lexus/GET/SmsNoticeService/verifySmsCode",params:[{telno:e,code:a}]}).then((function(t){if(t&&t.data){var e=t.data[0]||{},a=e.optStatus;return e.passed=0==+a,e.passed||e.message||(e.message="请输入正确的验证码"),e}return{passed:!1}})).catch((function(){return{passed:!1,message:"短信验证失败"}}))},F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.phone,n=e.captchaCode,i=e.captchaType,s=e.uniqId;return i===B?Promise.resolve({passed:!0}):i===M?V(t,s,n):i===I?H(t,a,n):Promise.reject("验证方式错误")},A={success:!1,message:"获取验证码失败"},z=function(t){return t({path:"sjh-lexus/POST/CaptchaService/genCodeImage"}).then((function(t){return t&&t.data&&t.data.uniqId?(t.data.success=!0,t.data):A})).catch((function(){return A}))},X="获取验证码失败",W=function(t,e,a){return t({path:"sjh-lexus/GET/SmsNoticeService/sendSmsCode",params:[{telno:e,orderType:a}]}).then((function(t){if(t&&t.data&&t.data[0]){var e=t.data[0];return e.success=0==+e.optStatus,e.success?e.message="验证码发送成功":e.message||(e.message=P[e.optStatus]||X),e}return{success:!1}})).catch((function(){return{success:!1,message:X}}))},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.trim()?L.test(t)?{passed:!0}:{passed:!1,message:R}:{passed:!1,message:N}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.phone,a=void 0===e?"":e,n=t.captchaCode,i=void 0===n?"":n,s=G("".concat(a));return s.passed?i.trim()?{passed:!0}:{passed:!1,message:j}:s},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.phone,n=e.captchaType,i=e.orderType;if(n===I){var s=G(a),o=s.passed,r=s.message;return o?W(t,a,i):Promise.resolve({success:!1,message:r})}return n===M?z(t):Promise.reject({message:"验证方式错误"})};function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(Object(a),!0).forEach((function(e){h()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(window&&window.document){var e=document.createElement("div");e.innerHTML=t;var a=e.innerText;return a}return t.replace(/<.*?>/gi,"")};function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){h()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var tt=function(){function t(e,a){if(i()(this,t),!e)throw new Error("必须传入solutionId");this.solutionId=e,this.ajaxRequest=a,this.ajaxRequestLexus=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.urlPath,n=void 0===a?"/sjh-lexus/request.ajax":a,i=e.path,s=e.params,o=void 0===s?"":s,r=e.extParams,c=e.data,d=f()(),l=[n,"?reqid=".concat(d),"&path=".concat(encodeURIComponent(i||""))].join(""),p={};c?p=c:i&&(p=Y(Y({path:i,reqid:d,userid:1,optid:1},r),{},{params:JSON.stringify({params:o})}));var u=[];return Object.keys(p).forEach((function(t){u.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(p[t])))})),t({path:l,params:u.join("&"),header:{"Content-Type":"application/x-www-form-urlencoded"},hasReqId:!0})}}(this.ajaxRequest)}return o()(t,[{key:"getCouponDetail",value:function(){var t,e,a=this;return(t=this.ajaxRequest,e=this.solutionId,t({path:"/fengming-c/coupon/detail",params:y({solutionId:e},{isSdk:!0})})).then((function(t){if(t&&t.data&&t.data.properties){var e=t.data.properties,n=e.captcha,i=void 0===n?{}:n,s=e.couponName;a.captchaType=i.type||B,a.couponName=s,delete t.data.properties;var o=Z(Z({},t.data),e);return a.captchaType===M?a.getCaptchaCode().then((function(t){var e=t.success,a=t.imageBase64;return e&&(o.captcha=Z(Z({},o.captcha),{},{imageBase64:a})),o})):o}var r=t&&t.errors&&t.errors[0]||{};return r.message=r.message||"卡券初始化失败",r}))}},{key:"getCaptchaCode",value:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:269,i=e||this.captchaType;if(i===B)return Promise.resolve({message:"验证方式为不验证"});var s={phone:"".concat(t),captchaType:i,orderType:n};return $(this.ajaxRequestLexus,s).then((function(t){return t.success&&i===M&&(a.uniqId=t.uniqId),t}))}},{key:"submitCouponForCommon",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.captchaType===B?G(e.phone):q(e),n=a.passed,i=a.message;return n?(e.captchaType=this.captchaType,e.uniqId=this.uniqId,F(this.ajaxRequestLexus,e).then((function(a){if(a.passed){e.solutionId=t.solutionId;var n=e.couponName,i=void 0===n?"":n;return e.couponName=J(i)||t.couponName,T(t.ajaxRequest,e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.status,a=t.errors;if(200==+e){var n=t.data||{};return n.submitStatus=D,n}var i=a&&a[0]||{};return Z({submitStatus:_},i)}))}return a.submitStatus=E,a}))):Promise.resolve({submitStatus:O,message:i})}}]),t}();function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=u()(t);if(e){var i=u()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l()(this,a)}}var at=function(t){c()(a,t);var e=et(a);function a(t,n){return i()(this,a),e.call(this,t,function(t){var e=U[t]||"";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.host,n=void 0===a?e:a,i=t.path,s=t.params,o=void 0===s?{}:s,r=t.hasReqId,c=i.indexOf("?")>-1?"&":"?",d=r?"":"".concat(c,"reqid=").concat(f()());return x()({method:"post",url:"".concat(n).concat(i).concat(d),data:o,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.data}))}}(n))}return o()(a,[{key:"submitCoupon",value:function(t){return this.submitCouponForCommon(t)}}]),a}(tt);e.a=at},function(t,e,a){var n=a(2);a(1064);var i=a(1065),s=a(489).default;t.exports=a(489),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1066);var i=a(1067),s=a(490).default;t.exports=a(490),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1082);var i=a(1083),s=a(496).default;t.exports=a(496),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1086);var i=a(1087),s=a(498).default;t.exports=a(498),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1090);var i=a(1091),s=a(500).default;t.exports=a(500),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1106);var i=a(1107),s=a(508).default;t.exports=a(508),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1108);var i=a(1109),s=a(509).default;t.exports=a(509),t.exports.default=n(s,i,[])},function(t,e,a){(function(e){var a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,r="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,d=r||c||Function("return this")(),l=Object.prototype.toString,p=Math.max,u=Math.min,m=function(){return d.Date.now()};function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(h(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=h(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=i.test(t);return r||s.test(t)?o(t.slice(2),r?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,a){var n,i,s,o,r,c,d=0,l=!1,f=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function x(e){var a=n,s=i;return n=i=void 0,d=e,o=t.apply(s,a)}function b(t){return d=t,r=setTimeout(w,e),l?x(t):o}function y(t){var a=t-c;return void 0===c||a>=e||a<0||f&&t-d>=s}function w(){var t=m();if(y(t))return k(t);r=setTimeout(w,function(t){var a=e-(t-c);return f?u(a,s-(t-d)):a}(t))}function k(t){return r=void 0,v&&n?x(t):(n=i=void 0,o)}function S(){var t=m(),a=y(t);if(n=arguments,i=this,c=t,a){if(void 0===r)return b(c);if(f)return r=setTimeout(w,e),x(c)}return void 0===r&&(r=setTimeout(w,e)),o}return e=g(e)||0,h(a)&&(l=!!a.leading,s=(f="maxWait"in a)?p(g(a.maxWait)||0,e):s,v="trailing"in a?!!a.trailing:v),S.cancel=function(){void 0!==r&&clearTimeout(r),d=0,n=c=i=r=void 0},S.flush=function(){return void 0===r?o:k(m())},S}}).call(this,a(287))},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return null===t}},,function(t,e,a){t.exports=a(68)(57)},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(11),i=a(973);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(2);a(1011);var i=a(1012),s=a(461).default;t.exports=a(461),t.exports.default=n(s,i,[])},function(t,e,a){t.exports=a(68)(55)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(11),i=a(16),s=a(187),o=a(45),r=a(43),c=a(46).f,d=a(117),l=a(360),p=a(923),u=a(186),m=a(925),h=!1,g=u("meta"),f=0,v=function(t){c(t,g,{value:{objectID:"O"+f++,weakData:{}}})},x=t.exports={enable:function(){x.enable=function(){},h=!0;var t=d.f,e=i([].splice),a={};a[g]=1,t(a).length&&(d.f=function(a){for(var n=t(a),i=0,s=n.length;i<s;i++)if(n[i]===g){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,g)){if(!p(t))return"F";if(!e)return"E";v(t)}return t[g].objectID},getWeakData:function(t,e){if(!r(t,g)){if(!p(t))return!0;if(!e)return!1;v(t)}return t[g].weakData},onFreeze:function(t){return m&&h&&p(t)&&!r(t,g)&&v(t),t}};s[g]=!0},,function(t,e,a){"use strict";a.r(e);a(98);var n=a(0),i=a(647),s=a.n(i);n.store.addAction("HistoryBack",(function(){history.back()})),e.default=n.connect.san({title:"header.title",isLiteBox:"isLiteBox",isTitleCard:"titleCard"},{back:"HistoryBack",setMask:"setMask"})({initData:function(){return{statusBarHeight:"0",reallyHeaderWidth:"100%"}},attached:function(){if(this.dispatch("component-tracking","Header"),this.data.get("isLiteBox")){var t=swan.getSystemInfoSync();if(!(t instanceof Error)){var e=t.windowWidth;t.statusBarHeight;if(this.data.set("statusBarHeight","".concat(t.statusBarHeight,"px")),swan.getMenuButtonBoundingClientRect){var a=swan.getMenuButtonBoundingClientRect(),n=a.width,i=e-a.right;this.data.set("reallyHeaderWidth","".concat(e-2*(n+i),"px"))}}}},components:{"ui-header-content":s.a},computed:{isLite:function(){return this.data.get("isLiteBox")&&window.swan&&swan.getSystemInfoSync}}})},function(t,e,a){"use strict";a.r(e);a(160),a(6);var n=a(0),i=a(106),s=a.n(i);e.default=n.connect.san({header:"titleCard.content",isLiteBox:"isLiteBox"},{setMask:"setMask"})({initData:function(){return{headerCls:"imlp-component-header-exp",phoneIcon:"https://imlp-static.cdn.bcebos.com/img/phone_icon"}},computed:{content:function(){var t,e;return(null===(t=this.data.get("header"))||void 0===t||null===(e=t.list)||void 0===e?void 0:e.find((function(t){return"detailBase"===t.type})))||{}},tel:function(){var t,e;return null===(t=this.data.get("header"))||void 0===t||null===(e=t.list)||void 0===e?void 0:e.find((function(t){return"tel"===t.type}))},headerText:function(){var t,e;return(null===(t=this.data.get("content"))||void 0===t||null===(e=t.info)||void 0===e?void 0:e.find((function(t){return"subtitle"===t.type})))||{}},tags:function(){var t,e;return(null===(t=this.data.get("content"))||void 0===t||null===(e=t.info)||void 0===e?void 0:e.find((function(t){return"tags"===t.type})))||{}}},components:{"ui-tags":s.a},contentOperate:function(t){var e;t&&t.stopPropagation();var a,n,i=null===(e=this.data.get("header"))||void 0===e?void 0:e.action;i&&("popup"===(null==i?void 0:i.type)&&null!=i&&i.value&&(this.actions.setMask({show:!0,childcomponent:"standardpopup",data:null===(a=i.value)||void 0===a?void 0:a.content}),this.dispatch("operate",{item:{type:i.type,value:null===(n=i.value)||void 0===n?void 0:n.log},type:"header"})))},phoneOperate:function(t){t&&t.stopPropagation(),this.dispatch("operate",{item:this.data.get("tel")||{},type:"header",history:"电话按钮"})}})},function(t,e,a){"use strict";a.r(e);a(52),a(6),a(54),a(109),a(63);var n=a(0);e.default=n.connect.san({isLiteBox:"isLiteBox"},{})({computed:{filteredData:function(){return(this.data.get("data.value")||[]).filter((function(t){return""!==t}))}},initData:function(){return{ref:"widget-tags"}},attached:function(){this.dispatch("component-tracking","standard_tags"),this.hideOverflowTag()},hideOverflowTag:function(){var t=this.ref(this.data.get("ref")),e=t.getBoundingClientRect().right;Array.from(t.children).map((function(t){t.getBoundingClientRect().right>e&&t.setAttribute("style","display: none;")}))},filters:{ymTag:function(t){var e="";switch(t.theme){case"blue":e="widget-tag-blue";break;case"brown":e="widget-tag-brown";break;case"yellow":e="widget-tag-yellow";break;case"transparent":e="widget-tag-transparent"}return t.icon&&(e+=" widget-tag-icon"),e}}})},function(t,e,a){"use strict";a.r(e);a(65),a(98);var n=a(0);e.default=n.connect.san({text:"notification.text",triggertext:"notification.triggertext",payload:"notification.payload",appid:"appid"},{masktoggle:"MaskToggle"})({initData:function(){return{hidden:!1}},attached:function(){this.dispatch("component-tracking","Notification");this.el.querySelector(".imlp-component-notification-text-inner")},trigger:function(){this.actions.masktoggle(Object.assign({},this.data.get("payload")))},hide:function(){this.data.set("hidden",!0)}})},function(t,e,a){"use strict";a.r(e);a(10),a(12),a(53),a(26),a(35);var n=a(0),i=a(3);e.default=n.connect.san({feature:"feature"},{})({attached:function(){this.dispatch("component-tracking","ChatViewText")},operate:function(t){t&&t.preventDefault();var e=this.data.get("feature");switch(t.target.className){case"imlp-component-telnumber":e.telcopy?(this.dispatch("hide-telFloat"),this.showTelFloat(t)):this.phoneClick(t,"kefu_msg");break;case"imlp-component-telnumber-click":this.dispatch("hide-telFloat"),this.phoneClick(t);break;case"imlp-component-telnumber-copy":this.dispatch("hide-telFloat"),this.copyClick(t)}},showTelFloat:function(t){var e=t.target.childNodes;if(!(e.length<2||e[1].className&&e[1].className.indexOf("imlp-component-telnumber-wrapper")<0)){var a=e[1],s=t.target,o=document.getElementsByClassName("imlp-component-navigation")[0];s=t.target.getBoundingClientRect(),o=o.getBoundingClientRect(),n.store.dispatch("showTelFloat"),s.top-o.bottom<50?i.a.addClass(a,"telnumber-wrapper-down"):i.a.addClass(a,"telnumber-wrapper-up")}},phoneClick:function(t,e){var a={type:"tel",text:"客服电话",value:t.target.dataset.telText};this.dispatch("operate",{item:a,type:e||"kefu_msg_float",history:"电话咨询"}),this.data.get("feature").telcopy&&this.dispatch("hide-telFloat")},copyClick:function(t){var e=t.target.dataset.clipboardText,a={type:"copy",text:"复制号码",value:e};this.dispatch("operate",{item:a,type:"kefu_msg_float"}),this.dispatch("hide-telFloat");var i=navigator.userAgent.match(/(UCBrowser\/){1}\d+/g),s=i&&parseInt(i[0].split("/")[1],10),o=document.createElement("input");o.setAttribute("value",e),o.setAttribute("readonly","readonly"),document.body.appendChild(o),o.focus(),o.select(),o.setSelectionRange(0,e.length),document.execCommand("copy")||!document.execCommand("copy")&&s>11?(document.execCommand("copy"),this.dispatch("chat-action",{type:"toast",value:{text:"复制成功"}})):n.store.dispatch("logKefuMsgStatus",{type:"copy_fail",number:e,from:"kefu_msg_float"}),document.body.removeChild(o)},filters:{emoji:function(t,e){if("string"!=typeof t)return t;var a=["微笑","调皮","色","睡","疑问","流泪","汗","晕","撇嘴","惊恐","尴尬","害羞","委屈","大笑","大哭","可爱","再见","偷笑","乖","难过"];return t.replace(/\[(微笑|调皮|色|睡|疑问|流泪|汗|晕|撇嘴|惊恐|尴尬|害羞|委屈|大笑|大哭|可爱|再见|偷笑|乖|难过)\]/g,(function(t,e){return'<i class="imlp-component-text-emoji imlp-component-text-icon-'+(a.indexOf(e)+1)+'"></i>'}))}}})},function(t,e,a){"use strict";a.r(e);a(8);var n=a(0),i=(a(44),a(22));e.default=n.connect.san({inputSuggest:"typeboxConfig.inputSuggest",feature:"feature",message:"message"},{logInputSug:"logInputSug"})({initData:function(){return{hiddenQuestions:[],hasClicked:!1}},computed:{show:function(){var t=this.data.get("recommend");return t&&t.length}},operate:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&t.preventDefault(),"text"!==e.type&&"qa"!==e.type||this.actions.logInputSug({type:"send",content:e.reply_id,ext:{input_suggest_from:a}}),e.ext={input_suggest_from:a};var s="";switch(e.type){case"text":e.text,e.type="client_msg",e.trackTag="sugQa";break;case"qa":e.text,e.type="sugQa",e.trackTag="sugQa";break;default:e.text}var o={},r=i.a.formatRichText(o,this.data.get("recommendMsg"));"client_msg"===e.type&&(e.recommendMsg=r),"client_msg"===e.type&&this.data.set("hasClicked",!0),this.dispatch("operate",{item:e,type:s,history:e.text});var c=n.store.getState("recommendCount");c--,n.store.dispatch("setRecommendCount",c),"wechat"===e.from&&(n.store.dispatch("launchWechat",e),n.store.dispatch("sendLog",{type:"copy_wechat",from:"imlp",content:e.value}))},attached:function(){this.dispatch("component-tracking","Recommend"),n.store.getState("isNeedScrollToBottom")&&setTimeout((function(){n.store.dispatch("ChatViewScrollToBottom","recommend")}),500)}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({inputSuggest:"typeboxConfig.inputSuggest",phoneInfo:"phoneInfo"})({initData:function(){return{phone:"&#xe733"}},callPhone:function(){event&&event.stopPropagation(),this.dispatch("operate",{item:this.data.get("phoneInfo")||{},type:this.data.get("cur")||"",history:'该访客点击了电话强样式中的"拨打电话"的按钮'})},click:function(){this.callPhone()}})},function(t,e,a){"use strict";a.r(e);a(12),a(53),a(10),a(55);var n=a(66);e.default={attached:function(){this.dispatch("component-tracking","ChatViewLeaveWord");var t=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.data.set("isIOS",t)},submit:function(t){t.preventDefault();var e=t.target;if(-1===(e.className||"").indexOf("imlp-component-chatviewleaveword_submit_disabled")){var a=e.parentNode,n=a.querySelector("select"),i=a.querySelector("input");this.validateInput(n.value,i.value)?(this.dispatch("chat-action",{type:"leaveWord",value:{type:n.value,content:i.value}}),this.disabledBtn(e,n,i)):this.dispatch("chat-action",{type:"toast",value:{text:"输入错误"}})}},disabledBtn:function(t,e,a){t.innerHTML="已提交",t.className+=" imlp-component-chatviewleaveword_submit_disabled",e.disabled=!0,a.disabled=!0},validateInput:function(t,e){return e=e.trim(),Object(n.a)(t,e)}}},function(t,e,a){"use strict";a.r(e);a(42),a(54),a(417),a(6),a(37);var n=a(0),i=a(655),s=a.n(i);e.default=n.connect.san({feature:"feature"},{})({components:{"card-text-link-item":s.a},initData:function(){return{pageSize:6,pageNo:0,pagecount:0,content:{title:"",items:[]},guessCardType:"4005",isGuessCard:!1}},attached:function(){this.dispatch("component-tracking","ChatViewLinkItemContainer");this.data.get("type"),this.data.get("guessCardType");var t=n.store.getState("feature"),e=t.guess_card;this.data.set("isGuessCard",t.guess_card);e&&this.log(!0)},computed:{pageSize:function(){return 1===this.data.get("content.has_preset")?7:6},pagecount:function(){var t=this.data.get("content").items.length,e=this.data.get("pageSize");return Math.floor((t-1)/e)},curPageList:function(){var t=this.data.get("content").items,e=this.data.get("pageSize"),a=this.data.get("pageNo"),n=t.length,i=a*e,s=i+e>n?n:i+e;return t.slice(i,s)},showlog:function(){var t=this.data.get("content.log"),e=this.data.get("curPageList")||[];return t||e.map((function(t){return t.log||t.text}))},hotIndex:function(){var t=this.data.get("content").items;if(t.length<=2)return-1;var e=0;return t.slice(1).reduce((function(t,a,n){return a.hot>t?(e=n,a.hot):t}),0),e+1}},nextPage:function(){var t=this.data.get("pageNo"),e=t<this.data.get("pagecount")?t+1:0;this.data.set("pageNo",e),n.store.dispatch("sendLog",{type:"guess_next_click",content:{pageNo:t}}),this.data.get("isGuessCard")&&this.log()},log:function(t){var e=this.data.get("type"),a=this.data.get("pageNo"),i=this.getIdStr();this.getContent();n.store.dispatch("cardShow",{ext:{page:a,tag:"guess_card",question:i,first:t?1:0},content:{type:e,log:this.data.get("showlog")}})},getIdStr:function(){return(this.data.get("curPageList")||[]).map((function(t){return t.id})).join("_")},getContent:function(){return(this.data.get("curPageList")||[]).map((function(t){return t.text||""}))},messages:{"update-content":function(t){this.data.set("content.items[".concat(t.value,"].clicked"),!0)}}})},function(t,e,a){"use strict";a.r(e);a(195),a(6);var n=a(0);a(1);e.default=n.connect.san({guessRecommendExp:"expParam.imlp_guess_recommend",guessHotExp:"expParam.imlp_guess_hot"},{send:"SendMessage",updateSourceTag:"updateSourceTag",updateText:"UpdateTypeBoxInput"})({initData:function(){return{clicked:!1}},computed:{guessRecommend:function(){return this.data.get("guessRecommendExp")&&this.data.get("isRecommended")},guessHot:function(){return this.data.get("guessHotExp")&&this.data.get("isHot")}},attached:function(){this.dispatch("component-tracking","ChatViewTextLinkItem")},doClick:function(t,e){var a=this;if(!e.clicked){var n=this.data.get("msgid")||"",i="normal";this.data.get("isRecommended")&&(i="recommend"),this.data.get("isHot")&&(i="hot");var s={type:"textLinkItem",value:{type:"card",content:e,fromid:n,value:e.log||e.text,action:e.action||0}},o=this.data.get("cardType");void 0!==o&&(s.value.ext={card:o,strategyType:i}),this.dispatch("chat-action",s);var r=this.data.get("content.items"),c=-1;r.some((function(t,e){if(t.value===a.data.get("item.value"))return c=e})),c>-1&&this.dispatch("update-content",c),1===e.action&&this.dispatch("inputFocus")}}})},function(t,e,a){"use strict";a.r(e);a(8);var n=a(0),i=a(27),s=a(1);e.default=n.connect.san({imageList:"imageList",savatar:"service.avatar",uavatar:"user.avatar",xst:"xst",robotServiceModel:"robotServiceModel",goldService:"feedback.gold"},{updateImage:"UpdateImage",updatePreview:"UpdatePreviewAction",kefuImageClick:"kefuImageClick"})({initData:function(){return{loaded:!1,imageWidth:0,imageHeight:0,picReadedRef:"imlp-chatview-pic-readed-ref",progress:0}},computed:{isServiceSource:function(){return"service"===this.data.get("source")},isGoldService:function(){return this.data.get("isServiceSource")&&this.data.get("xst")&&this.data.get("robotServiceModel")===s.o.NORMAL&&this.data.get("goldService")}},handleStatus:function(){var t=this.data.get("msgid"),e=this.data.get("isRead"),a=this.data.get("imageList"),i=this.data.get("content");-1===a[i.uuid].status?n.store.dispatch("reUploadImg",i.uuid):"1"===e&&n.store.dispatch("manualResendMessage",t)},avatarClick:function(t){var e=this.data.get("isGoldService");n.store.dispatch("avatarClick",{avatarType:t,isGoldService:e})},attached:function(){this.dispatch("component-tracking","ChatViewImage");var t=this,e=t.data.get("content")||{},a=t.data.get("history")||!1,n=e.image_url;if(n){var i=new Image;i.onload=function(){var e=this.naturalWidth,n=this.naturalHeight,i=Math.max(e,n);if(i>180){var s=Math.min(e,n);s=s/i*180,i=180,e>n?(e=i,n=s):(e=s,n=i)}t.data.set("loaded",!0),t.data.set("imageWidth",e),t.data.set("imageHeight",n),a&&setTimeout((function(){t.dispatch("reScrollToFixedMessage")}))},i.src=n}},preview:function(t,e){"url"===e&&this.actions.kefuImageClick(t),this.actions.updatePreview({on:!0,src:t})},loadHandler:function(t,e){n.store.dispatch("resRetry",{event:t,isRetrySuccess:e})},px2Rpx:i.b})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({typebox:"typebox"},{updateMissMessage:"updateMissMessage"})({attached:function(){this.dispatch("component-tracking","ChatViewEmpty"),this.dispatch("setFirstMissMessage",this.data.get("index"))},getDistanceToTop:function(){var t=this.el.getBoundingClientRect(),e=this.owner.el.getBoundingClientRect();return t.top-e.top}})},function(t,e,a){"use strict";a.r(e);a(19),a(6),a(20),a(25),a(10);var n=a(0),i=a(658),s=a.n(i),o=a(659),r=a.n(o),c=a(166),d=a.n(c),l=a(245),p=a.n(l),u=a(246),m=a.n(u),h=a(660),g=a.n(h),f=a(92),v=a.n(f),x=a(247);e.default=n.connect.san({},{})({initData:function(){return{showWidgets:[],heightComputed:!1,track:"",combined:!1,cardindex:0,isfold:!1}},computed:{type:function(){return this.data.get("data.type")},source:function(){return this.data.get("data.source")},content:function(){return this.data.get("data.content")},action:function(){return this.data.get("data.action")}},attached:function(){var t=this;this.dispatch("component-tracking","BaseCard");var e=this.el,a=e.querySelectorAll(".imlp-basecard-widget-hide"),i=this.data.get("showWidgets"),s=this.data.get("content"),o=this.data.get("content").list||[],r=s.showCount||o.length;if(o.forEach((function(t,e){"buttonGroup"!==t.name&&"detailBase"!==t.name||e<r&&i.push("widget"+e)})),a.length>0){this.data.set("isfold",!0);var c=e.querySelector(".imlp-basecard-morelink");c.style.display="block",n.store.dispatch("cardShowStatus","fold"),c.addEventListener("click",(function(e){e.preventDefault();for(var i=!1,s=0;s<a.length;s++)-1!==a[s].className.indexOf("imlp-basecard-widget-hide")?(a[s].className="imlp-basecard-widget",i=!0):(a[s].className="imlp-basecard-widget imlp-basecard-widget-hide",i=!1);t.data.set("isfold",!i),n.store.dispatch("cardBtnClick",i?"unfold":"fold"),n.store.dispatch("cardShowStatus",i?"fold":"unfold");try{var o=t.data.raw.content.showCount;for(s=0;s<a.length;s++)t.ref("widget"+(s+o)).data.set("display",i)}catch(e){}t.dispatch("scrollHandle")}))}this.data.get("combined")||this.dispatch("addRefKey",{key:this.data.get("ref")})},operate:function(t,e){if(e&&(t&&t.preventDefault(),e)){e.mat=e.mat||{},e.mat.cardType=e.mat.cardType||this.data.get("type");var a=this.data.get("track");this.dispatch("operate",{item:e,type:"BaseCard",history:a})}},components:{"widget-buttongroup":s.a,"widget-detailbase":r.a,"widget-notification":d.a,"widget-consult":p.a,"widget-carousel":m.a,"widget-video":g.a,"ui-arrow":v.a},filters:{widgetFormat:x.a.formatFilter}})},function(t,e,a){"use strict";a.r(e);a(10);var n=a(0),i=a(92),s=a.n(i);e.default=n.connect.san({},{})({components:{"ui-arrow":s.a},initData:function(){return{moreStatus:!1,isfold:!1}},attached:function(){var t=this;this.dispatch("component-tracking","widgets_ButtonGroup");var e=this,a=this.el,n=a.querySelector(".imlp-widget-buttongroup-showmore"),i=this.data.get("moreStatus");if(n){var s=a.querySelectorAll(".imlp-widget-buttongroup-hidelist");this.data.set("isfold",!0),n.addEventListener("click",(function(a){a.preventDefault();for(var n=!1,o=0;o<s.length;o++)-1!==s[o].className.indexOf("imlp-widget-buttongroup-hidelist")?(s[o].className="imlp-widget-buttongroup-buttonrow",n=!0):(s[o].className="imlp-widget-buttongroup-buttonrow imlp-widget-buttongroup-hidelist",n=!1);t.data.set("isfold",!n),e.setSpreadStatus(!i),e.dispatch("scrollHandle")}))}},operate:function(t,e){t&&t.preventDefault();var a=e.text;this.dispatch("operate",{item:e,type:"buttonGroup",history:a})},setSpreadStatus:function(t){this.data.set("moreStatus",t)}})},function(t,e,a){"use strict";a.r(e),e.default={initData:function(){return{src:"https://imlp-static.cdn.bcebos.com/img/common/arrow-grey-more.png"}}}},function(t,e,a){"use strict";a.r(e);a(19),a(6),a(20);var n=a(0),i=a(107),s=a.n(i),o=a(245),r=a.n(o),c=a(246),d=a.n(c),l=a(91),p=a(27);e.default=n.connect.san({},{})({initData:function(){return{track:""}},components:{"ui-text-ellipise-box":s.a,"ui-consult":r.a,"ui-carousel":d.a},attached:function(){this.dispatch("component-tracking","widgets_DetailBase"),this.getInfo(),this.updateActionUrl({yxtTitle:encodeURIComponent(this.data.get("track")),yx:1})},updateActionUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.data.get("card"),a=this.data.get("data.action")||{};"url"===a.type&&a.value&&(5e3!==e&&5001!==e||this.data.set("data.action.value",l.a.getUrlWithImlpUrl(a.value,t)))},getInfo:function(){var t=this;((this.data.get("data")||{}).info||[]).forEach((function(e){e&&"subtitle"===e.type&&e.text&&(t.data.set("track",e.text),t.dispatch("broadcastDetailBaseTitle",e.text))}))},operate:function(t,e){if(e){t&&t.preventDefault();var a=this.data.get("combined"),n=this.data.get("cardindex"),i=this.data.get("track");e.mat=e.mat||{cardType:this.data.get("card")},a&&("async"===e.actionType&&"card"===e.type&&(e.type="combined"),e.combined={baseType:this.data.get("card"),rank:n,cardType:e.mat.cardType||"-",cardValue:e.mat.cardValue||"-"}),this.dispatch("operate",{item:e,type:"DetailBase",history:i})}},px2Rpx:p.b})},function(t,e,a){"use strict";a.r(e);var n=a(29),i=a.n(n),s=a(14),o=a.n(s),r=(a(26),a(18),a(12),a(35),a(6),a(71),a(8),a(0)),c=a(27);e.default=r.connect.san({feature:"feature"},{})({computed:{originStyle:function(){var t=this.data.get("data")||{},e=t.size,a=t.color,n=t.lineBase,i=a?"color: ".concat(a,";"):"";if(e){var s=parseInt(e,10),o=s+(n||8);i+="font-size: ".concat(Object(c.a)(s),";line-height: ").concat(Object(c.a)(o),";")}return i}},initData:function(){return{ellipsisChar:"...",computed:!1,moreStatus:0,styleText:""}},attached:function(){this.dispatch("component-tracking","widgets_TextEllipsisBox");var t=this.data.get("data");this.data.set("textData",t);var e=this,a=this.data.get("textData.tag"),n=this.data.get("textData.text");n=(n=(n=n.replace(/(\n)+/g,"<br>")).replace(/(<br>)+/g,"<br>")).replace(/<p><br><\/p>/g,""),this.data.set("textData.text",n);var i=this.data.get("display"),s=a?"".concat(a,": ").concat(n):n;this.data.get("styleVersion")&&(s='<div class="widget-text-ellipsis-text-icon"></div>'.concat(s)),this.data.set("textData.text",s),this.data.set("textData.currentTextStr",s);var o=this.data.get("textData.maxHeight"),r=(this.data.get("textData.normal"),this.data.get("textData.lineNumber"));if(o)this.data.set("textData.lineNumber",0),this.data.set("textData.more",0);else if(r)return this.data.set("computed",!0),this.data.set("textData.more",0),void this.data.set("styleText","-webkit-line-clamp: ".concat(this.data.get("textData.lineNumber"),";display: -webkit-box;overflow: hidden;-webkit-box-orient: vertical;"));0!==o&&(i&&o||void 0===i)&&this.initNeedShowMore(1),this.watch("display",(function(t){var a=this.data.get("moreStatus"),n=this.data.get("computed");!t||n||a||o&&e.initNeedShowMore(1)}))},initNeedShowMore:function(t){var e=this;return i()(o.a.mark((function a(){var n,i,s,r,d,l,p,u,m,h,g;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.data||{},!t){a.next=10;break}return i=n.get("textData.currentTextStr"),a.next=5,e.getTextHeight(i);case 5:s=a.sent,r=n.get("textData.maxHeight"),s>r&&(n.set("styleText","max-height: ".concat(Object(c.b)(r),";")),n.set("textData.more",1)),a.next=38;break;case 10:return d=n.get("textData.text"),l=n.get("ellipsisChar"),p=n.get("textData.lineNumber"),u=e.getContainerWidth(),a.next=16,e.getTextWidth(d);case 16:if(!((m=a.sent)>=u)){a.next=37;break}return h=Math.floor(d.length*u/m),h=p>1?h-5:h,g=d.substring(0,h)+l,a.next=23,e.getTextWidth(g);case 23:if(!((m=a.sent)>u)){a.next=33;break}case 25:if(!(m>u&&h>1)){a.next=33;break}return h--,g=d.substring(0,h)+l,a.next=30,e.getTextWidth(g);case 30:m=a.sent,a.next=25;break;case 33:n.set("textData.currentTextStr",g),n.set("textData.tempTextStr",g),a.next=38;break;case 37:n.set("textData.more",0);case 38:n.set("computed",!0);case 39:case"end":return a.stop()}}),a)})))()},getContainerWidth:function(){var t=this.data.get("textData.lineNumber")||2,e=this.el.getBoundingClientRect(),a=this.data.get("feature"),n=a.standardcard||a.standardcard_video?e.width*t:e.width*(t-.6);return this.data.set("containerWidth",n),n},getTextWidth:function(t){var e=this;return this.data.set("textData.tempTextStr",t),new Promise((function(a){e.ref("widget-text-ellipsis-placeholder").innerHTML=t,a(e.ref("widget-text-ellipsis-placeholder").getBoundingClientRect().width)}))},getTextHeight:function(t){var e=this;return new Promise((function(a){e.ref("widget-text-ellipsis-placeholder").innerHTML=t;var n=/Android/i.test(navigator.userAgent);setTimeout((function(){var t=e.ref("widget-text-ellipsis-placeholder").getBoundingClientRect().height;a(t)}),n?10:800)}))},toggleMore:function(t){if(!this.data.get("feature").standardcard){t.preventDefault(),t.stopPropagation();var e=this.data.get("textData.more"),a=this.data.get("moreStatus"),n=this.data.get("textData.text"),i=this.data.get("textData.tempTextStr"),s=this.data.get("textData.lineNumber"),o=this.data.get("textData.maxHeight");e&&(s?this.data.set("textData.currentTextStr",a?i:n):o&&this.data.set("styleText",a?"max-height: ".concat(Object(c.b)(o)):"max-height:auto;"),this.data.set("moreStatus",!a)),this.dispatch("scrollHandle")}}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{})({attached:function(){this.dispatch("component-tracking","widgets_consult")},consult:function(t){var e=this.data.get("card");t.stopPropagation(),this.dispatch("inputFocus",e)}})},function(t,e,a){"use strict";a.r(e);a(26),a(8),a(123);var n=a(0);e.default=n.connect.san({},{})({initData:function(){return{defaultConf:{auto:1,interval:5e3,guide:1,active:0,reverse:0,list:[]},data:{}}},attached:function(){this.dispatch("component-tracking","widgets_Carousel"),this.formatData(),this.data.get("data.total")>1&&this.autoNext()},formatData:function(){var t=this.data.get("defaultConf")||{},e=this.data.get("data")||{},a=void 0!==e.auto?e.auto:t.auto,n=void 0!==e.reverse?e.reverse:t.reverse,i=void 0!==e.interval?e.interval:t.interval,s=void 0!==e.guide?e.guide:t.guide,o=e.list||e.text,r=void 0!==o?o:t.list,c=r.active&&r.active<r.length?r.active:t.active,d=r.length;this.data.set("data",{auto:a,reverse:n,interval:i,guide:s,list:r,active:c,total:d})},autoNext:function(){var t=this,e=parseInt(this.data.get("data.interval"),10);this.timer=setInterval((function(){t.goNext()}),e)},goNext:function(){var t=Number(this.data.get("data.active")),e=this.getNext(t);this.data.set("data.active",e),this.data.set("data.prev",t)},getNext:function(t){var e=this.data.get("data.total");return e>1?(t+1)%e:t}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(1);e.default=n.connect.san({},{openXh:"openXh",bindXh:"bindXh",activeXh:"activeXh",logXh:"logXh",send:"SendMessage"})({attached:function(){"xh"===this.data.get("data").category&&this.actions.logXh("show")},operate:function(t,e){var a=e.tag;switch(a){case"openxh":this.actions.openXh(),this.actions.logXh("open");break;case"activexh":this.actions.activeXh(),this.actions.logXh("active");break;case"bindxh":this.actions.bindXh(),this.actions.logXh("bind");break;case"baozhang":var s=n.store.getState("baozhangUrl");this.jumpUrl(s);break;case"zlhx":case"homeDecoration":this.jumpUrl(e.url);break;case"suggestToManual":this.actions.send({source:"user",type:i.e.TEXT,content:e.btnText,trigger:a,sourceTag:a})}},jumpUrl:function(t){t&&this.dispatch("operate",{type:"notification",item:{type:"iframe",value:t}})}})},function(t,e,a){"use strict";a.r(e);a(316),a(205),a(17),a(8),a(6),a(97);var n=a(0),i=a(107),s=a.n(i);e.default=n.connect.san({touchpageXY:"touchpageXY",videoId:"videoId",mask:"mask.childcomponent"},{updateTouchMoving:"updateTouchMoving",updateVideoId:"updateVideoId"})({components:{"ui-text-ellipise-box":s.a},initData:function(){return{delay:3e3,status:"before",ended:!1}},attached:function(){var t=this;this.dispatch("component-tracking","widgets_video");var e=this.data.get("data"),a=e.id,i=e.duration;n.store.dispatch("video",{type:"video_show",id:a,duration:i});var s=this.getRef(),o=this.ref(s);o&&o.load&&o.load(),o&&o.addEventListener&&o.addEventListener("play",(function(e){t.data.get("ended")&&(o.currentTime=0,o.pause());var s=e.target.currentTime,r=parseFloat(s.toFixed(1));n.store.dispatch("video",{type:"video_play",id:a,duration:i,currentTime:r})}),!0),o&&o.addEventListener&&o.addEventListener("pause",(function(t){var e=t.target.currentTime,s=parseFloat(e.toFixed(1));n.store.dispatch("video",{type:"video_pause",id:a,duration:i,currentTime:s})}),!0),o&&o.addEventListener&&o.addEventListener("ended",(function(e){t.data.set("ended",!0),t.data.set("status","after"),t.from=!0;var s=e.target.currentTime,o=parseFloat(s.toFixed(1));n.store.dispatch("video",{type:"video_ended",id:a,duration:i,currentTime:o})}),!0),o&&o.addEventListener&&o.addEventListener("timeupdate",(function(e){t.updateTimeStamp=t.updateTimeStamp||0;var s=+new Date;if(s-t.updateTimeStamp>3e3){t.updateTimeStamp=s;var o=e.target.currentTime;(o=parseFloat(o.toFixed(1)))&&n.store.dispatch("video",{type:"video_timeupdate",id:a,duration:i,currentTime:o})}}),!0),this.watch("touchpageXY",(function(e){t.from=!1,"playing"===t.data.get("status")&&o&&t.dispatch("computeVideoInfo",o)}));var r=this.getUnique();this.watch("videoId",(function(e){e!==r&&t.videoReset()})),this.watch("display",(function(e){e||t.videoReset()})),this.watch("mask",(function(e){e&&t.videoReset()}))},updated:function(){var t=this;if(this.from){var e=this.data.get("status"),a=this.data.get("delay");"before"===e?this.timer&&clearTimeout(this.timer):"playing"===e?(this.videoScroll(),this.timer&&clearTimeout(this.timer)):"after"===e&&(this.timer=setTimeout((function(){if("playing"!==e&&(t.data.set("status","before"),t.from=!0),!t.data.get("spread")){var a=t.data.get("data");t.actions.updateTouchMoving(a.id)}}),a))}},playClick:function(t){this.data.set("ended",!1),this.data.set("status","playing"),this.from=!0;var e=this.getRef(),a=this.ref(e);a&&a.play&&a.play();var n=this.data.get("data"),i=n.id,s=n.duration,o=n.title;this.dispatch("chat-action",{type:"imlp",value:{type:"video",id:i,duration:s,text:'用户正在观看"'+o+'"视频'}});var r=this.getUnique();this.actions.updateVideoId(r)},videoScroll:function(){var t=this.getRef(),e=this.ref(t);if(e){var a=document.getElementsByClassName("imlp-component-chatview")[0],n=a&&a.getBoundingClientRect&&a.getBoundingClientRect()||{},i=e&&e.getBoundingClientRect&&e.getBoundingClientRect()||{},s=n.top-i.top,o=n.bottom-i.bottom;s>0&&(a&&(a.scrollTop-=Math.abs(s)),this.actions.updateTouchMoving(s.toString())),o<0&&(a&&(a.scrollTop+=Math.abs(o)),this.actions.updateTouchMoving(o.toString()))}},videoReset:function(){var t=this.getRef(),e=this.ref(t);e&&(e.currentTime=0),e&&e.pause&&e.pause(),this.data.set("status","before"),this.from=!0},getUnique:function(){return this.data.get("messageindex")+"-"+this.data.get("widgetindex")+"-"+this.data.get("card")+"-"+this.data.get("data").id},getRef:function(){var t=this.data.get("messageindex"),e=this.data.get("widgetindex");return"video-"+this.data.get("card")+"-"+t+"-"+e},filters:{getTitleObj:function(t){return{tag:"",text:t,lineNumber:2,source:"video"}}}})},function(t,e,a){"use strict";a.r(e);a(19),a(6),a(20),a(25),a(70),a(90),a(18),a(52);var n=a(0),i=a(128),s=a.n(i),o=a(106),r=a.n(o),c=a(129),d=a.n(c),l=a(130),p=a.n(l),u=a(167),m=a.n(u),h=a(250),g=a.n(h),f=a(661),v=a.n(f),x=a(91),b=a(27),y=a(168),w=a.n(y),k={1:"https://imlp-static.cdn.bcebos.com/img/goods-no1.png",2:"https://imlp-static.cdn.bcebos.com/img/goods-no2.png",3:"https://imlp-static.cdn.bcebos.com/img/goods-no3.png"};e.default=n.connect.san({},{setMask:"setMask"})({initData:function(){return{track:""}},components:{"ui-score":p.a,"ui-price":m.a,"ui-subtitle":s.a,"ui-tags":r.a,"ui-tagtext":d.a,"ui-button":g.a,"ui-row":v.a,"widget-description":w.a},attached:function(){this.dispatch("component-tracking","standard_detailbase"),this.getInfo(),this.updateActionUrl({yxtTitle:encodeURIComponent(this.data.get("track")),yx:1}),this.handleActionData("show")},updateActionUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.data.get("card"),a=this.data.get("data.action")||{};"url"===a.type&&a.value&&(5e3!==e&&5001!==e||this.data.set("data.action.value",x.a.getUrlWithImlpUrl(a.value,t)))},getInfo:function(){var t=this;((this.data.get("data")||{}).info||[]).forEach((function(e){e&&"subtitle"===e.type&&e.text&&t.data.set("track",e.text)}))},handleActionData:function(t,e){var a=this.data.get("goodsInfo"),i=a.isGoodsCard,s=a.action,o=a.text,r=a.name;if(i){e&&(e.preventDefault(),e.stopPropagation());var c=s.type,d=s.value,l=n.store.getState("ssid"),p=d&&"string"==typeof d&&d.includes("?")?"&":"?",u={content:{name:r,url:"".concat(d).concat(p,"source=5&ssid=").concat(l),detailUrl:d}};if("show"===t)u.type="show",u.value={material:"goods_show",url:d};else if("click"===t){if(!d)return void this.dispatch("ShowToast",{text:"该商品已下架"});u.type=null==s?void 0:s.type,u.value={material:"goods",url:d}}var m=o;this.dispatch("operate",{item:u,type:c,history:m})}},operate:function(t,e,a){if("detailbase"===a)this.handleActionData("click",t);else if("buttons"===a){t&&(t.preventDefault(),t.stopPropagation());var n=e.text;this.dispatch("operate",{type:"card",item:e,history:n})}},loadHandler:function(t,e){n.store.dispatch("resRetry",{event:t,isRetrySuccess:e})},computed:{imgRight:function(){var t=this.data.get("data.image.location"),e=this.data.get("isSlide");return"right"===t&&"slide"!==e},widgetDetailbaseAvatarStyle:function(){var t=this.data.get("data.image"),e=t.width,a=t.height,n=t.mark,i=t.icon,s="";return!n||"hotGoods"!==n&&"goods"!==n&&"customWidthAndHeight"!==n||(s+="width: ".concat(Object(b.a)(e),"; height: ").concat(Object(b.a)(a),";")),i&&(s+="overflow: visible;"),s},widgetDetailbaseAvatarImageStyle:function(){var t=this.data.get("data.image"),e=t.round,a=t.ratio,n="small"===this.data.get("theme"),i="";return a&&(i+="transform: scale(".concat(a,", ").concat(a,");")),i+=e||n?"border-radius: 50%;":"border-radius: ".concat(Object(b.a)(27),";")},goodsInfo:function(){var t,e=this.data.get("data"),a=e.image,n=e.action,i=e.info,s=void 0===i?[]:i;return{isGoodsCard:"goods"===(null==a?void 0:a.mark)||"hotGoods"===(null==a?void 0:a.mark),action:n,text:"hotGoods"===(null==a?void 0:a.mark)?"热门商品":"goods"===(null==a?void 0:a.mark)?"商品":"",name:null===(t=s.filter((function(t){return"description"===t.type}))[0])||void 0===t?void 0:t.text}},goodsIcon:function(){var t=this.data.get("data.image"),e=this.data.get("index")+1,a={visiable:!1};return"goods"===(null==t?void 0:t.mark)&&e<=3&&(a.visiable=!0,a.src=k[e]),a},widgetSplit:function(){var t=this.data.get("data.splitLine"),e=this.data.get("isLast"),a={splitClass:"",splitMarginClass:""};return 1===t&&!e&&(a={splitClass:"split-widget",splitMarginClass:"split-content"}),a}}})},function(t,e,a){"use strict";a.r(e);var n=a(92),i=a.n(n);e.default={components:{"ui-arrow":i.a},initData:function(){return{goodsHotBg:"https://imlp-static.cdn.bcebos.com/img/hot_goods_title_icon.png"}},attached:function(){this.dispatch("component-tracking","standard_subtitle")},isGoodsTitle:function(){return this.data.get("isGoodsTitle")}}},function(t,e,a){"use strict";a.r(e);a(26),a(18),a(0);var n=a(27),i=a(107),s=a.n(i);e.default={computed:{originStyle:function(){var t=this.data.get("data")||{},e=t.label,a=t.size,i=t.color;if(a){var s=parseInt(a,10)+8,o="font-size: ".concat(Object(n.a)(a),";line-height: ").concat(Object(n.a)(s));return e?o:"".concat(o," color: ").concat(i,";")}}},initData:function(){return{all:!1}},attached:function(){this.dispatch("component-tracking","standard_tagtext")},components:{"ui-text-ellipise-box":s.a}}},function(t,e,a){"use strict";a.r(e);a(26),a(205),a(37);var n=a(0);e.default=n.connect.san({},{})({initData:function(){},attached:function(){this.dispatch("component-tracking","standard_score")},filters:{star:function(t){var e=[],a=parseInt(t,10),n=t%1;n>.5?a++:n>0&&(a+=.5),t=a;for(var i=(t*=20)/20,s=0;s<5;s++){var o='<span class="widget-score-wrap-star-bg">';if(i>=s+1)o+="<span></span>";else if(i>s&&i<s+1){o+='<span style="width:'+(t%20*100/20).toFixed(1)+'%"></span>'}o+="</span>",e.push(o)}return e.join("")}}})},function(t,e,a){"use strict";a.r(e);a(70);var n=["HC27"];e.default={computed:{unit:function(){var t=this.data.get("data.unit");if(t)switch(t){case"2":return"$";case"empty":break;default:return"¥"}},suffix:function(){this.data.get("data");var t,e=this.data.get("style"),a=(null===(t=this.data.get("data"))||void 0===t?void 0:t.suffix)||"";return n.includes(e)?"".concat(a,"起"):a},high:function(){var t,e=this.data.get("style");return n.includes(e)?"":null===(t=this.data.get("data"))||void 0===t?void 0:t.high}},attached:function(){this.dispatch("component-tracking","standard_price")}}},function(t,e,a){"use strict";a.r(e);a(65);var n=a(0),i=a(1);e.default=n.connect.san({},{send:"SendMessage"})({filters:{themeFilter:function(t){return t||"default"}},initData:function(){return{buttonActiveStyle:""}},click:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.data.get("buttonActiveStyle");if(e&&!a){t&&(t.preventDefault(),t.stopPropagation());var s=e.type,o=e.message,r=e.value;if("showUserCard"===s){var c={content:o,source:i.f.USER,trigger:"card",sourceTag:"cardButton"};n.store.dispatch("SendMessage",Object.assign(c,{content_type:"text"})),n.store.dispatch("AddMessageToChatView",Object.assign(c,{content_type:"card",card:r})),this.data.set("buttonActiveStyle","opacity:0.5;")}}}})},function(t,e,a){"use strict";a.r(e);var n=a(128),i=a.n(n),s=a(106),o=a.n(s),r=a(129),c=a.n(r),d=a(130),l=a.n(d);e.default={components:{"ui-subtitle":i.a,"ui-tags":o.a,"ui-tagtext":c.a,"ui-score":l.a},attached:function(){this.dispatch("component-tracking","standard_row")}}},function(t,e,a){"use strict";a.r(e);a(12),a(35);var n=a(0),i=a(107),s=a.n(i);e.default=n.connect.san({},{})({initData:function(){return{all:!1}},attached:function(){this.dispatch("component-tracking","standard_description")},filters:{format:function(t){return t.split("<em>").length-1!==t.split("</em>").length-1?t=t.replace(/(<em>)|(<\/em>)/g,""):(t=(t=t.replace(/(<em>)/g,'<span class="imlp-high-light-content">')).replace(/(<\/em>)/g,"</span>")).split("<strong>").length-1!==t.split("</strong>").length-1?t=t.replace(/(<strong>)|(<\/strong>)/g,""):(t=(t=t.replace(/(<strong>)/g,'<span class="imlp-high-light-content-bold">')).replace(/(<\/strong>)/g,"</span>")).replace(/\n/g,"<br>")}},components:{"ui-text-ellipise-box":s.a}})},function(t,e,a){"use strict";a.r(e);a(0);var n=a(662),i=a.n(n),s=a(663),o=a.n(s);e.default={components:{"common-consult":i.a,"brand-consult":o.a}}},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default={attached:function(){var t=this.data.get("data.heatType"),e=this.data.get("data.text");n.store.dispatch("sendLog",{type:"cardBottomShow",content:e&&!t?"forMoreDetails":"sevenDaysAccumulated"})},consult:function(t){var e=this.data.get("card");t.stopPropagation(),this.dispatch("inputFocus",e)},consultLog:function(){var t=this.data.get("data.heatType"),e=this.data.get("data.text");n.store.dispatch("sendLog",{type:"cardBottomClick",content:e&&!t?"forMoreDetails":"sevenDaysAccumulated"})}}},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{})({initData:function(){},attached:function(){var t=((this.data.get("data").brandRight||{}).action||{}).message;if(t){var e={type:"onClick",data:{type:"system",ext:{tag:"card",history:t,connected:1,from:"imlp"}}};n.store.dispatch("saveDxdCardInfo",e)}},operate:function(t,e){if("button"===e.type){t&&(t.preventDefault(),t.stopPropagation());var a=e.action||{};a.imlpStart&&n.store.dispatch("ConnectNet");var i=a.type,s=a.message,o={type:"onClick"},r=this.data.get("subtitle");if(o.data={type:"card",ext:{tag:"xyl_history",history:'该访客在咨询页点击了标题为"'+r+'"的卡片/按钮',connected:1,from:"imlp"}},n.store.dispatch("ChatAction",{value:o.data,type:"onClick"}),"showUserCard"===i&&s){var c={content:s,content_type:"card",source:"user",trigger:"card",card:a.value,sourceTag:"cardButton"};n.store.dispatch("SendMessage",c)}else"showUserCard"===i&&n.store.dispatch("AddMessageToChatView",a.value)}}})},function(t,e,a){"use strict";a.r(e);var n=a(51),i=a.n(n),s=(a(12),a(53),a(18),a(8),a(0)),o=a(27);e.default=s.connect.san({},{sendLog:"sendLog"})({initData:function(){return{imageWidth:1062,imageCount:0,timer:null,transition:"all 1s",transform:"",startX:0,isiOS:!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},computed:{isSlide:function(){return this.data.get("data.list").length>1},list:function(){var t=this.data.get("data.list");return[].concat(i()(t),[t[0]])},imagesWidth:function(){return Object(o.a)(this.data.get("list").length*this.data.get("imageWidth"))},isTheFinal:function(){return this.data.get("imageCount")===this.data.get("list").length-1}},attached:function(){this.dispatch("component-tracking","standard_slider"),this.play()},play:function(){var t=this;if(this.data.get("isSlide")){var e=setInterval((function(){if(!1===t.data.get("isTheFinal")){var e=t.data.get("imageCount");"none"===t.data.get("transition")&&t.data.set("transition","all 1s"),e++,t.data.set("transform","translate(".concat(Object(o.a)(-t.data.get("imageWidth")*e),")")),t.data.set("imageCount",e)}else t.data.set("transition","none"),t.data.set("transform","translate(0px)"),t.data.set("imageCount",0)}),3e3);this.data.set("timer",e)}},pause:function(){clearTimeout(this.data.get("timer"))},touchstartHandler:function(t){this.data.get("isSlide")&&(this.pause(),this.data.set("startX",t.changedTouches[0].clientX))},touchendHandler:function(t){var e=this,a=this.data.get("imageWidth");if(this.data.get("isSlide")){var n=t.changedTouches[0].clientX,i=this.data.get("imageCount"),s=this.data.get("list").length,r=0;n-this.data.get("startX")>=0?--i<0&&(r=1,i=s-1):++i===s&&(r=2,i=0);var c=this.data.get("isiOS");1===r?(this.data.set("transition","none"),this.data.set("transform","translate(".concat(Object(o.a)(-a*(s-1)),")")),c&&(i--,this.nextTick((function(){e.data.set("transition","all 1s"),e.data.set("transform","translate(".concat(Object(o.a)(-a*i),")"))})))):2===r?(this.data.set("transition","none"),this.data.set("transform","translate(0px)"),c&&(i++,this.nextTick((function(){e.data.set("transition","all 1s"),e.data.set("transform","translate(".concat(Object(o.a)(-a*i),")"))})))):(this.data.set("transition","all 1s"),this.data.set("transform","translate(".concat(Object(o.a)(-a*i),")"))),this.data.set("imageCount",i),this.play()}},click:function(){this.actions.sendLog({type:"slider_exp",content:"slider"})}})},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","standard_image")}}},function(t,e,a){"use strict";a.r(e),e.default={}},function(t,e,a){"use strict";a.r(e);a(8),a(17),a(6),a(97),a(26);var n=a(0);function i(){var t="key";return t+=(new Date).getTime().toString(16),t+=parseInt(1e6*Math.random(),10).toString(16)}e.default=n.connect.san({videoId:"videoId",touchpageXY:"touchpageXY",app:"pageInfo.app"},{updateTouchMoving:"updateTouchMoving",updateVideoId:"updateVideoId"})({initData:function(){return{srcollPercent:.4,playBackText:"本视频仅作知识科普不作就医参考，如有异议请向院方反馈"}},attached:function(){var t=this;this.dispatch("component-tracking","standard_videoBase"),this.watch("videoId",(function(e){t.data.get("videoInfo").refkey!==e&&t.getVideo().pause()}));var e=null,a=this,n=0;this.watch("touchpageXY",(function(t){clearTimeout(n),n=setTimeout((function(){!function(){if(!(e=e||a.getVideo())||e.paused)return;a.videoIsScrollOut()&&e.pause()}()}),300)})),this.initVideo(),this.videoLog("video_show")},computed:{cardClass:function(){var t=this.data.get("video.statue"),e="";return"play"===t?e="widget-videobase-play":"end"===t?e="widget-videobase-end":"replay"===t&&(e="widget-videobase-replay"),e},videoInfo:function(){var t=this.data.get("data.data")||{},e="standard"===this.data.get("app")?"":this.data.get("playBackText");return{id:t.id,title:t.title,tips:t.playBackText||e,source:t.video,poster:t.cover,refkey:i(),duration:t.duration,category:t.category,capacity:t.capacity}}},initVideo:function(){for(var t=this.getVideo(),e=["loadstart","progress","suspend","abort","error","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],a=this,n=0;n<e.length;n++){var i=e[n];t.addEventListener(i,(function(t){var e=t.type;"ended"===e?(a.playEnd(this),a.videoLog("video_ended")):"play"===e?(a.videoOnPlay(this),a.videoLog("video_play")):"pause"===e&&a.videoLog("video_pause"),a.timeupdate(e)}))}},timeupdate:function(t){if("ended"!==t&&"pause"!==t){if("timeupdate"===t){this.updateTimeStamp=this.updateTimeStamp||0;var e=+new Date;e-this.updateTimeStamp>3e3&&(this.updateTimeStamp=e,this.videoLog("video_timeupdate"))}}else this.videoLog("video_timeupdate")},videoContentClick:function(t){t.stopPropagation()},play:function(t){try{clearTimeout(this.timeoutKey||0),t.stopPropagation()}catch(t){}var e=this.getVideo(),a=this.data.get("videoInfo"),n=this.data.get("videoInfo").refkey;this.actions.updateVideoId(n),this.data.set("video.statue","play"),e.play(),this.dispatch("chat-action",{type:"imlp",value:{type:"video",id:a.id,duration:a.duration,currentTime:e.currentTime,text:'用户正在观看"'+a.title+'"视频',videoUrl:a.source}})},videoIsScrollOut:function(){var t=!1;this.chatViewDom||(this.chatViewDom=document.querySelector(".imlp-component-chatview"));var e=this.chatViewDom;if(e&&e.getBoundingClientRect){var a=e.getBoundingClientRect(),n=this.el.getBoundingClientRect(),i=n.height,s=(a.top-n.top)/i,o=(n.bottom-a.bottom)/i,r=this.data.get("srcollPercent");(n.top<a.top&&s>=r||n.bottom>a.bottom&&o>=r)&&(t=!0)}return t},videoOnPlay:function(t){"play"!==this.data.get("video.statue")&&t.pause();var e=this.data.get("videoInfo").refkey;if(this.actions.updateVideoId(e),this.videoIsScrollOut()){var a=this.chatViewDom;if(a&&a.getBoundingClientRect){var n=a.getBoundingClientRect(),i=this.el.getBoundingClientRect();i.top<n.top?a.scrollTop-=n.top-i.top+10:i.bottom>n.bottom&&(a.scrollTop+=i.bottom-n.bottom+10)}}},playEnd:function(t){this.data.set("video.statue","end")},getVideo:function(){var t=this.data.get("videoInfo").refkey;return this.ref(t)},consult:function(t){var e=this.data.get("card");t.stopPropagation(),this.dispatch("inputFocus",e)},videoLog:function(t){var e=document.visibilityState;if(!e||"visible"===e){var a=this.data.get("videoInfo"),i=this.getVideo(),s=0;try{s=i.currentTime}catch(t){}var o={type:t,id:a.id,duration:a.duration,currentTime:s,videoUrl:a.source};n.store.dispatch("video",o)}},loadHandler:function(t,e){n.store.dispatch("resRetry",{event:t,isRetrySuccess:e})}})},function(t,e,a){"use strict";a.r(e);a(73),a(64),a(52),a(78),a(19),a(20),a(87),a(88),a(89);var n=a(9),i=a.n(n),s=a(51),o=a.n(s),r=(a(18),a(25),a(6),a(65),a(123),a(8),a(12),a(35),a(0)),c=a(92),d=a.n(c),l=a(253),p=a.n(l),u=a(1);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.default=r.connect.san({expParam:"expParam"},{setMask:"setMask",tabChange:"tabChange",updateText:"UpdateTypeBoxInput",hasTitle:!0,updateSourceTag:"updateSourceTag",tabBtnClick:"tabBtnClick"})({components:{"ui-arrow":d.a,"popup-form":p.a},initData:function(){return{clickIndex:-1,info:[],descData:"",hasTitle:!0,carouselConf:{interval:2200,prev:null,active:0,total:0},orderPhone:u.i.ORDER_PHONE,orderMeet:u.i.ORDER_MEET}},computed:{title:function(){var t=this.data.get("from")||"",e=this.data.get("data.title")||"",a=this.data.get("data.info").length,n=this.data.get("data.info");return a>1?e:"standardpopup"===t?"":e+n[0].title},bottom:function(){var t=this.data.get("clickIndex"),e=(this.data.get("info")||[])[t]||{},a=e.bottom,n=void 0===a?{}:a;if(!e)return null;var i=n.data&&n.data.btnList||[];return 2===i.length&&(n.data.btnList=[].concat(o()(i),o()(i))),"zixun"===n.name||"bottomzixun"===n.type?n.data:null},content:function(){var t=this.data.get("clickIndex"),e=(this.data.get("info")||[])[t];if(!e)return{};if(e.text)return{type:"text",data:e.text,isArr:!1};var a=e.content||{},n="[object Array]"===Object.prototype.toString.call(a.data);return h(h({},a),{},{isArr:n})}},attached:function(){this.dispatch("component-tracking","tabsCard");for(var t=this.data.get("clickIndex"),e=this.data.get("data").info,a=0;a<e.length;a++)if(1===e[a].selected||"1"===e[a].selected){t=a;break}-1===t&&(t=0),this.data.set("clickIndex",t);var n=this.data.get("data.title")||"";this.data.set("hasTitle",n.length>0?"":"noTitle"),this.data.set("info",e),this.autoNext()},tabclick:function(t){var e=this.data.get("from")||"",a=t.target.dataset.index;this.data.get("data").info;this.data.set("clickIndex",a);var n=t.target.dataset.tab,i={type:"tab_change",content:this.data.get("info")[a].log,index:a,text:n,from:e};this.actions.tabChange(i),this.timer&&(clearInterval(this.timer),this.autoNext())},textclick:function(t){var e=this.data.get("clickIndex"),a=this.data.get("info"),n=a[e].action||{},i=a[e].log,s=a[e].text,o=Object.assign(i,{subtitle:s}),r={type:n.type,value:o};"popup"===n.type&&n.value&&this.actions.setMask({show:!0,childcomponent:"standardpopup",data:n.value.content}),this.dispatch("operate",{item:r,type:"standardcard",history:s})},consult:function(t,e){var a=this.data.get("info"),n=this.data.get("clickIndex"),i=a[n].bottom||{},s=i.data&&i.data.text||"",o=a[n].log;o.text=s,this.dispatch("inputFocus",o),this.actions.tabBtnClick({content:o,from:e}),this.actions.updateText(t),this.actions.updateSourceTag("tabs-card-consult")},autoNext:function(){var t=this,e=(this.data.get("bottom")||{}).btnList||[];if(0!==e.length){this.data.set("carouselConf.total",e.length);var a=this.data.get("expParam")||{},n=this.data.get("carouselConf"),i=a.imlp_tabscard_carousel_time,s=Number(i)?Number(i):n.interval;this.timer=setInterval((function(){t.goNext()}),s)}},goNext:function(){var t=Number(this.data.get("carouselConf.active")),e=this.getRemainder(t);this.data.set("carouselConf.active",e),this.data.set("carouselConf.prev",t)},getRemainder:function(t){var e=this.data.get("carouselConf.total");return e>1?(t+1)%e:t},filters:{formatDesc:function(t){return t?t=t.split("<em>").length-1!==t.split("</em>").length-1?t.replace(/(<em>)|(<\/em>)/g,""):(t=(t=(t=(t=t.replace(/(\n)+/g,"<br>")).replace(/<p><br><\/p>/g,"")).replace(/(<em>)/g,'<span class="imlp-high-light-content">')).replace(/(<\/em>)/g,"</span>")).split("<strong>").length-1!==t.split("</strong>").length-1?t.replace(/(<strong>)|(<\/strong>)/g,""):(t=t.replace(/(<strong>)/g,'<span class="imlp-high-light-content-bold">')).replace(/(<\/strong>)/g,"</span>"):t}}})},function(t,e,a){"use strict";a.r(e);var n=a(29),i=a.n(n),s=a(14),o=a.n(s),r=(a(460),a(25),a(70),a(90),a(19),a(6),a(20),a(42),a(18),a(0)),c=(a(346),a(114)),d=a(66),l=a(1),p=a(31),u=a(3);e.default=r.connect.san({phoneData:"phoneData",passPhoneData:"passPhoneData",presetMessage:"presetMessage",query:"query",popupFormSubmited:"popupFormSubmited",popupFormAgreeSubmited:"popupFormAgreeSubmited"},{showToast:"ShowToast",setMask:"setMask",sendLog:"sendLog"})({initData:function(){return{prefix:"imlp-popup-form",phoneNumber:"",useUserPhoneNumber:!1,selectedLabels:[],consultIntention:"",orderTime:"",privacyAgreementUrl:"https://fe-resource.cdn.bcebos.com/mip/fengming/form/Interactive_optimization_of_privacy_protocol_corresponding.html",orderPhonePlaceHolder:"可简述您希望了解的内容，或期望来电时间等（最多150字）",orderMeetPlaceHolder:"可简述您希望了解的内容（最多150字）",agree:!1,btnStatus:"default"}},attached:function(){var t,e=this.data.get(),a=e.phoneData,n=(e.passPhoneData,e.popupFormAgreeSubmited),i=e.isGetPrice,s=e.labels,o=null==a?void 0:a.codedPhoneNumber;if(o&&(this.data.set("phoneNumber",o),this.data.set("useUserPhoneNumber",!0),n&&this.data.set("agree",n)),i){var r=s.length;this.data.set("selectedLabels",Array(r).fill(!1)),this.data.set("selectedLabels[0]",!0)}var c=null===(t=(this.data.get("presetMessage")||{}).config)||void 0===t?void 0:t.open;this.data.get("query")&&c===l.p.OPEN&&this.data.set("consultIntention",this.data.get("query"))},computed:{type:function(){return this.data.get("data.type")},labels:function(){return this.data.get("data.labels")},operatorName:function(){var t,e=this.data.get("phoneData");return(null===(t=c.a.operatorMap[null==e?void 0:e.operator])||void 0===t?void 0:t.name)||""},operatorUrl:function(){var t,e=this.data.get("phoneData");return(null===(t=c.a.operatorMap[null==e?void 0:e.operator])||void 0===t?void 0:t.url)||""},needTime:function(){var t=[l.i.ORDER_MEET],e=this.data.get("data.type");return t.includes(e)},isGetPrice:function(){return this.data.get("type")===l.i.GET_PRICE},isOrder:function(){var t=[l.i.ORDER_PHONE,l.i.ORDER_MEET],e=this.data.get("data.type");return t.includes(e)},textAreaPlaceHolder:function(){var t=this.data.get("type"),e=this.data.get("orderPhonePlaceHolder"),a=this.data.get("orderMeetPlaceHolder");return"orderPhone"===t?e:a},requiredValidateFailed:function(){var t=this.data.get("isGetPrice"),e=this.data.get("selectedLabels"),a=this.data.get("needTime"),n=this.data.get("orderTime"),i=this.data.get("useUserPhoneNumber"),s=this.data.get("phoneNumber");return t&&!e.includes(!0)||a&&!n||!i&&!s},agreeValidateFailed:function(){var t=this.data.get("useUserPhoneNumber"),e=this.data.get("agree");return t&&!e},buttonDisabled:function(){return this.data.get("requiredValidateFailed")||this.data.get("agreeValidateFailed")}},clickLabel:function(t){this.data.set("selectedLabels[".concat(t,"]"),!this.data.get("selectedLabels[".concat(t,"]")))},delPhone:function(){this.data.set("phoneNumber",""),this.data.set("useUserPhoneNumber",!1)},checkToggle:function(){this.data.set("agree",!this.data.get("agree"))},jump:function(t){this.dispatch("chat-action",{type:"typeBox",value:{type:"url",value:t}})},jumpProtectionStatement:function(){this.actions.setMask({}),this.jump(this.data.get("privacyAgreementUrl"))},jumpServiceTerms:function(){this.actions.setMask({}),this.jump(this.data.get("operatorUrl"))},onSubmit:function(){var t=this;return i()(o.a.mark((function e(){var a,n,i,s,c,d,m,h,g,f,v,x,b,y,w,k,S,C,T,M,I,B,P;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validate()&&"loading"!==t.data.get("btnStatus")){e.next=2;break}return e.abrupt("return");case 2:if(t.data.set("btnStatus","loading"),a=t.data.get(),n=a.type,i=a.phoneNumber,s=a.useUserPhoneNumber,a.passPhoneData,c=a.isGetPrice,d=a.selectedLabels,m=a.labels,h=a.isOrder,g=a.consultIntention,f=a.orderTime,v=a.popupFormSubmited,x=a.popupFormAgreeSubmited,b="",y={title:"",subtitle:"隐私保护",content:[{key:"联系方式",value:i}]},w={type:n,usePhoneType:s?"phoneNumber":"input"},k=i,!s){e.next=27;break}return e.prev=9,e.next=12,p.g.getToken();case 12:if(S=e.sent,C=S.data.token){e.next=17;break}return t.errToast(),e.abrupt("return");case 17:return e.next=19,p.g.getDecodePhoneNumber({token:C});case 19:T=e.sent,k=T.data.phone,e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(9),t.errToast(),e.abrupt("return");case 27:c?(M="",d.forEach((function(t,e){t&&(M+="".concat(m[e],"、"))})),M=M.slice(0,-1),b="【提交项目报价单】联系方式：".concat(k,";咨询").concat(M,"的项目价格"),y.title="获取项目报价",y.content.push({key:"项目名称",value:M}),w.labels=M):h&&(B="",P="",n===l.i.ORDER_PHONE?(I="电话沟通",y.title="预约电话回访"):(I="到院面诊",B="预约时间：".concat(u.a.formatDateTime(f),";"),y.title="预约到院面诊",y.content.push({key:"预约时间",value:u.a.formatDateTime(f)})),g&&(P="咨询意向-".concat(g,";"),y.content.push({key:"咨询意向",value:g}),w.consultIntention=g),b="我的预约信息：预约类型-".concat(I,";联系方式：").concat(k,";").concat(B).concat(P)),r.store.dispatch("SendMessage",{source:"user",type:l.e.TEXT,content:b,sourceTag:n,content_type:"text",showType:"messageCard",card:y}),t.actions.sendLog({type:"popupFormSumbit",content:w}),!v&&r.store.dispatch("updatePopupSubmitStatus"),s&&!x&&r.store.dispatch("updatePopupFormAgreeStatus"),t.actions.setMask({});case 33:case"end":return e.stop()}}),e,null,[[9,23]])})))()},errToast:function(){this.data.set("btnStatus","default"),this.actions.showToast({text:"发送失败，请重新提交或尝试手动输入联系方式"})},timeClick:function(t){t&&t.stopPropagation()},validate:function(){var t=this.data.get(),e=t.phoneNumber,a=t.requiredValidateFailed,n=t.agreeValidateFailed,i=t.useUserPhoneNumber,s="";return a?s="请完整填写您的信息":n?s="请先勾选同意协议条款":i||Object(d.b)(e)||(s="手机号码格式不正确"),!s||(this.actions.showToast({text:s}),!1)}})},,function(t,e,a){"use strict";a.r(e);var n=a(9),i=a.n(n),s=(a(25),a(8),a(73),a(64),a(52),a(6),a(78),a(19),a(20),a(87),a(88),a(89),a(0)),o=a(114),r=a(31),c=(a(28),a(1));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.default=s.connect.san({phoneData:"phoneData",localPhoneTitle:"localPhoneTitle",hasPhoneCardClosed:"hasPhoneCardClosed",userHasLeads:"usrHasLeads",passPhoneData:"passPhoneData"},{showToast:"ShowToast",addMessageToChatView:"AddMessageToChatView",send:"SendMessage",sendLog:"sendLog",updateHasPhoneCardClosed:"updateHasPhoneCardClosed"})({computed:{operatorName:function(){var t,e=this.data.get("phoneData");return(null===(t=o.a.operatorMap[null==e?void 0:e.operator])||void 0===t?void 0:t.name)||""},operatorUrl:function(){var t,e=this.data.get("phoneData");return(null===(t=o.a.operatorMap[null==e?void 0:e.operator])||void 0===t?void 0:t.url)||""},codedPhoneNumber:function(){var t=this.data.get("phoneData"),e=this.data.get("passPhoneData");return null!=t&&t.codedPhoneNumber?null==t?void 0:t.codedPhoneNumber:null==e?void 0:e.phone},isExpired:function(){return this.data.get("userHasLeads")},isShowPassCard:function(){var t;return null===(t=this.data.get("passPhoneData"))||void 0===t?void 0:t.phone}},log:function(t){var e=this.data.get("isShowPassCard");this.actions.sendLog({type:t,content:this.data.get("type"),ext:{cardType:e?"pass":"local"}})},initData:function(){return{prefix:"imlp-component-user-phone-card",check:"off",btnStatus:"off",visible:!0,btnText:"发送",privacyAgreementUrl:"https://fe-resource.cdn.bcebos.com/mip/fengming/form/Interactive_optimization_of_privacy_protocol_corresponding.html"}},attached:function(){var t=this,e=this.data.get("codedPhoneNumber");"on"===(this.getStorage()[e]?"on":"off")&&setTimeout((function(){t.data.set("check","on"),t.data.set("btnStatus","on")}))},setStorage:function(t,e){var a=this.getStorage();t&&sessionStorage.setItem("userPhoneCheckedMaps",JSON.stringify(l(l({},a),{},i()({},t,e))))},getStorage:function(){return JSON.parse(sessionStorage.getItem("userPhoneCheckedMaps")||"{}")},checkToggle:function(){"off"===this.data.get("check")?(this.data.set("check","on"),this.data.set("btnStatus","on"),this.setStorage(this.data.get("codedPhoneNumber"),!0),this.log("userPhoneCardEmpowerOn")):(this.data.set("check","off"),this.data.set("btnStatus","off"),this.setStorage(this.data.get("codedPhoneNumber"),!1),this.log("userPhoneCardEmpowerOff"))},sendMsg:function(){var t=this;if(this.data.set("btnStatus","loading"),this.data.get("isShowPassCard"))return this.data.set("visible",!1),void this.sendPassPhoneMsg();r.g.getToken().then((function(e){var a=e.data.token;a?r.g.getDecodePhoneNumber({token:a}).then((function(e){var a=e.data.phone;a?(t.data.set("btnStatus","on"),t.data.set("visible",!1),t.sendPhoneNmuberMsg(a)):t.sendMsgErrTip()})).catch((function(e){t.sendMsgErrTip()})):t.sendMsgErrTip()}))},sendPassPhoneMsg:function(){var t,e,a=null===(t=this.data.get("passPhoneData"))||void 0===t?void 0:t.phone,n=null===(e=this.data.get("passPhoneData"))||void 0===e?void 0:e.secret;this.actions.send({source:"user",type:c.e.TEXT,sourceTag:"local-phone-pass",card:a,content:n}),this.log("userPhoneCardSend")},sendMsgErrTip:function(){this.actions.showToast({text:"发送失败请重试"}),this.data.set("btnStatus","on"),this.data.set("btnText","重试")},sendPhoneNmuberMsg:function(t){this.actions.send({source:"user",type:c.e.TEXT,sourceTag:"local-phone",card:this.data.get("codedPhoneNumber"),content:"我的联系方式：".concat(t)}),this.log("userPhoneCardSend")},closeCard:function(){this.data.set("visible",!1);this.data.get("isShowPassCard");this.actions.updateHasPhoneCardClosed(),this.log("userPhoneCardClose")},jump:function(t){this.dispatch("chat-action",{type:"typeBox",value:{type:"url",value:t}})},jumpProtectionStatement:function(){this.jump(this.data.get("privacyAgreementUrl"))},jumpServiceTerms:function(){this.jump(this.data.get("operatorUrl"))},sendMsgError:function(){this.actions.showToast({text:"请先勾选同意协议条款"})}})},function(t,e,a){"use strict";a.r(e);a(8);var n=a(0),i=a(169),s=a.n(i);e.default=n.connect.san({couponInfo:"couponInfo"},{setMask:"setMask"})({initData:function(){return{couponData:{}}},components:{"widget-image":s.a},attached:function(){var t=this;this.dispatch("component-tracking","standard_couponBase"),this.watch("couponInfo",(function(e){var a=e[t.data.get("data").info[0].solutionId];t.data.set("couponData",a)})),n.store.getState("isNeedScrollToBottom")&&setTimeout((function(){n.store.dispatch("ChatViewScrollToBottom")}),250)},computed:{hasImg:function(){return this.data.get("data.image.src")},hasGetCoupon:function(){return(this.data.get("couponData")||{}).hasGetCoupon},useTime:function(){return(this.data.get("couponData")||{}).couponUseTime},couponName:function(){return(this.data.get("couponData")||{}).couponName}},getCoupon:function(t){var e=n.store.getState("couponInfo")[this.data.get("data").info[0].solutionId]||{},a=e.takeLimit;this.data.get("hasGetCoupon")&&1===a?n.store.dispatch("setMask",{show:!0,childcomponent:"couponmaskSuccess",data:e}):n.store.dispatch("setMask",{show:!0,childcomponent:"couponmask",data:e}),n.store.dispatch("couponCardBtnClick","coupon-card")}})},function(t,e,a){"use strict";a.r(e);a(19),a(6),a(20),a(18),a(37);var n=a(0),i=a(81),s=a(144);e.default=n.connect.san({},{})({initData:function(){return{starsList:[1,2,3,4,5],currentIndex:-1,hasSendEvaluate:!1,reasonContent:[],allReasonList:{},feedback:"",feedbackWordLimit:500}},attached:function(){this.data.set("allReasonList",i.b)},computed:{reasonList:function(){var t=this.data.get("currentIndex"),e=this.data.get("allReasonList")||{},a=[];return t>2?a=e.goodReasonList:2===t?a=e.normalReasonList:t<2&&(a=e.badReasonList),a},evaluateGrade:function(){var t=this.data.get("currentIndex");return t>-1?["太差了","差","一般","好","非常好"][t]:"点击星星进行评价"},iconState:function(){return this.data.get("currentIndex")<3?"down":"up"},pushEvaluateState:function(){var t=this.data.get("currentIndex"),e=this.data.get("reasonList")||[],a=!1;return e.forEach((function(t){t.hasClicked&&(a=!0)})),t>-1&&a},feedbackWordCount:function(){return this.data.get("feedback").length}},clickStar:function(t){this.data.set("currentIndex",t),this.data.set("allReasonList",i.b),n.store.getState("isNeedScrollToBottom")&&n.store.dispatch("ChatViewScrollToBottom")},clickReason:function(t){var e,a=this.data.get("currentIndex");a>2?e="goodReasonList":2===a?e="normalReasonList":a<2&&(e="badReasonList");var n=!this.data.get("allReasonList")[e][t].hasClicked;this.data.set("allReasonList.".concat(e,"[").concat(t,"].hasClicked"),n)},sendEvaluate:function(){var t=n.store.getState("user_id"),e=n.store.getState("bcpSessionId");if(Object(s.a)(t,i.a.USERID)&&Object(s.a)(e,i.a.SSID)){if(this.data.get("pushEvaluateState")){var a=this.data.get("currentIndex"),o=this.data.get("reasonList")||[],r=[];o.forEach((function(t){t.hasClicked&&r.push(t.text)}));var c=this.data.get("feedback");this.data.set("reasonContent",r);var d=this.data.get("data.triggerType");n.store.dispatch("sendEvaluateClick",{grade:a+1,value:r.join(","),feedback:c,triggerType:d}),n.store.dispatch("saveEvaluationContext",{score:a+1,text:c,tags:r}),this.data.set("hasSendEvaluate",!0)}}else n.store.dispatch("ShowToast",{text:"已达到评价次数上限啦"})}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(672),s=a.n(i);e.default=n.connect.san({},{})({initData:function(){return{prefix:"imlp-standard-plan-card-base"}},components:{"project-card-base":s.a}})},function(t,e,a){"use strict";a.r(e);a(160),a(6);var n=a(0),i=a(13),s=a(1);e.default=n.connect.san({getPriceBlackList:"expParam.imlp_get_price_black_list"},{setMask:"setMask",updateFixedState:"updateFixedAction",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",updateText:"UpdateTypeBoxInput",updateSourceTag:"updateSourceTag",sendLog:"sendLog"})({initData:function(){return{prefix:"imlp-standard-project-card-base",popupClicked:"popup_click",consultButtonClicked:"consult_button_click",projectName:"项目PK",priceDetail:"价格详情"}},operate:function(t){var e=this.data.get("project")||{},a=this.data.get("popupClicked"),n=e.action,i=e.log;this.actions.setMask({show:!0,childcomponent:"standardpopup",data:n.value.content}),this.actions.decideIsNeedScrollToBottom(!1),this.actions.updateFixedState(!1),this.actions.sendLog({type:a,content:i})},send:function(t){t&&(t.preventDefault(),t.stopPropagation());this.data.get("project");var e=this.data.get("consultButtonClicked"),a=this.data.get("projectName"),o=this.data.get("priceDetail"),r=this.target(a,"value"),c=this.target(o,"log");if(this.data.get("getPriceBlackList")){var d="我想咨询下".concat(r,"项目的价格");n.store.dispatch("inputFocus"),this.actions.updateText(d),this.actions.updateSourceTag("plan-card-consult")}else{var l=this.target(o,"projectNameList"),p=i.a.formatPopupForm(s.i.GET_PRICE,l);this.actions.setMask({show:!0,childcomponent:"standardpopup",data:p})}this.actions.sendLog({type:e,content:c})},target:function(t,e){var a=((this.data.get("project")||{}).columnList||[]).find((function(e){return e.key===t}))||{};return a[e]||""}})},function(t,e,a){"use strict";a.r(e);a(18);var n=a(107),i=a.n(n);e.default={dealData:function(t){var e=t.title,a=t.text;return t.text='<div class="widget-project-desc-card-feature-text"><span>'.concat(e,"：</span>").concat(a,"</div>"),t},components:{"ui-text-ellipise-box":i.a}}},function(t,e,a){"use strict";a.r(e),e.default={}},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(13),s=a(1);e.default=n.connect.san({getPriceBlackList:"expParam.imlp_get_price_black_list"},{updateText:"UpdateTypeBoxInput",updateSourceTag:"updateSourceTag",sendLog:"sendLog",setMask:"setMask"})({operate:function(t,e){if(t&&(t.preventDefault(),t.stopPropagation()),this.data.get("getPriceBlackList"))n.store.dispatch("inputFocus"),this.actions.updateText(e.detail),this.actions.updateSourceTag(e.type);else{var a=i.a.formatPopupForm(s.i.GET_PRICE,e.projectNameList);this.actions.setMask({show:!0,childcomponent:"standardpopup",data:a})}this.actions.sendLog({type:e.type,content:e.log})}})},function(t,e,a){"use strict";a.r(e);a(25);var n=a(0),i=a(31),s=a(47);e.default=n.connect.san({},{sendLog:"sendLog"})({initData:function(){return{prefix:"imlp-standard-guide-group"}},attached:function(){},computed:{groupTitle:function(){var t=this.data.get("data.groupInfos")||[];return t.length&&t.length>1?"共".concat(t.length,"个群聊"):t[0].name}},join:function(){var t=this,e=this.data.get("data.groupInfos")||[];if(1===e.length)i.e.openJoinFanGroupPage({source:"10",groupId:e[0].groupId}).then((function(e){t.actions.sendLog({type:"click",content:"group"})})).catch((function(e){t.actions.sendLog({type:"fe-error",content:"group"})}));else if(e.length>1){var a=this.data.get("data.url");Object(s.b)()?window.top.location.href=a:location.href=a,this.actions.sendLog({type:"click",content:"group_list"})}}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(13),s=a(1);e.default=n.connect.san({},{tabBtnClick:"tabBtnClick",setMask:"setMask",updateText:"UpdateTypeBoxInput",updateSourceTag:"updateSourceTag"})({click:function(t,e){t&&(t.preventDefault(),t.stopPropagation());var a=e.projectNameList,o=e.bottomMessage,r=e.text,c=this.data.get("log");c.text=r,null!=a&&a.length?this.actions.setMask({show:!0,childcomponent:"standardpopup",data:i.a.formatPopupForm(s.i.GET_PRICE,a)}):(this.dispatch("inputFocus",c),this.actions.updateText(o),n.store.dispatch("UpdateTypeBoxInputFocusState",!0),this.actions.updateSourceTag("qa-card-consult")),this.actions.tabBtnClick({content:c})}})},function(t,e,a){"use strict";a.r(e);a(0);e.default={initData:function(){return{check:"https://imlp-static.cdn.bcebos.com/img/common/check-on-hollow.png"}}}},function(t,e,a){"use strict";a.r(e);var n=a(9),i=a.n(n),s=a(124),o=a.n(s),r=a(29),c=a.n(r),d=a(14),l=a.n(d),p=(a(19),a(6),a(20),a(8),a(65),a(113),a(10),a(25),a(37),a(54),a(18),a(73),a(64),a(52),a(78),a(87),a(88),a(89),a(0)),u=a(680),m=a.n(u),h=a(681),g=a.n(h),f=a(682),v=a.n(f),x=a(127),b=a(126),y=a(1);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.default=p.connect.san({fid:"fid",xst:"xst",ucid:"user_id",review:"review",city:"form.city",formInvertData:"form.invertData",formShowStatus:"formShowStatus",robotServiceModel:"robotServiceModel",mode:"mode",imlpUrl:"imlpUrl"},{setMask:"setMask",showToast:"ShowToast",setFormAntiData:"setFormAntiData",setFormRegion:"setFormRegion",setInvertData:"setInvertData",connectNet:"ConnectNet",send:"SendMessage",hideFormAfterSubmmit:"hideFormAfterSubmmit"})({components:{"ui-clear":m.a,"ui-dropdown":g.a,"ui-check":v.a},computed:{isDistrictShow:function(){var t=this.data.get("inputData"),e=!1;return t&&t.forEach((function(t){"city"===t.type&&(e=t.props.isDistrictShow||!1)})),e},inputData:function(){return this.data.get("data").form},operatorMap:function(){return this.data.get("data").operatorMap}},initData:function(){return{granted:!1,useUserPhone:!1,localPhoneData:{},operator:"",pictureUrl:"",captchaInstance:{},formToast:{captchaTelno:"请输入手机号",captchaSuccuess:"已发送验证码至该手机",captchaError:"发送失败",submitPending:"提交中，请稍后",submitError:"提交失败，请重试",submitSuccess:"提交成功"},inputError:{},errCode:110130,formSource:{offline:"offlineFormCard"},isInvert:!1}},attached:function(){var t=this;this.dispatch("component-tracking","FormCard"),this.sendConnect=!1,this.initFormData(),this.watch("city",(function(e){t.updateInputData("city",e)})),this.watch("inputData",(function(e){e.length>0&&t.addEvent()})),p.store.getState("isNeedScrollToBottom")&&setTimeout((function(){p.store.dispatch("ChatViewScrollToBottom")}),200)},inputfocus:function(t,e){var a=t.type,n=this.data.get("inputError"),i={};if(i[a]=!1,this.data.set("inputError",Object.assign(n,i)),"date"!==a&&"datetime"!==a)return"city"===a?(this.citySelectHandler(a),void(e.target&&e.target.blur())):void this.showClearLogo(e)},inputBlur:function(t,e){this.showClearLogo(e,!1)},updateText:function(t,e){if(e.target){var a=e.target.value||"",n=this.data.get("data"),i=this.data.get("captchaInstance"),s=n.captcha,o=t.type;"sms"===o&&"picture"===s.type&&(i.telno=a),"captcha"===o&&(i.code=a),this.data.set("captchaInstance",Object.assign({},i)),this.updateInputData(o,a),this.showClearLogo(e)}},updateInputData:function(t,e){var a=this.data.get("inputData"),n=-1,i={};a.forEach((function(a,s){a.type===t&&(a.value=e,i=Object.assign(i,a),n=s)})),-1!==n&&this.data.splice("inputData",[n,1,i])},inputKeydown:function(t){},addEvent:function(){for(var t=document.getElementsByClassName("form-input-clear"),e=0;e<t.length;e++){t[e].addEventListener("mousedown",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}))}},showClearLogo:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t||t.target)&&t.target.nextElementSibling){var a=t.target.value,n=a&&e?"form-input-clear form-show":"form-input-clear",i=t.target.nextElementSibling;i.className.indexOf("form-input-clear")>-1&&(i.className=n)}},citySelectHandler:function(t){var e=this.data.get("isDistrictShow");this.actions.setMask({show:!0,childcomponent:t,data:{isDistrictShow:e}})},clearHandler:function(t,e){for(var a=e.path||[],n=0;n<a.length;n++){var i=a[n]||{};if(i.tagName&&i.tagName.toLowerCase().indexOf("span")>-1&&i.className.indexOf("form-input-clear")>-1){i.className="form-input-clear";break}}this.updateInputData(t.type,"")},initFormData:function(){var t=this;return c()(l.a.mark((function e(){var a,n,i,s,r,c,d,p,u,m,h,g,f,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.getFormLib();case 2:if(a=e.sent,n=o()(a,2),i=n[0],s=n[1],r=t.data.get("data")||{},r=i({widgetName:"mip-sjh-trans-form-blank",solutionProps:r}),t.data.set("data",r),!t.data.get("review")){e.next=10;break}return e.abrupt("return");case 10:c="develop"===t.data.get("mode"),d=c?"offline":"online",u=(p=r).form,m=p.solutionId,h=p.captcha,g=p.sourceType,f=g.indexOf("offline")>-1,"wwpxee","sgkldt","apkldt",v={env:{apiEnv:d},channel:{consumerCode:f?"sgkldt":"apkldt",sceneCode:"wwpxee"}},t.formInstance=new s(v),t.formInstance.initFormData({items:u,extData:{solutionId:m,applyUserPhone:!1,action:{show_type:0,page_url:t.data.get("imlpUrl")||location.href},verification:h}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.userPhoneData,n=void 0===a?{}:a,i=e.invertData,s=void 0===i?{}:i,o=e.verificationInfo,r=void 0===o?{}:o,c=e.cityData,d=void 0===c?{}:c,l=r.type,p=r.pictureUrl;"picture"===l&&p&&t.data.set("pictureUrl",p);var u=d.regionMap,m=d.regionName;u&&m&&t.actions.setFormRegion({cityData:d});var h=s.autoPhoneNumber,g=void 0===h?{}:h,f=g.isInvert;g.mobile,g.name;t.data.set("granted",f),t.data.set("isInvert",f),t.actions.setInvertData(s);var v=n.status,x=n.data,b=void 0===x?{}:x,y=b.operator||"";y&&t.data.set("operator",y),v>-1&&t.data.set("localPhoneData",b)}));case 20:case"end":return e.stop()}}),e)})))()},useUserPhoneHandler:function(){var t=this,e=this.data.get("localPhoneData");this.formInstance.editSessionHandler({localPhoneData:e,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=e.localPhoneNumber;t.updateInputData("phone",a)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.actions.showToast({text:e.message})}))},phonePrivacyHandler:function(){var t=this.data.get("operator"),e=this.data.get("operatorMap")[t].url||"";e&&this.dispatch("chat-action",{type:"formCard",value:{type:"url",value:e}})},getCaptcha:function(){switch((this.data.get("data.captcha")||{}).type){case"sms":this.getCode();break;case"picture":this.getPicture()}},getCode:function(){var t=this,e=this.data.get("inputData")||{},a=this.data.get("formToast")||{},n="";e.forEach((function(t){"phone"===t.type&&(n=t.value)})),n?this.formInstance.resetVerificationHandler({phone:n,verification:this.data.get("data.captcha"),action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){t.actions.showToast({text:a.captchaSuccuess})})).catch((function(e){var a=t.data.get("errCode");e.code===a&&t.actions.showToast({text:e.message})})):this.actions.showToast({text:a.captchaTelno})},getPicture:function(){var t=this,e=this.data.get("inputData")||{},a=this.data.get("formToast")||{},n="";e.forEach((function(t){"phone"===t.type&&(n=t.value)})),n?this.formInstance.resetVerificationHandler({phone:n,verification:this.data.get("data.captcha"),action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=e.pictureUrl;a&&t.data.set("pictureUrl",a)})):this.actions.showToast({text:a.captchaTelno})},switchAgree:function(){var t=this,e=this.data.get("granted"),a=this.data.get("formInvertData").autoPhoneNumber,n=a.mobile,i=a.name;this.formInstance.editSessionHandler({toggleIntelligent:!0,granted:!e,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){t.data.set("granted",e.granted),e.granted?(n&&t.updateInputData("phone",n),i&&t.updateInputData("name",i)):(t.updateInputData("phone",""),t.updateInputData("name",""))}))},submitForm:function(){var t=this;if(!this.data.get("review")){this.sendConnect||(this.sendConnect=!0,this.actions.connectNet({source:"send"}));var e=this.formInstance.submiFormCode,a=this.data.get("formSource"),n=this.data.get("formToast")||{},i=this.data.get("fid")||"",s=this.data.get("xst")||"",o=this.data.get("ucid")||"",r=this.data.get("data")||{},c=r.solutionId,d=r.solutionName,l=r.title,u=r.sourceType,m=this.data.get("inputData")||[],h=this.data.get("captchaInstance"),g=u.indexOf("offline")>-1,f=this.data.get("log"),v=this.data.get("isInvert");f.isInvert=v;var x=m.map((function(t){return"captcha"!==t.type?t.label+": "+t.value:""})).join(",");x="".concat(x,"；可前往账户（").concat(o,"）营销通-线索详单-表单查看完整线索");var b={item:{type:"form",value:f,trackTag:"form"},type:a[u]||"formCard",history:"".concat(d,"表单,内容如下:").concat(x)};m.forEach((function(t,e){"captcha"===t.type&&(t.captchaInstance=h)}));var w,S,C={items:m,extData:{solutionId:c,adTrace:{fid:i,xst:s},relatedSolution:{type:"consult",solutionId:"0"},action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}};m.forEach((function(t){"name"===t.type?w=t.value:"phone"===t.type&&(S=t.value)})),this.formInstance.submitForm(C).then((function(a){var i=a.status;if(i===e.validErr){var s={},o=a.validateToast||[];o&&o.forEach((function(e,a){0===a&&t.actions.showToast({text:e.message});var n=(e.item||{}).type;s[n]=!0})),t.data.set("inputError",s)}if(i===e.submitErr&&t.actions.showToast({text:a.submitError||n.submitError}),i===e.antiCheck){var r=a.antiData,c=void 0===r?{}:r,d=a.clueRes,u=(void 0===d?{}:d).clue_id,m=void 0===u?"":u;if(b.item.value=k(k({},b.item.value),{},{clueId:m}),!c.type)return void t.actions.showToast({text:n.submitError});t.actions.setFormAntiData(c),t.actions.setMask({show:!0,childcomponent:c.type,data:{actionParams:b,title:(null==l?void 0:l.text)||"客服尽快和您联系",formInstance:t.formInstance,message:x,userName:w,userPhone:S,verification:t.data.get("data.captcha"),isOfflineForm:g}})}if(i===e.pending&&t.actions.showToast({text:n.submitPending}),i===e.submitSuccess){var h=a.clueRes,f=(void 0===h?{}:h).clue_id,v=void 0===f?"":f;b.item.value=k(k({},b.item.value),{},{clueId:v}),t.actions.showToast({text:n.submitSuccess}),t.dispatch("operate",b);var C=t.data.get("robotServiceModel")||y.o.NORMAL;if(g||C===y.o.NORMAL)p.store.dispatch("submitOfflineForm",{type:"offlineForm",content:x});else{if(w&&S){var T="提交成功<br>姓名："+w+"<br>电话："+S;t.actions.send({source:"user",type:y.e.TEXT,content:T,sourceTag:"form",tag:"form"})}t.actions.hideFormAfterSubmmit(!0)}}}))}},grantedPrivacyHandler:function(){this.actions.setMask({show:!0,childcomponent:"formgranted"})},filters:{setInputType:function(t){var e="";switch(t){case"date":e="date";break;case"datetime":e="datetime-local";break;default:e="text"}return e},setInputValue:function(t){var e=t.type,a=x.a.formatCaptcha(t);if("captcha"===e){var n=this.data.get("captchaInstance");n.code=a,this.data.set("captchaInstance",Object.assign({},n))}return a}}})},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","icon_clear")}}},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","icon_dropdown")}}},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","icon_check")}}},function(t,e,a){"use strict";a.r(e);var n=a(74),i=a.n(n),s=(a(79),a(19),a(6),a(20),a(10),a(195),a(109),a(63),a(0)),o=a(244),r=a.n(o),c=a(248),d=a.n(c),l=a(251),p=a.n(l),u=a(92),m=a.n(u),h=a(684),g=a.n(h);e.default=s.connect.san({feature:"feature",ext:"ext"},{})({initData:function(){return{scroll:"card-children-scroll-area",combined:!0,showCount:3,showList:[],isfold:!1,current:0}},computed:{content:function(){return this.data.get("data").content},bottom:function(){return this.data.get("data").content.bottom||""},style:function(){return this.data.get("data").style||!1},styleName:function(){return this.data.get("data").styleName||""},styleVersion:function(){var t;return null===(t=this.data.get("data.content.list[0].content"))||void 0===t?void 0:t.styleVersion}},attached:function(){this.dispatch("component-tracking","CombinedCard-".concat(this.data.get("style"))),this.fire("cardAttached",{el:this.el});var t=this.data.get("scroll");this.ref(t).addEventListener("scroll",i()(this.getEleInCard.bind(this,t),100),!1);var e=this,a=this.el,n=a.querySelectorAll(".imlp-combinedcard-list-hide"),o=this.data.get("showList"),r=this.data.get("content"),c=r&&r.list||[],d=this.data.get("showCount")||c.length;if(c.forEach((function(t,e){e<d&&o.push("standard"+e)})),n.length>0){this.data.set("isfold",!0);var l=a.querySelector(".imlp-combinedcard-morelink");l.style.display="block",s.store.dispatch("cardShowStatus","fold"),l.addEventListener("click",(function(t){t.preventDefault();for(var a=!1,i=0;i<n.length;i++)n[i].className.indexOf("imlp-combinedcard-list-hide")>-1?(n[i].className="imlp-combinedcard-list",a=!0):(n[i].className="imlp-combinedcard-list imlp-combinedcard-list-hide",a=!1);e.data.set("isfold",!a),s.store.dispatch("cardBtnClick",a?"unfold":"fold"),s.store.dispatch("cardShowStatus",a?"fold":"unfold");try{for(var o=e.data.get("showCount"),r=0;r<n.length;r++)e.ref("widget"+(r+o)).data.set("display",a)}catch(t){}e.dispatch("scrollHandle")}))}},getEleInCard:function(t){var e=this,a=this.ref(t);if(!(a.scrollWidth-a.clientWidth<=0)){var n=a.getBoundingClientRect(),i=n.left,s=n.right,o=this.data.get("current");Array.from(a.children).some((function(t,a){var n=t.getBoundingClientRect(),r=n.left,c=n.right,d=n.width,l=-1;if((r<i&&(c-i)/d>=.55||c>s&&(s-r)/d>=.55||r>i&&c<s)&&(l=a),l>-1)return l!==o&&e.data.set("current",l),!0}))}},format6002:function(t){var e={type:t.type,cid:t.cid,content:{list:[]}},a={name:"detailBase",info:[]},n=t.content,i=n.title,s=n.category,o=n.thumb,r=n.url;return i&&a.info.push({type:"subtitle",text:i,size:16,color:"#333"}),s&&a.info.push({type:"assist",text:s}),o&&a.info.push({type:"image",value:o,text:i}),r&&(a.action={type:"url",value:r}),e.content.list.push(a),e},components:{"ui-combined-card":"self","ui-base-card":r.a,"ui-standard-card":d.a,"widget-consult":p.a,"ui-arrow":m.a,"ui-header":g.a},filters:{combinedFormat:function(t){return"6002"==t.type?this.format6002(t):t}}})},function(t,e,a){"use strict";a.r(e);a(19),a(6),a(20),a(54),a(109),a(63);var n=a(0),i=a(27);e.default=n.connect.san({},{})({initData:function(){return{img:"https://imlp-static.cdn.bcebos.com/img/common/icon-slide-check.png",ref:"featureWrapper"}},attached:function(){var t=this;(this.data.get("data.info")||[]).forEach((function(e){"feature"===e.type&&t.hideOverflowFeature()}))},hideOverflowFeature:function(){var t,e=this.ref(this.data.get("ref")),a=(null==e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.right)||0;Array.from(e.children).map((function(t){var e;((null==t||null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.right)||0)>a&&t.setAttribute("style","display: none;")}))},getRpx:i.a})},function(t,e,a){"use strict";a.r(e);var n=a(166),i=a.n(n),s=a(686),o=a.n(s),r=a(687),c=a.n(r),d=a(0);e.default=d.connect.san({notificationMap:"notificationMap"},{updateNotification:"UpdateNotification"})({initData:function(){return{limitMap:{doctor:2},visible:!1}},components:{"widget-notification":i.a,"widget-notification-optimize":o.a,"widget-connection-card":c.a},attached:function(){this.dispatch("component-tracking","NotificationCard"),this.isShow()},render:function(){var t=this.data,e=t.get("content.category"),a=t.get("limitMap")[e];if(a&&(this.actions.updateNotification({type:e}),t.get("notificationMap")[e]>a))return t.set("visible",!1),void this.dispatch("hidden-msg");t.set("visible",!0)},isShow:function(){var t=this.data.get("content"),e=t.msgList&&t.msgList.length;t.title||e||t.text||t.value||t.connectionSuccessCard?this.data.set("visible",!0):this.data.set("visible",!1)}})},function(t,e,a){"use strict";a.r(e);var n=a(0);a(27);e.default=n.connect.san({feature:"feature"},{openXh:"openXh",bindXh:"bindXh",activeXh:"activeXh",logXh:"logXh",sendCombineSysTip:"sendCombineSysTip"})({attached:function(){this.dispatch("component-tracking","widgets_notificationOptimize");"xh"===this.data.get("data").category&&this.actions.logXh("show"),this.actions.sendCombineSysTip(!1)},operate:function(t,e){switch(e.tag){case"openxh":this.actions.openXh(),this.actions.logXh("open");break;case"activexh":this.actions.activeXh(),this.actions.logXh("active");break;case"bindxh":this.actions.bindXh(),this.actions.logXh("bind");break;case"baozhang":var a=n.store.getState("baozhangUrl");this.jumpUrl(a);break;case"zlhx":case"homeDecoration":this.jumpUrl(e.url)}},jumpUrl:function(t){t&&this.dispatch("operate",{type:"notification",item:{type:"iframe",value:t}})}})},function(t,e,a){"use strict";a.r(e),e.default={computed:{connectionSuccessCard:function(){var t;return(null===(t=this.data.get("data"))||void 0===t?void 0:t.connectionSuccessCard)||{}}},initData:function(){return{thumbUp:"https://imlp-static.cdn.bcebos.com/img/common/icon-connection-thumb-up.png"}}}},function(t,e,a){"use strict";a.r(e);var n=a(98),i=a.n(n),s=a(0),o={GOODS:1,ORDER:2};e.default=i.a.defineComponent({initData:function(){return{cardType:o}},attached:function(){var t;try{t=JSON.parse(this.data.get("content"))||{}}catch(t){}var e={mat:{service:+t.service,cardValue:{appId:+t.appId,shopId:t.shopId},source:this.data.get("message").source,messageId:this.data.get("message").msgid},isAsync:1};t.materialType===o.GOODS?e.mat.cardValue.spuId=t.materialId:t.materialType===o.ORDER&&(e.mat.cardValue.orderId=t.materialId),s.store.dispatch("getAsyncCard",e)},computed:{type:function(){var t;try{t=JSON.parse(this.data.get("content"))||{}}catch(t){}return t.materialType}}})},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","widgets_historySplitLine")}}},function(t,e,a){"use strict";a.r(e);a(17),a(42),a(18);var n=a(0);e.default=n.connect.san({},{})({attached:function(){this.dispatch("component-tracking","widgets_time")},filters:{localFormat:function(t){try{var e=new Date(t),a=new Date,n=e.toLocaleDateString(),i=e.toTimeString().slice(0,8),s=(new Date).getTime()-t,o=60*a.getHours()*60*1e3+60*a.getMinutes()*1e3+1e3*a.getSeconds(),r=o+864e5;if(s>r)return"".concat(n," ").concat(i);if(s>o&&s<r)return"昨天 ".concat(i);if(s<o)return"今天 ".concat(i)}catch(t){return""}}}})},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","widgets_inputStatus")}}},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{})({})},function(t,e,a){"use strict";a.r(e);a(98);var n=a(0);e.default=n.connect.san({},{sendLog:"sendLog"})({clickHandle:function(){this.actions.sendLog({type:"click",content:"goldService"})}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{})({initData:function(){return{prefix:"imlp-component-message-card"}}})},function(t,e,a){"use strict";a.r(e);var n=a(74),i=a.n(n),s=(a(17),a(160),a(6),a(12),a(35),a(8),a(55),a(10),a(97),a(26),a(311),a(316),a(79),a(0)),o=a(30),r=a(135),c=a(255),d=a.n(c),l=a(256),p=a.n(l),u=a(257),m=a.n(u),h=a(181),g=a.n(h),f=a(5),v=a(3),x=a(258),b=a.n(x),y=a(696),w=a.n(y),k=a(1),S=a(100),C=a(259),T=a.n(C);s.store.addAction("UpdateTypeBoxInput",(function(t,e){e.getState,e.dispatch;return Object(o.builder)().set("typeboxtext",t)})),s.store.addAction("ToggleTypeBoxBottomBox",(function(t,e){e.getState,e.dispatch;return Object(o.builder)().set("typeboxbottombox",t)})),s.store.addAction("UpdateTypeBoxInputFocusState",(function(t,e){e.getState,e.dispatch;return Object(o.builder)().set("updateTypeboxInputFocusState",{state:t,t:(new Date).getTime()})})),s.store.addAction("emitSendButtonClick",(function(t,e){e.getState,e.dispatch;return Object(o.builder)().set("emitSendButtonClick",(new Date).getTime())})),s.store.addAction("emitPhoneClick",(function(t,e){e.getState,e.dispatch;return Object(o.builder)().set("emitPhoneClick",{type:t,t:(new Date).getTime()})})),e.default=s.connect.san({text:"typeboxtext",landpageurl:"landpageurl",contactNumber:"contactNumber",sendImage:"sendImage",bottombox:"typeboxbottombox",appid:"appid",iframe:"iframe",sessionState:"session.state",presetMessage:"presetMessage",feedbackURL:"feedbackURL",xhinfo:"xhinfo",blockSession:"review",needBackXcx:"needBackXcx",clientSourceExt:"clientSourceExt",baozhangUrl:"baozhangUrlPlus",showBaozhangInfo:"showBaozhangInfo",phoneModal:"phoneModal",wechatModal:"wechatModal",floatCustom:"floatCustom",wholeColor:"theme.wholeColor",showMenuMore:"showMenuMore",inputSuggest:"typeboxConfig.inputSuggest",feature:"feature",blockScrollMsg:"blockScrollMsg",isPageInit:"page.init",inputSourceTag:"inputSourceTag",missMessage:"missMessage",expParam:"expParam",robotServiceModel:"robotServiceModel",isHideHomeBtn:"isHideHomeBtn",isHideBaozhang:"isHideBaozhang",asyncMenu:"asyncMenu",updateTypeboxInputFocusState:"updateTypeboxInputFocusState",sugContent:"sugContent",sugExp:"expParam.imlp_input_sug",inputFocusCount:"inputFocusCount",hasGetSug:"hasGetSug",intensifyPhoneExp:"expParam.imlp_intensify_phone",phoneInfo:"phoneInfo"},{updateText:"UpdateTypeBoxInput",setBottomBox:"ToggleTypeBoxBottomBox",send:"SendMessage",connectNet:"ConnectNet",setMask:"setMask",updateFixedState:"updateFixedAction",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",triggerXhRule:"triggerXhRule",logPresetMsg:"logPresetMsg",updateInputTrack:"updateInputTrack",inputFocus:"inputFocus",showMenuMore:"showMenuMore",initPage:"pageInit",updateSourceTag:"updateSourceTag",updateSugStatus:"updateSugStatus",getSug:"getSug",saveInputFocusCount:"saveInputFocusCount",updateSugContent:"updateSugContent",sendLog:"sendLog"})({components:{"ui-typebox-emoji":d.a,"ui-uploader":p.a,"ui-chat-miss-message-tip":m.a,"ui-phone-modal":g.a,"ui-sug-slider":b.a,"ui-contact-modal":g.a,"ui-dynamic-sugslider":T.a,"ui-intensify-phone":w.a},computed:{customModal:function(){var t=this.data.get("floatCustom");return t&&t.length>0},hitHnStyleExp:function(){var t;return"input"!==(null===(t=this.data.get("expParam"))||void 0===t?void 0:t.imlp_theme)},miuiFocused:function(){return this.data.get("isMiUi")&&this.data.get("focused")},safari15Focused:function(){return this.data.get("isSafariOs15")&&this.data.get("focused")},orderParams:function(){var t,e;return null===(t=this.data.get("inputSuggest"))||void 0===t||null===(e=t.static)||void 0===e?void 0:e.find((function(t){return"list"===t.type}))},phoneExp:function(){return"true"===this.data.get("intensifyPhoneExp")&&this.data.get("phoneInfo")}},initData:function(){return{bottombox:"emoji",inputRefKey:"imlp-component-newtypebox-textarea",presetWord:"",buttonClicked:!1,sended:!1,focused:!1,defaultPlaceholder:"请您输入...",placeholder:"请您输入...",plusBoxItemPlaceholderClass:"imlp-component-newtypebox-plus-box-item-order-999",textChanged:!1,sessionClosedState:f.a.stateMap.closed,iconMap:{phone:"&#xe733;"},hasText:!1,bottom:0,left:0,isSafariOs15:this.isSafariOs15(),isMiUi:this.isMiUi(),typeBoxCls:"imlp-component-newtypebox",pageDeclaration:{text:"页面声明",type:"menu",from:"bottomList"},isBottomGuideDisplay:!0}},attached:function(){this.dispatch("component-tracking","TypeBoxNew");var t=this,e=this.el.querySelector(".imlp-component-newtypebox-textarea"),a=this.el.querySelector(".imlp-component-newtypebox-send");this.addEvent(a,"mousedown",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1})),this.inputElem=e,this.autoTextarea(e),this.inputTimer=null,this.blurTimer=null;v.a.debounce((function(e){t.actions.triggerXhRule(e)}),100,t);this.computePosition(),this.initPresetWord(),this.dispatch("setCompRect","typebox"),this.checkPlusBoxItemCount(),this.data.get("blockScrollMsg")||t.scrollToEnd();var n=i()((function(e){t.actions.getSug({source:"input",data:e})}),100,t);this.watch("text",(function(e,a){var i=document.querySelector(".imlp-component-newtypebox-textarea");!this.data.get("focused")&&e&&(i.value=e,"number"==typeof i.selectionStart&&(i.selectionStart=i.value.length),i.focus()),this.data.set("textChanged",!0);this.data.get("xhinfo").waked;e||this.actions.updateSourceTag("");var s=a.oldValue||"",o=v.a.hasWordDiff(s,e),r=this.data.get("sugExp"),c="inputing"===r||"all"===r;c&&e&&!/^[a-zA-Z\s']+$/.test(e)&&o&&(t.actions.updateSugContent([]),this.actions.updateSugStatus(!0),n(e)),c&&!e&&this.actions.updateSugContent([]),"preinput"===r&&this.actions.updateSugStatus(!1)})),this.watch("updateTypeboxInputFocusState",(function(t){var e=this.el.querySelector(".imlp-component-newtypebox-textarea");t.state?e.focus():e.blur()}))},checkPlusBoxItemCount:function(){var t=1;this.data.get("landpageurl")&&t++,this.data.get("contactNumber")&&t++,this.data.get("sendImage")&&t++,this.data.get("feedbackURL")&&t++,this.data.get("showBaozhangInfo")&&t++,t<4&&this.data.set("plusBoxItemPlaceholderClass","imlp-component-newtypebox-plus-box-item-order-999-none")},computePosition:function(){var t=this.ref("imlp-component-newtypebox-typezone"),e=this.ref("imlp-component-newtypebox-menu");if(t){var a=t.getBoundingClientRect();this.data.set("bottom",a.height+"px")}if(e){var n=e.getBoundingClientRect();this.data.set("left",n.left-4+"px")}},initPresetWord:function(){var t=this.data.get("presetWord"),e=(this.data.get("textChanged"),this.data.get("presetMessage")||{}),a=(e.enabled,e.message),n=e.from,i=e.showType,s=e.config,o=null==s?void 0:s.action;if(1===(null==s?void 0:s.open)&&a&&1===i&&"input"===o){t=a,this.data.set("presetWord",t);var r="simple"===this.data.get("expParam.imlp_preset_1")?a.replace(/我想咨询"(.*)"/,"$1"):a;this.data.set("placeholder",r),this.actions.logPresetMsg({type:"preset_show_".concat(n),content:encodeURIComponent(t)}),this.data.set("hasText",!0)}},renderInput:function(t){this.inputElem.value=t,this.updateText(),this.change()},resetInput:function(){this.actions.updateText(""),this.el.querySelector(".imlp-component-newtypebox-textarea").value="",this.change()},makecontact:function(){var t=this.data.get("contactNumber");this.dispatch("operate",{type:"typeBox",history:"底部电话按钮",item:{type:"tel",value:t}})},homepage:function(){S.a.log({type:"website_click"});var t=this.data.get("landpageurl"),e=this.data.get("sessionState")===this.data.get("sessionClosedState"),a=this.data.get("needBackXcx"),n=this.data.get("clientSourceExt")||{};e&&this.sendTrack();var i={type:"typeBox",value:{type:"url",content:t}};a&&n.indexPath&&n.appKey&&(i.value.value={type:"xcx",mat:{appKey:n.appKey,path:decodeURIComponent(n.indexPath),extraData:{}}}),this.dispatch("chat-action",i)},feedback:function(){var t=this.data.get("feedbackURL");this.dispatch("chat-action",{type:"typeBox",value:{type:"url",value:t}})},order:function(){s.store.dispatch("asyncPopup",this.data.get("orderParams")||{}),this.actions.setBottomBox("")},baozhang:function(){var t=this.data.get("baozhangUrl");this.dispatch("chat-action",{type:"typeBox",value:{type:"iframe",value:t}})},toggleBox:function(t){if("input"==t)this.actions.setBottomBox("input"),this.scrollToEnd();else{var e=this.el.querySelector(".imlp-component-newtypebox-textarea"),a=this.data.get("bottombox");a==t?(clearInterval(this.imlpcid),this.actions.setBottomBox("input"),e.focus(),this.scrollToEnd()):("emoji"===a&&"plus"===t?this.actions.setBottomBox(""):this.actions.setBottomBox(t),e.blur(),this.scrollToEnd()),this.dispatch("operate",{item:{type:t,value:{type:t,detail:a===t?"close":"open"}},type:"typebox"})}this.actions.showMenuMore(!1)},scrollToEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,e=this;setTimeout((function(){e.el.scrollIntoView&&e.el.scrollIntoView(!0),e.el.scrollIntoViewIfNeeded&&e.el.scrollIntoViewIfNeeded()}),t)},inputfocus:function(){this.data.get("isBottomGuideDisplay")&&this.data.get("phoneExp")&&this.actions.sendLog({type:"bottom_phone_close",content:{trigger:"focus"}}),this.changeDisplay(!1),this.data.set("focused",!0),this.data.get("blockSession")||this.actions.connectNet({source:"focus"}),this.actions.inputFocus("typebox"),this.actions.updateInputTrack({start:{ts:(new Date).getTime(),len:this.data.get("text").length}}),this.scrollToEnd(),this.actions.showMenuMore(!1);var t=this.data.get("sugExp"),e="preinput"===t||"all"===t;this.actions.saveInputFocusCount();var a=this.data.get("inputFocusCount");e&&!this.data.get("text")&&(1===a&&this.actions.getSug({source:"before_input"}),a<5&&this.actions.updateSugStatus(!0)),"inputing"!==t&&"all"!==t||!this.data.get("text")||(this.actions.getSug({source:"input",data:this.data.get("text")}),this.actions.updateSugStatus(!0)),s.store.dispatch("foldCoreNavigation")},inputBlur:function(){this.data.set("focused",!1),this.actions.updateInputTrack({end:{ts:(new Date).getTime(),len:this.data.get("text").length}}),this.blurTimer&&clearTimeout(this.blurTimer),this.blurTimer=setTimeout((function(){window.scroll&&window.scroll(0,0)}),10),this.actions.updateSugStatus(!1)},updateText:function(){var t=this.el.querySelector(".imlp-component-newtypebox-textarea");if(this.actions.updateText(t.value.trim()),this.actions.updateInputTrack({middle:{ts:(new Date).getTime(),len:t.value.trim().length}}),t.value.trim().length>0?this.data.set("hasText",!0):this.data.set("hasText",!1),this.data.get("presetWord")){var e=this.data.get("defaultPlaceholder");this.data.set("presetWord",""),this.data.set("placeholder",e)}},inputKeydown:function(t){this.data.get("feature").input_case&&13===t.keyCode&&(13===t.keyCode&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.send(t,!0))},send:function(t,e){var a=this.data.get("isPageInit"),n=this.el.querySelector(".imlp-component-newtypebox-textarea"),i=this.data.get("sended"),o=this.data.get("defaultPlaceholder"),c=this.data.get("text"),d=this.data.get("presetWord"),l=(this.data.get("presetMessage")||{}).from,p=this.data.get("buttonClicked"),u=!1,m=this.data.get("textChanged");if(c&&!p&&this.data.set("buttonClicked",!0),a||(r.a.init(),this.actions.initPage()),(13===t.keyCode||e)&&(""!==c.trim()||""!==d.trim())){(""===c.trim()&&""!==d.trim()||!m&&""!==c.trim()&&""!==d.trim())&&(c=d.trim(),i||(u=!0,this.data.set("sended",!0),this.data.set("presetWord",""),this.data.set("placeholder",o),l&&this.actions.logPresetMsg({type:"preset_send_".concat(l),content:encodeURIComponent(c)}))),s.store.dispatch("foldCoreNavigation");var h=this.data.get("inputSourceTag")||"";this.actions.updateText(""),n.innerHTML="",n.value="",this.change(),this.actions.setBottomBox(""),this.actions.send({source:"user",type:k.e.TEXT,content:c,trigger:"input",sourceTag:h||(u&&l?l:"")}),this.focus(),this.data.set("hasText",!1)}},keepLastIndex:function(){var t=this.inputElem;if(window.getSelection)t.focus(),(e=window.getSelection()).selectAllChildren(t),e.collapseToEnd();else if(document.selection){var e;(e=document.selection.createRange()).moveToElementText(t),e.collapse(!1),e.select()}},addEvent:function(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent("on"+e,a)},autoTextarea:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:148;this.extra=e||0,this.isFirefox=!!document.getBoxObjectFor||"mozInnerScreenX"in window,this.isOpera=!!window.opera&&!!window.opera.toString().indexOf("Opera"),this.input=t,this.maxHeight=a,this.minHeight=Math.max(parseInt(getComputedStyle(t,null).height,10),parseInt(getComputedStyle(t,null).lineHeight,10)),this.getStyle=t.currentStyle?function(e){var a=t.currentStyle[e];if("height"===e&&1!==a.search(/px/i)){var n=t.getBoundingClientRect();return n.bottom-n.top-parseFloat(this.getStyle("paddingTop"))-parseFloat(this.getStyle("paddingBottom"))+"px"}return a}:function(e){return getComputedStyle(t,null)[e]},this.addEvent(t,"propertychange",this.change.bind(this)),this.addEvent(t,"input",this.change.bind(this)),this.addEvent(t,"focus",this.change.bind(this)),this.change()},change:function(){var t,e=this.input,a=0,n=e.style;e._length!==e.value.length&&(e._length=e.value.length,this.isFirefox||this.isOpera||(a=parseInt(this.getStyle("paddingTop"),10)+parseInt(this.getStyle("paddingBottom"),10)),document.body.scrollTop||document.documentElement.scrollTop,e.style.height=this.minHeight+"px",e.value&&e.scrollHeight>=this.minHeight?(this.maxHeight&&e.scrollHeight>this.maxHeight?(t=this.maxHeight,n.overflowY="scroll"):t=e.scrollHeight-a,n.height=t+this.extra+"px",e.parentElement.style.height=t+this.extra-4+"px",e.currHeight=parseInt(n.height)):(e.style.height=this.minHeight+"px",e.parentElement.style.height=this.minHeight-4+"px"))},openSessionClosedTip:function(){this.actions.setMask({show:!0,childcomponent:"session-closure"})},focus:function(){this.inputElem.focus(),this.inputElem.select()},blur:function(){this.inputElem.blur()},sendTrack:function(){this.dispatch("operate",{item:{},type:"typebox",history:"底部医院首页按钮",connected:1})},operate:function(t,e){t&&t.preventDefault();var a=e.text;this.dispatch("operate",{item:e,type:"typebox",history:a}),"menu"===e.type&&(this.actions.decideIsNeedScrollToBottom(!1),this.actions.updateFixedState(!1));var n=this.data.get("pageDeclaration");e.text===n.text&&e.from===n.from&&this.actions.setBottomBox("")},isSafariOs15:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("iphone os 15_")>-1&&t.indexOf("applewebkit")>-1&&t.indexOf("mobile")>-1&&t.indexOf("safari")>-1&&-1===t.indexOf("linux")&&-1===t.indexOf("android")&&-1===t.indexOf("chrome")&&-1===t.indexOf("ios")&&-1===t.indexOf("browser")},isMiUi:function(){return navigator.userAgent.indexOf("MiuiBrowser")>0},changeDisplay:function(){this.data.set("isBottomGuideDisplay",!1)},messages:{renderInput:function(t){this.renderInput(t.value)},resetInput:function(){this.resetInput()}}})},function(t,e,a){"use strict";a.r(e);a(55),a(12),a(42);var n=a(0),i=a(170),s=a.n(i),o=a(3);e.default=n.connect.san({text:"typeboxtext"},{updateText:"UpdateTypeBoxInput"})({initData:function(){return{currentSlide:0,emojiList:[[{id:1,text:"[微笑]"},{id:2,text:"[调皮]"},{id:3,text:"[色]"},{id:4,text:"[睡]"},{id:5,text:"[疑问]"},{id:6,text:"[流泪]"},{id:7,text:"[汗]"}],[{id:8,text:"[晕]"},{id:9,text:"[撇嘴]"},{id:10,text:"[惊恐]"},{id:11,text:"[尴尬]"},{id:12,text:"[害羞]"},{id:13,text:"[委屈]"},{id:14,text:"[大笑]"}],[{id:15,text:"[大哭]"},{id:16,text:"[可爱]"},{id:17,text:"[再见]"},{id:18,text:"[偷笑]"},{id:19,text:"[乖]"},{id:20,text:"[难过]"}]]}},attached:function(){var t=this;this.dispatch("component-tracking","TypeBoxEmoji");for(var e=this.el.querySelectorAll(".imlp-component-typeboxemoji-slide-item"),a=e.length,n=this.actions.updateText,i=function(a){var i=e[a];i.addEventListener("click",(function(){var e=t.data.get("text").trim();if(i.classList.contains("imlp-component-typeboxemoji-slide-item-delete")){var a=/\[(微笑|调皮|色|睡|疑问|流泪|汗|晕|撇嘴|惊恐|尴尬|害羞|委屈|大笑|大哭|可爱|再见|偷笑|乖|难过)\]$/.exec(e);a&&(n(e.slice(0,a.index)),t.dispatch("renderInput",e.slice(0,a.index)))}else{var s=o.a.getDataset(i).text;n(e+s),t.dispatch("renderInput",e+s)}}))},r=0;r<a;r++)i(r);var c=this.data;new s.a(this.el,{startSlide:0,speed:400,auto:!1,continuous:!1,disableScroll:!1,stopPropagation:!1,callback:function(t,e){},transitionEnd:function(t,e){c.set("currentSlide",t)}})}})},function(t,e,a){"use strict";a.r(e);var n=a(14),i=a.n(n),s=(a(17),a(19),a(6),a(20),a(18),a(26),a(42),a(54),a(72),a(71),a(63),a(86),a(12),a(53),a(10),a(25),a(318),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(0)),o=a(80),r=a.n(o),c=a(1),d=a(240);e.default=s.connect.san({imageList:"imageList",isLiteBox:"isLiteBox"},{send:"SendMessage",addMessageToChatView:"AddMessageToChatView",updateImage:"UpdateImage",setBottomBox:"ToggleTypeBoxBottomBox"})({initData:function(){return{data:[],max:9,maxSize:10240,maxUploadSize:3,typeArray:["jpeg","jpg","png","gif"],uploadUrl:"/imlp/upload",imgNumber:0,maxSideRequired:1800,maxSideShowRequired:180}},attached:function(){this.dispatch("component-tracking","Uploader")},getUuid:function(){var t=this.data.get("imgNumber");return this.data.set("imgNumber",t+1),"img"+(new Date).getTime()+t},triggerImageHandle:function(){this.data.get("isLiteBox")?this.liteUploadImage():this.triggerInput()},triggerInput:function(){this.ref("uploadElem").click(),this.dispatch("operate",{item:{value:{type:"photo"}}})},liteUploadImage:function(){var t=this;window.swan&&swan.chooseImage&&swan.uploadFile&&swan.chooseImage({count:1,success:function(e){e.tempFiles.forEach((function(e){var a=e.path;e.size;swan.uploadFile({url:"".concat(Object(d.a)()).concat(t.data.get("uploadUrl")),filePath:a,name:"file",success:function(e){var a=e.data||{};if("string"==typeof a)try{a=JSON.parse(a)}catch(t){console.log("upload parse",t)}if(0===a.status){var n=a.content;t.actions.send({content:{image_url:n,thumb_url:n},type:"image",content_type:"image"})}},fail:function(t){console.log("upload fail",t)}})}))}})},handleInputChange:function(){var t=this,e=this,a=this.data,n=this.ref("uploadElem"),i=(a.get("typeArray"),parseInt(a.get("maxSize"),10),[]),o=Array.prototype.slice.call(n.files);if(this.checkFiles(o)){var r=o.map((function(a){return t.transformFileToDataUrl(a).then((function(n){a.uuid=e.getUuid(),a.width=n.width,a.height=n.height,a.drawWidth=n.drawWidth,a.drawHeight=n.drawHeight;var s={status:0,uuid:a.uuid,progress:0,tempSrc:n.src,width:n.width,height:n.height,drawWidth:n.drawWidth,drawHeight:n.drawHeight};t.actions.updateImage(s);var o="msg"+(new Date).getTime();t.actions.addMessageToChatView({msgid:o,message_id:o,source:"user",type:c.e.IMAGE,content:s,trigger:"input"}),i.push({file:a,dataUrl:n.src,uuid:a.uuid,msgid:o})}))}));Promise.all(r).then((function(){var e=!0;window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(e=!1),t.uploadGen=t.uploadGenerator(i);var a=t.uploadGen.next();t.ref("uploadElem").value=null,a.value.map((function(a){e?t.processData(a):t.processFormDataForFile(a)}))}))}else s.store.dispatch("ShowToast",{text:"图片类型不对或者尺寸太大"})},checkFiles:function(t){var e=this.data,a=this.ref("uploadElem"),n=e.get("typeArray"),i=parseInt(e.get("maxSize"),10),s={typeError:!1,sizeError:!1};return t.forEach((function(t){-1===n.indexOf(t.type.split("/")[1])&&(s.typeError=!0),t.size>1024*i&&(s.sizeError=!0)})),!s.typeError&&!s.sizeError||(a.value=null,!1)},transformFileToDataUrl:function(t){var e=this;return new Promise((function(a,n){e.fileToDataURL(t,(function(t){a(t)}))}))},uploadGenerator:i.a.mark((function t(e){var a,n,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.data.get("maxUploadSize"),!((n=e.length)>a)){t.next=20;break}s=[],o=0;case 5:if(!(o<n)){t.next=18;break}if(!(o<a)){t.next=13;break}if(s.push(e[o]),o!==a-1){t.next=11;break}return t.next=11,s;case 11:t.next=15;break;case 13:return t.next=15,[e[o]];case 15:o++,t.next=5;break;case 18:t.next=22;break;case 20:return t.next=22,e.map((function(t){return t}));case 22:case"end":return t.stop()}}),t,this)})),processData:function(t){var e,a=t.dataUrl,n=t.file;try{e=this.dataURLtoBlob(a)}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var i=new window.BlobBuilder;i.append(arrayBuffer),e=i.getBlob(n.type)}else s.store.dispatch("ShowToast",{text:"版本过低，不支持上传图片"})}t.blob=e,this.processFormDataForBlob(t)},processFormDataForBlob:function(t){var e=new FormData,a=t.file,n=t.blob;e.append("type",a.type),e.append("size",n.size),e.append("name",a.name),e.append("lastModifiedDate",a.lastModifiedDate),e.append("file",n),t.formData=e,this.uploadImg(t)},processFormDataForFile:function(t){var e=new FormData,a=t.file;e.append("type",a.type||'image/jpeg"'),e.append("size",a.size),e.append("name",a.name),e.append("lastModifiedDate",a.lastModifiedDate||(new Date).getTime()),e.append("file",a),t.formData=e,this.uploadImg(t)},uploadImg:function(t){var e=this;s.store.dispatch("UploadImg",{uploadUrl:"/imlp/upload",data:t,handler:function(){var t=e.uploadGen.next();if(!t.done){var a=!0;window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(a=!1),t.value.map((function(t){a?e.processData(t):e.processFormDataForFile(t)}))}}})},dataURLtoBlob:function(t){for(var e=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),i=new Uint8Array(n),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return new Blob([n],{type:a})},fileToDataURL:function(t,e){var a,n=this;r.a.getData(t,(function(){r.a.getAllTags(this),a=r.a.getTag(this,"Orientation")}));var i=this.data.get("maxSideRequired"),s=this.data.get("maxSideShowRequired"),o=new FileReader;o.onload=function(t){var o=new Image;o.onload=function(){var o,r,c=this.naturalWidth,d=this.naturalHeight;this.naturalWidth>this.naturalHeight&&this.naturalWidth>i?d=(c=i)*this.naturalHeight/this.naturalWidth:this.naturalHeight>this.naturalWidth&&this.naturalHeight>i&&(c=(d=i)*this.naturalWidth/this.naturalHeight);var l=document.createElement("canvas"),p=l.getContext("2d");l.width=c,l.height=d,p.drawImage(this,0,0,c,d);var u=null;if(navigator.userAgent.match(/iphone/i)){if(""!=a&&1!=a)switch(a){case 6:n.rotateImg(this,"left",l);break;case 8:n.rotateImg(this,"right",l);break;case 3:n.rotateImg(this,"right",l),n.rotateImg(this,"right",l)}u=l.toDataURL("image/jpeg")}else if(navigator.userAgent.match(/Android/i))u=t.target.result;else{if(""!=a&&1!=a)switch(a){case 6:n.rotateImg(this,"left",l);break;case 8:n.rotateImg(this,"right",l);break;case 3:n.rotateImg(this,"right",l),n.rotateImg(this,"right",l)}u=l.toDataURL("image/jpeg")}l.width>l.height&&l.width>s?r=(o=s)*l.height/l.width:l.height>l.width&&l.height>s&&(o=(r=s)*l.width/l.height);var m={width:l.width,height:l.height,drawWidth:o,drawHeight:r,src:u};e(m)},o.src=t.target.result},o.readAsDataURL(t)},rotateImg:function(t,e,a){if(null!=t){var n=t.height,i=t.width,s=2;null==s&&(s=0),"right"==e?++s>3&&(s=0):--s<0&&(s=3);var o=90*s*Math.PI/180,r=a.getContext("2d");switch(s){case 0:a.width=i,a.height=n,r.drawImage(t,0,0);break;case 1:a.width=n,a.height=i,r.rotate(o),r.drawImage(t,0,-n);break;case 2:a.width=i,a.height=n,r.rotate(o),r.drawImage(t,-i,-n);break;case 3:a.width=n,a.height=i,r.rotate(o),r.drawImage(t,-i,0)}}}})},,,,,,function(t,e,a){"use strict";a.r(e);a(8);var n=a(0),i=a(27);e.default=n.connect.san({missMessage:"missMessage",slideTags:"slideTags",menuGroup:"menuGroup",typebox:"typebox",feature:"feature"},{updateMissMessage:"updateMissMessage",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",userInteraction:"UserInteraction"})({initData:function(){return{img:"https://bj.bcebos.com/v1/imlp-static/img/icon-unread.png",numbers:[],numHeight:1.2,showedCount:0}},attached:function(){var t=this;this.dispatch("component-tracking","ChatViewMissMessageTip"),this.initPosition();var e=this.data.get("missMessage")||{};e.number>0&&(this.data.push("numbers",e.number),this.goNext()),this.watch("missMessage",(function(e){e=e||{},t.data.push("numbers",e.number),t.goNext()})),n.store.dispatch("logCommon",{type:"missmsg_show"})},initPosition:function(){this.data.get("slideTags");var t=this.data.get("menuGroup"),e=(this.data.get("feature"),232);t&&"viewBottom"===t.position&&(e+=126),this.data.set("top",e)},readMessage:function(t){t&&t.preventDefault();var e=this.data.get("missMessage")||{};n.store.dispatch("logCommon",{type:"missmsg_click",content:{number:e.number}}),this.actions.userInteraction({from:"imlp",type:"card_click",content:{card:this.data.get("type"),text:"未读提醒"}}),this.dispatch("cancel-fixed"),this.dispatch("scrollToMessage"),this.actions.decideIsNeedScrollToBottom(!0),this.actions.updateMissMessage({on:!1,hasFirst:!1,number:0,index:-1})},goNext:function(){var t=this,e=this.data.get("numbers"),a=this.data.get("showedCount");!function n(i){t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){a===e.length-1?clearTimeout(t.timer):(a+=1,t.data.set("showedCount",a),n(2e3))}),i)}(0)},filters:{computeWidth:function(t){return(t+=1)<10?"width: ".concat(Object(i.b)(9),";"):t>=10&&t<100?"width: ".concat(Object(i.b)(18),";"):t>=100?"width: ".concat(Object(i.b)(27),";"):void 0}}})},function(t,e,a){"use strict";a.r(e);a(26);var n=a(0);e.default=n.connect.san({feature:"feature",contactNumber:"contactNumber",phoneModal:"phoneModal",wechat:"wechat",wechatModal:"wechatModal",floatCustom:"floatCustom",wholeColor:"theme.wholeColor",imlpAccessId:"imlpAccessId"},{})({initData:function(){return{cls:"imlp-component-contactModal-icon--right",touch:!1,direction:"right",middleX:-1,startX:-1,startY:-1,offsetX:-1,offsetY:-1}},computed:{phoneBg:function(){var t={"#FF5685":"https://wutong.bj.bcebos.com/medical%2Ftel-layer-fuchan.png",default:"https://imagelib.cdn.bcebos.com/cip_ml_pice3a5a115-a8c1-4b8f-a5ad-8b39c2a88392.png"};return t[this.data.get("wholeColor")]||t.default},custom:function(){var t=this.data.get("floatCustom");return t&&t[0]}},attached:function(){this.dispatch("component-tracking","PhoneModal");var t=this.ref("imlpComponentContactModalIcon"),e=document.getElementsByClassName("imlp-app-container")[0];t&&this.data.set("modalHeight",t.offsetHeight),e&&this.data.set("bodyHeight",e.offsetHeight);var a=this.data.get("wechatModal"),i=this.data.get("wechat");if(a&&i.account){var s={type:"wechat_show",content:i.account,from:"wechatModal"};n.store.dispatch("logCommon",s)}if(this.data.get("custom")){n.store.dispatch("logCommon",{type:"show",from:"doctorModal"})}},start:function(t){var e=t.touches?t.touches[0]:t,a=this.ref("imlpComponentContactModalIcon");this.data.set("touch",!0),this.data.set("startX",e.clientX),this.data.set("startY",e.clientY),this.data.set("offsetX",a.offsetLeft),this.data.set("offsetY",a.offsetTop),this.data.set("middleX",window.innerWidth/2)},move:function(t){if(this.data.get("touch")){var e=t.touches?t.touches[0]:t,a=e.clientX-this.data.get("startX"),n=e.clientY-this.data.get("startY"),i=this.data.get("offsetX")+a+"px",s=this.data.get("offsetY")+n+"px";this.data.set("direction",e.clientX<this.data.get("middleX")?"left":"right"),this.data.set("left",i),this.data.set("top",s),t.preventDefault(),t.stopPropagation()}},end:function(){this.data.set("touch",!1),this.data.set("left",""),this.data.set("cls","imlp-component-contactModal-icon--".concat(this.data.get("direction")));var t=this.data.get("top");if(t){var e,a=-(this.data.get("bodyHeight")-this.data.get("modalHeight"));e=(t=parseInt(t))>-10?-10:t>a?t:a,this.data.set("top",e+"px")}},clickPhoneModal:function(t,e){switch(t&&t.preventDefault(),e){case"phone":var a=this.data.get("contactNumber");this.dispatch("operate",{type:"phoneModal",history:"电话浮窗",item:{type:"tel",value:a}});break;case"wechat":var n=this.data.get("wechat");this.dispatch("operate",{type:"wechatModal",history:"微信浮窗，微信号“".concat(n.account,"”"),item:{type:"wechat",value:n.account}});break;case"doctor":var i=this.data.get("floatCustom")||[];this.dispatch("operate",{type:"doctorModal",history:"问医生浮窗",item:i[0]})}}})},function(t,e,a){"use strict";a.r(e);a(73),a(64),a(78),a(87),a(88),a(89);var n=a(29),i=a.n(n),s=a(51),o=a.n(s),r=a(9),c=a.n(r),d=a(14),l=a.n(d),p=(a(19),a(6),a(20),a(8),a(37),a(160),a(70),a(42),a(54),a(52),a(10),a(18),a(90),a(12),a(35),a(0)),u=a(44),m=a(100),h=a(47),g=a(3),f=a(1),v=a(22),x=a(13),b=a(5),y=a(284);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.default=p.connect.san({inputSuggest:"typeboxConfig.inputSuggest",robot:"session.robot",phoneModal:"phoneModal",feature:"feature",popupState:"popupState",isHideHomeBtn:"isHideHomeBtn",userHasLeads:"usrHasLeads",isTitleCard:"titleCard",weixin:"weixin",sugContent:"sugContent",sugShow:"sugShow",sugExp:"expParam.imlp_input_sug",inputFocusCount:"inputFocusCount",typeboxtext:"typeboxtext",sugBeforeContent:"sugBeforeContent",imType:"im_type",user_id:"user_id",imlpTrade:"imlpTrade"},{updateSugReplies:"updateSugReplies",logInputSug:"logInputSug",sendLog:"sendLog",showToast:"ShowToast",send:"SendMessage",updateText:"UpdateTypeBoxInput",setMask:"setMask"})({initData:function(){return{hiddenQuestions:[],containerRefKey:"imlp-component-sugSlider-box",iconMap:{phone:"&#xe733"},tipsShow:!1,slideTransition:!1,bottom:0,hasTipsShow:!1,sugLimit:3}},attached:function(){var t=this;this.dispatch("component-tracking","sugSlider"),this.watch("inputSuggest.dynamic",(function(){t.resetLayout()}));var e=(this.data.get("inputSuggest")||[]).static||[],a=[];e.forEach((function(e){var n,i;a.push(null!==(n=null==e||null===(i=e.value)||void 0===i?void 0:i.type)&&void 0!==n?n:e.type),"storeList"!==e.type||e.showCard||setTimeout((function(){e.value.value.source="sugSlider",e.value.value.showButton=!0,t.dispatch("operate",{type:"sugSlider",item:k(k({},e),{},{type:"sugQa"})})}),0)})),this.actions.sendLog({type:"sugslider_show",content:a.join("_")}),this.watch("inputSuggest",(function(e){var a;if(null==e||null===(a=e.static)||void 0===a?void 0:a.find((function(t){return"localPhone"===t.type}))){t.data.set("slideTransition",!0),t.nextTick((function(){!t.data.get("hasTipsShow")&&t.computePosition()}));var n=setTimeout((function(){t.closeTips(),clearTimeout(n)}),3e3)}})),this.watch("inputFocusCount",(function(e){if(!(e>4)){var a=t.data.get("sugExp"),n=t.data.get("sugBeforeContent.items")||[];["preinput","all"].includes(a)&&!t.data.get("typeboxtext")&&(n=n.slice(3*(e-1),3*e)).length&&p.store.dispatch("sugLog",{content:n,sugStatus:"before_input"})}}))},computePosition:function(){var t=this.ref("local-phone-sug-ref");if(t){var e=t.getBoundingClientRect(),a=e.height,n=e.bottom,i=g.a.getViewport();this.data.set("bottom",i.height-n+a+10),this.data.set("tipsShow",!0),this.data.set("hasTipsShow",!0)}},computed:{show:function(){var t=this.data.get("staticSuggest"),e=this.data.get("dynamic"),a=Object(h.b)(),n=this.data.get("popupState"),i=t&&t.length,s=e&&e.length,o=this.data.get("sugRecommend")||[],r=o&&o.length;return a?"open"===n&&(i||r):i||s||r},dynamic:function(){var t=(this.data.get("inputSuggest")||{}).dynamic||[],e=this.data.get("hiddenQuestions");return t.map((function(t){return t.filter((function(t){return-1===e.indexOf(t.id)}))}))},staticSuggest:function(){var t=(this.data.get("inputSuggest")||[]).static||[],e=(this.data.get("phoneModal"),this.data.get("feature")||{});t.forEach((function(t){t.highlight||(t.highlight="tel"===t.type&&!e.phone_modal_on,"storeList"!==t.type||t.show?t.show=!0:t.show=!1)}));var a=this.data.get("robot"),n=this.data.get("imType");a&&"45"!==n&&(t=[].concat(o()(t),[{type:"qa",text:"转人工",value:"",show:!0}])),this.data.get("isHideHomeBtn")&&(t=t.filter((function(t){return"url"!==t.type})));var i=this.data.get("imlpTrade"),s=b.a.imlpTrade,r=[s.law,s.edu].includes(i);return this.data.get("isTitleCard")&&!r&&(t=t.filter((function(t){var e;return(null==t||null===(e=t.value)||void 0===e?void 0:e.shortcut)||"tel"!==t.type}))),o()(t)},sugRecommend:function(){var t=this.data.get("inputFocusCount")||0,e=this.data.get("sugExp"),a=this.data.get("sugBeforeContent.items")||[];return a="preinput"!==e&&"all"!==e||this.data.get("typeboxtext")?("inputing"===e||"all"===e&&this.data.get("typeboxtext"))&&this.data.get("sugContent.items")||[]:a.slice(3*(t-1),3*t)}},closeTips:function(t){t&&t.stopPropagation(),this.data.set("tipsShow",!1),this.actions.sendLog({type:"sugsliderUserPhoneClose"})},showLocalPhoneCard:function(){this.data.get("userHasLeads")?this.actions.showToast({text:"您已经留过联系方式了"}):p.store.dispatch("showLocalPhoneCard","usermsg_sug")},resetLayout:function(){this.container=this.ref(this.data.get("containerRefKey")),this.container&&(this.container.scrollLeft=0)},hide:function(t,e){var a=e.id;a&&this.data.push("hiddenQuestions",a)},operate:function(t,e,a){var n=this;return i()(l.a.mark((function i(){var s,o,r,c,d;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t&&t.preventDefault(),a&&n.actions.logInputSug({type:"send",content:e.reply_id}),s="",o="sugSlider",i.t0=e.type,i.next="track"===i.t0?7:"text"===i.t0?10:"qa"===i.t0?14:"list"===i.t0?18:"storeList"===i.t0?20:"popForm"===i.t0?32:35;break;case 7:return u.a.trackHandle(e.value,e),e.tips&&p.store.dispatch("sendSystemMsg",e.tips),i.abrupt("break",37);case 10:return s=e.text,e.type="client_msg",e.trackTag="sugQa",i.abrupt("break",37);case 14:return s=e.text,e.type="sugQa",e.trackTag="sugQa",i.abrupt("break",37);case 18:return p.store.dispatch("asyncPopup",e),i.abrupt("break",37);case 20:return e.type="sugQa",e.value.value.showButton=!1,i.prev=22,i.next=25,y.a.getLc({needLc:!0});case 25:r=i.sent,e.value.value.value={longitude:r.lng,latitude:r.lat,userId:n.data.get("user_id")},i.next=31;break;case 29:i.prev=29,i.t1=i.catch(22);case 31:return i.abrupt("break",37);case 32:return c=x.a.formatPopupForm("order"),n.actions.setMask({show:!0,childcomponent:"standardpopup",data:c}),i.abrupt("break",37);case 35:s=e.text,"url"!==e.type||n.data.get("isHideHomeBtn")||(d={type:"website_click"},m.a.log(d));case 37:n.dispatch("operate",{item:e,type:o,history:s});case 38:case"end":return i.stop()}}),i,null,[[22,29]])})))()},filters:{formatHighLight:function(t){return t=(t=(t=t.replace(/(<em>)/g,'<span class="imlp-component-sug-item-high">')).replace(/(<\/em>)/g,"</span>")).replace(/<(?!span|\/span)[^>]*>/g,"")}},sendSug:function(t,e){this.actions.send({source:"user",type:f.e.TEXT,content:v.a.formatRichText({},t.value),trigger:"input",sourceTag:"sug"}),p.store.dispatch("sendLog",{type:"sug_click",content:{logContent:t.log,logIndex:e,sugStatus:this.data.get("typeboxtext")?"input":"before_input",inputFocusCount:this.data.get("inputFocusCount"),input:this.data.get("typeboxtext")}}),this.dispatch("resetInput")},isLastItem:function(t){return t===this.data.get("sugRecommend").length-1||t===this.data.get("sugLimit")-1}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(243),s=a.n(i);e.default=n.connect.san({savatar:"service.avatar"},{sendLog:"sendLog"})({components:{"ui-phone-button":s.a},attached:function(){this.actions.sendLog({type:"bottom_phone_show"})},initData:function(){return{phoneButtonKey:"imlp-phone-button"}},closeHandle:function(){this.actions.sendLog({type:"bottom_phone_close",content:{trigger:"click"}}),event&&event.stopPropagation(),this.fire("change-display")},callPhone:function(){var t=this.ref(this.data.get("phoneButtonKey"));t.click&&t.click()}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=(a(47),a(1));e.default=n.connect.san({inputSuggest:"typeboxConfig.inputSuggest",popupState:"popupState",robotServiceModel:"robotServiceModel"},{logInputSug:"logInputSug"})({initData:function(){return{}},attached:function(){var t=n.store.getState("isNeedScrollToBottom");this.data.get("robotServiceModel")===i.o.SELECTION_ROBOT&&t&&n.store.dispatch("ChatViewScrollToBottom"),this.watch("dynamic",(function(t){this.data.set("hasClicked",!1)}))},computed:{show:function(){var t=this.data.get("dynamic");return t&&t.length},dynamic:function(){var t,e=((this.data.get("inputSuggest")||{}).dynamic||[])[0]||[];return null===(t=e[0])||void 0===t?void 0:t.suggest_reply}},operate:function(t,e){switch(t&&t.preventDefault(),e.type){case"tel":case"wechat":this.dispatch("operate",{item:e,type:a,history:e.text});break;default:var a="sugSlider";e.type="client_msg",e.trackTag="sugQa",this.dispatch("operate",{item:e,type:a,history:e.text}),this.data.set("hasClicked",!0),this.actions.logInputSug({type:"send",content:e.reply_id})}},changeShowStatus:function(t){t&&this.data.set("show",!1)}})},function(t,e,a){"use strict";a.r(e);var n=a(74),i=a.n(n),s=(a(12),a(53),a(8),a(65),a(10),a(17),a(55),a(6),a(97),a(26),a(311),a(316),a(79),a(0)),o=(a(30),a(135)),r=a(255),c=a.n(r),d=a(256),l=a.n(d),p=a(257),u=a.n(p),m=a(181),h=a.n(m),g=a(5),f=a(3),v=a(258),x=a.n(v),b=a(1),y=a(259),w=a.n(y);e.default=s.connect.san({updateTypeboxInputFocusState:"updateTypeboxInputFocusState",emitSendButtonClick:"emitSendButtonClick",emitPhoneClick:"emitPhoneClick",text:"typeboxtext",landpageurl:"landpageurl",contactNumber:"contactNumber",sendImage:"sendImage",bottombox:"typeboxbottombox",appid:"appid",iframe:"iframe",sessionState:"session.state",presetMessage:"presetMessage",feedbackURL:"feedbackURL",xhinfo:"xhinfo",blockSession:"review",needBackXcx:"needBackXcx",clientSourceExt:"clientSourceExt",baozhangUrl:"baozhangUrlPlus",showBaozhangInfo:"showBaozhangInfo",phoneModal:"phoneModal",wechatModal:"wechatModal",floatCustom:"floatCustom",wholeColor:"theme.wholeColor",showMenuMore:"showMenuMore",inputSuggest:"typeboxConfig.inputSuggest",menu:"typeboxConfig.menu",feature:"feature",blockScrollMsg:"blockScrollMsg",isPageInit:"page.init",terminal:"terminal",popupState:"popupState",inputMoreState:"inputMoreState",inputFaceState:"inputFaceState",missMessage:"missMessage",inputState:"inputState",consultBtnState:"consultBtnState",button:"button",robotServiceModel:"robotServiceModel",sugContent:"sugContent",sugExp:"expParam.imlp_input_sug",inputFocusCount:"inputFocusCount",hasGetSug:"hasGetSug"},{updateText:"UpdateTypeBoxInput",setBottomBox:"ToggleTypeBoxBottomBox",send:"SendMessage",connectNet:"ConnectNet",setMask:"setMask",updateFixedState:"updateFixedAction",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",triggerXhRule:"triggerXhRule",logPresetMsg:"logPresetMsg",updateInputTrack:"updateInputTrack",inputFocus:"inputFocus",showMenuMore:"showMenuMore",initPage:"pageInit",updateSugStatus:"updateSugStatus",getSug:"getSug",saveInputFocusCount:"saveInputFocusCount",updateSugContent:"updateSugContent"})({components:{"ui-typebox-emoji":c.a,"ui-uploader":l.a,"ui-chat-miss-message-tip":u.a,"ui-phone-modal":h.a,"ui-sug-slider":x.a,"ui-contact-modal":h.a,"ui-dynamic-sugslider":w.a},computed:{customModal:function(){var t=this.data.get("floatCustom");return t&&t.length>0}},initData:function(){return{bottombox:"emoji",inputRefKey:"imlp-component-popuptypebox-textarea",presetWord:"",buttonClicked:!1,sended:!1,focused:!1,defaultPlaceholder:"请您输入...",placeholder:"请您输入...",plusBoxItemPlaceholderClass:"imlp-component-popuptypebox-plus-box-item-order-999",textChanged:!1,sessionClosedState:g.a.stateMap.closed,iconMap:{phone:"&#xe733;"},hasText:!1,bottom:0,left:0,recommendPreset:!1}},attached:function(){var t=this;this.dispatch("component-tracking","TypeBoxNewPopup");var e=this,a=this.el.querySelector(".imlp-component-popuptypebox-textarea"),n=this.el.querySelector(".imlp-component-popuptypebox-send"),o=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),r=navigator.userAgent.match(/(UCBrowser\/){1}\d+/g),c=this.data.get("terminal");if(this.data.set("isIOS",o),this.data.set("isUC",r),o&&"H5-window"===c){var d=function(t){if(e.data.get("inputFocus")){var n=a.parentNode,i=document.createElement("span");n.replaceChild(i,a),e.inputBlur(),setTimeout((function(){n.replaceChild(a,i)}),50)}};if(document.body.addEventListener("click",(function(t){t.target.getAttribute("data-holdfocus")||a.blur()})),e.preventScrollToEnd=!0,r){var l=document.body.querySelector('[data-selector="chatview"]');l&&l.addEventListener("touchstart",d),e.el.addEventListener("touchmove",d)}}var p=this.data.get("feature"),u=o&&r&&"H5-window"===c;this.data.set("nomousedown",u),p.input_case&&!u&&this.addEvent(n,"mousedown",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1})),this.inputElem=a,this.autoTextarea(a),this.inputTimer=null,this.blurTimer=null;f.a.debounce((function(t){e.actions.triggerXhRule(t)}),100,e);this.computePosition(),this.initPresetWord(),this.watch("presetMessage",(function(e){t.initPresetWord()})),this.dispatch("setCompRect","typebox"),this.checkPlusBoxItemCount(),this.data.get("blockScrollMsg")||e.preventScrollToEnd||e.scrollToEnd();var m=i()((function(t){e.actions.getSug({source:"input",data:t})}),100,e);this.watch("text",(function(t,a){this.data.set("textChanged",!0);this.data.get("xhinfo").waked;e.actions.updateText(t);var n=a.oldValue||"",i=f.a.hasWordDiff(n,t),s=this.data.get("sugExp"),o="inputing"===s||"all"===s;o&&t&&!/^[a-zA-Z\s']+$/.test(t)&&i&&(e.actions.updateSugContent([]),this.actions.updateSugStatus(!0),m(t)),o&&!t&&this.actions.updateSugContent([]),"preinput"===s&&this.actions.updateSugStatus(!1)})),this.watch("updateTypeboxInputFocusState",(function(t){var e=this.el.querySelector(".imlp-component-popuptypebox-textarea");t.state?e.focus():e.blur()})),this.watch("emitSendButtonClick",(function(){e.send({},!0)})),this.watch("emitPhoneClick",(function(t){"input"===t.type&&e.makecontact()}));var h=Object(f.b)();h&&this.data.set("isAndroidFirefox",h),this.watch("consultBtnState",(function(t){t&&s.store.dispatch("popupConsultBtnShow",s.store.getState("button")?Object.assign({copyType:"recommend",type:"popupBtnExp"},s.store.getState("button.log")):{copyType:"default",type:"popupBtnExp"})}))},checkPlusBoxItemCount:function(){var t=1;this.data.get("landpageurl")&&t++,this.data.get("contactNumber")&&t++,this.data.get("sendImage")&&t++,this.data.get("feedbackURL")&&t++,this.data.get("showBaozhangInfo")&&t++,t<4&&this.data.set("plusBoxItemPlaceholderClass","imlp-component-popuptypebox-plus-box-item-order-999-none")},computePosition:function(){var t=this.ref("imlp-component-popuptypebox-typezone"),e=this.ref("imlp-component-popuptypebox-menu");if(t){var a=t.getBoundingClientRect();this.data.set("bottom",a.height+"px")}if(e){var n=e.getBoundingClientRect();this.data.set("left",n.left-4+"px")}},initPresetWord:function(){var t=this.data.get("presetWord"),e=(this.data.get("textChanged"),this.data.get("presetMessage")||{}),a=e.enabled,n=e.message,i=e.from,s=e.showType,o=a&&n&&1===s,r=this.data.get("button");(o||r)&&(o?t=n:(t=r.content[0].text,i="recommend",this.data.set("recommendPreset",!0)),this.data.set("presetWord",t),this.data.set("placeholder",t),this.actions.logPresetMsg({type:"preset_show_".concat(i),content:encodeURIComponent(t)}),this.data.set("hasText",!0),this.data.set("sended",!1))},renderInput:function(t){this.inputElem.value=t,this.updateText(),this.change(),this.hasEmoji=!0},resetInput:function(){this.actions.updateText(""),this.el.querySelector(".imlp-component-newtypebox-textarea").value="",this.change()},makecontact:function(){var t=this.data.get("contactNumber");this.dispatch("operate",{type:"typeBox",history:"底部电话按钮",item:{type:"tel",value:{number:t}}})},homepage:function(){var t=this.data.get("landpageurl"),e=this.data.get("sessionState")===this.data.get("sessionClosedState"),a=this.data.get("needBackXcx"),n=this.data.get("clientSourceExt")||{};e&&this.sendTrack();var i={type:"typeBox",value:{type:"url",content:t}};a&&n.indexPath&&n.appKey&&(i.value.value={type:"xcx",mat:{appKey:n.appKey,path:decodeURIComponent(n.indexPath),extraData:{}}}),this.dispatch("chat-action",i)},feedback:function(){var t=this.data.get("feedbackURL");this.dispatch("chat-action",{type:"typeBox",value:{type:"url",value:t}})},baozhang:function(){var t=this.data.get("baozhangUrl");this.dispatch("chat-action",{type:"typeBox",value:{type:"iframe",value:t}})},toggleBox:function(t){if("input"==t)this.actions.setBottomBox("input"),this.scrollToEnd();else{var e=this.el.querySelector(".imlp-component-popuptypebox-textarea"),a=this.data.get("bottombox");a==t?(clearInterval(this.imlpcid),this.actions.setBottomBox("input"),e.focus(),this.scrollToEnd()):("emoji"===a&&"plus"===t?this.actions.setBottomBox(""):this.actions.setBottomBox(t),e.blur(),this.scrollToEnd())}this.actions.showMenuMore(!1)},scrollToEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,e=this;setTimeout((function(){e.el.scrollIntoView&&e.el.scrollIntoView(!0),e.el.scrollIntoViewIfNeeded&&e.el.scrollIntoViewIfNeeded()}),t)},textareaEvent:function(t){var e=t.type;if("click"===e){clearTimeout(this.inputTouchStartCallPopup);var a=s.store.getState("mask");if(a.show&&"captcha"===a.childcomponent)return void s.store.dispatch("inputClickNoFocus",!1);var n=this.el.querySelector(".imlp-component-popuptypebox-textarea");if(!!this.data.get("bottombox"))document.querySelector(".imlp-component-popuptypebox-bottom-box").style.display="none",this.actions.setBottomBox("input"),this.actions.showMenuMore(!1);n.focus()}else"touchstart"===e&&(clearTimeout(this.inputTouchStartCallPopup),s.store.dispatch("inputTouchStartCallPopup",!0),this.inputTouchStartCallPopup=setTimeout((function(){s.store.dispatch("inputTouchStartCallPopup",!1)}),2e3))},inputfocus:function(){this.data.set("inputFocus",!0),s.store.dispatch("inputFocusCallPopup",!0),this.data.get("blockSession")||this.actions.connectNet({source:"focus"}),navigator.userAgent.indexOf("MiuiBrowser")>0&&this.data.set("miuiFocused",!0),this.actions.inputFocus("typebox"),this.actions.updateInputTrack({start:{ts:(new Date).getTime(),len:this.data.get("text").length}}),this.preventScrollToEnd||this.scrollToEnd(),this.actions.showMenuMore(!1);var t=this.data.get("sugExp"),e="preinput"===t||"all"===t;this.actions.saveInputFocusCount();var a=this.data.get("inputFocusCount");e&&!this.data.get("text")&&(1===a&&this.actions.getSug({source:"before_input"}),a<5&&this.actions.updateSugStatus(!0)),"inputing"!==t&&"all"!==t||!this.data.get("text")||(this.actions.getSug({source:"input",data:this.data.get("text")}),this.actions.updateSugStatus(!0))},inputBlur:function(){this.data.set("inputFocus",!1),s.store.dispatch("inputFocusCallPopup",!1),this.actions.updateInputTrack({end:{ts:(new Date).getTime(),len:this.data.get("text").length}}),navigator.userAgent.indexOf("MiuiBrowser")>0&&this.data.set("miuiFocused",!1),this.blurTimer&&clearTimeout(this.blurTimer),this.blurTimer=setTimeout((function(){window.scroll&&window.scroll(0,0)}),10),this.actions.updateSugStatus(!1)},updateText:function(){var t=this.el.querySelector(".imlp-component-popuptypebox-textarea");this.actions.updateText(t.value.trim()),this.actions.updateInputTrack({middle:{ts:(new Date).getTime(),len:t.value.trim().length}}),t.value.trim().length>0?this.data.set("hasText",!0):this.data.set("hasText",!1)},inputKeydown:function(t){this.data.get("feature").input_case&&13===t.keyCode&&(13===t.keyCode&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.send(t,!0))},send:function(t,e){var a=t.type,n=this.data.get("isPageInit"),i=this.el.querySelector(".imlp-component-popuptypebox-textarea"),s=this.data.get("sended"),r=this.data.get("defaultPlaceholder"),c=this.data.get("text"),d=this.data.get("presetWord"),l=this.data.get("presetMessage")||{},p=this.data.get("recommendPreset")?"recommend":l.from,u=this.data.get("buttonClicked"),m=!1,h=this.data.get("textChanged");c&&!u&&this.data.set("buttonClicked",!0),n||(o.a.init(),this.actions.initPage()),(13===t.keyCode||e)&&(""===c.trim()&&""===d.trim()||((""===c.trim()&&""!==d.trim()||!h&&""!==c.trim()&&""!==d.trim())&&(c=d.trim(),s||(m=!0,this.data.set("sended",!0),this.data.set("presetWord",""),this.data.set("placeholder",r),p&&this.actions.logPresetMsg({type:"preset_send_".concat(p),content:encodeURIComponent(c)}))),this.actions.updateText(""),i.innerHTML="",i.value="",this.change(),this.actions.setBottomBox(""),this.actions.send({source:"user",type:b.e.TEXT,content:c,trigger:"input",sourceTag:m&&p?p:""}),this.data.get("nomousedown")&&"click"===a||this.hasEmoji&&this.data.get("isIOS")?this.blur():this.focus(),this.hasEmoji=!1,this.data.set("hasText",!1)))},keepLastIndex:function(){var t=this.inputElem;if(window.getSelection)t.focus(),(e=window.getSelection()).selectAllChildren(t),e.collapseToEnd();else if(document.selection){var e;(e=document.selection.createRange()).moveToElementText(t),e.collapse(!1),e.select()}},addEvent:function(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent("on"+e,a)},autoTextarea:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:148;this.extra=e||0,this.isFirefox=!!document.getBoxObjectFor||"mozInnerScreenX"in window,this.isOpera=!!window.opera&&!!window.opera.toString().indexOf("Opera"),this.input=t,this.maxHeight=a,this.minHeight=parseInt(getComputedStyle(t,null).height,10),this.getStyle=t.currentStyle?function(e){var a=t.currentStyle[e];if("height"===e&&1!==a.search(/px/i)){var n=t.getBoundingClientRect();return n.bottom-n.top-parseFloat(this.getStyle("paddingTop"))-parseFloat(this.getStyle("paddingBottom"))+"px"}return a}:function(e){return getComputedStyle(t,null)[e]},this.addEvent(t,"propertychange",this.change.bind(this)),this.addEvent(t,"input",this.change.bind(this)),this.addEvent(t,"focus",this.change.bind(this)),this.change()},change:function(){var t,e=this.input,a=0,n=e.style;e._length!==e.value.length&&(e._length=e.value.length,this.isFirefox||this.isOpera||(a=parseInt(this.getStyle("paddingTop"),10)+parseInt(this.getStyle("paddingBottom"),10)),document.body.scrollTop||document.documentElement.scrollTop,e.style.height=this.minHeight+"px",e.value&&e.scrollHeight>=this.minHeight?(this.maxHeight&&e.scrollHeight>this.maxHeight?(t=this.maxHeight,n.overflowY="scroll"):t=e.scrollHeight-a,n.height=t+this.extra+"px",e.parentElement.style.height=t+this.extra-4+"px",e.currHeight=parseInt(n.height)):(e.style.height=this.minHeight+"px",e.parentElement.style.height=this.minHeight-4+"px"))},openSessionClosedTip:function(){this.actions.setMask({show:!0,childcomponent:"session-closure"})},focus:function(){this.inputElem.focus(),this.inputElem.select()},blur:function(){this.inputElem.blur()},sendTrack:function(){this.dispatch("operate",{item:{},type:"typebox",history:"底部医院首页按钮",connected:1})},moreClick:function(t){t&&t.preventDefault(),this.dispatch("operate",{item:{type:"menuMore",text:"更多信息"},type:"typebox",history:"更多信息"})},operate:function(t,e){t&&t.preventDefault();var a=e.text;this.dispatch("operate",{item:e,type:"typebox",history:a}),"menu"===e.type&&(this.actions.decideIsNeedScrollToBottom(!1),this.actions.updateFixedState(!1))},updateTypemore:function(){},messages:{renderInput:function(t){this.renderInput(t.value)},resetInput:function(){this.resetInput()}}})},function(t,e,a){"use strict";a.r(e);a(18);var n=a(0),i=(a(30),a(699)),s=a.n(i),o=a(700),r=a.n(o),c=a(701),d=a.n(c),l=a(702),p=a.n(l),u=a(704),m=a.n(u),h=a(705),g=a.n(h),f=a(709),v=a.n(f),x=a(711),b=a.n(x),y=a(712),w=a.n(y),k=a(713),S=a.n(k),C=a(714),T=a.n(C),M=a(715),I=a.n(M),B=a(716),P=a.n(B),L=a(717),D=a.n(L),O=a(718),E=a.n(O);e.default=n.connect.san({show:"mask.show",child:"mask.childcomponent",missMessage:"missMessage",popupState:"popupState",data:"mask.data"},{toggle:"MaskToggle",setMask:"setMask",updateMissMessage:"updateMissMessage",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom"})({initData:function(){var t=n.store.getState("header.title"),e=n.store.getState("im_type");return{menu:[{action:"iframe",text:"页面须知",url:"/imlp/static?page=1"},{action:"iframe",text:"服务声明",url:"/imlp/static?page=2&imType=".concat(e,"&name=").concat(t)}],bottom:0,hideMask:!1}},components:{"ui-notice":s.a,"ui-session-closure":r.a,"ui-detention":d.a,"ui-menu":p.a,"ui-captcha":m.a,"ui-standardcard":g.a,"ui-city":v.a,"ui-sms":b.a,"ui-picture":w.a,"ui-form-granted":S.a,"ui-couponmask":T.a,"ui-couponmasksuccess":I.a,"ui-couponrule":P.a,"ui-wechat-text":D.a,"ui-wechat-image":E.a},toggle:function(){this.actions.toggle({})},attached:function(){this.dispatch("component-tracking","Mask"),this.watch("show",(function(t){var e=t?"add":"remove",a="layout-fixed";document.documentElement.classList[e](a),document.body.classList[e](a)})),this.watch("popupState",(function(t){var e="small"===t||"close"===t;this.data.set("hideMask",e)}))},operate:function(t,e){t&&(t.preventDefault(),t.stopPropagation(),"imlp-component-mask"!==t.target.classList[0])||this.maskCloseHandler(e)},maskCloseHandler:function(t){var e=this.data.get("child");if(this.cardPopupLog(e,t),"standardpopup"===e||"menu"==e){var a;if("card"===(null===(a=this.data.get("data"))||void 0===a?void 0:a.type)&&n.store.dispatch("resetCardList"),this.actions.setMask({show:!1,childcomponent:""}),this.dispatch("cancel-fixed"),0===this.data.get("missMessage.number"))return void this.dispatch("scrollHandle");switch(t){case"mask":case"close":case"hash":default:this.dispatch("scrollHandle");break;case"unread":case"savatar":case"message":case"consult":this.dispatch("inputFocus",t),this.resetMissMessage()}}},resetMissMessage:function(){this.dispatch("scrollToMessage"),this.actions.decideIsNeedScrollToBottom(!0),this.actions.updateMissMessage({on:!1,hasFirst:!1,number:0,index:-1})},cardPopupLog:function(t,e){if("standardpopup"===t){var a={type:"popup_close",from:e,number:(this.data.get("missMessage")||{}).number||0};n.store.dispatch("cardPopupLog",a)}},messages:{maskClose:function(t){var e=t&&t.value&&t.value.source||"";this.maskCloseHandler(e)}}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({appid:"appid"},{masktoggle:"MaskToggle"})({initData:function(){return{text:""}},attached:function(){this.dispatch("component-tracking","mask_notice")},toggle:function(){this.actions.masktoggle({})}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{masktoggle:"MaskToggle",sessionCloseMaskLog:"sessionCloseMaskLog"})({initData:function(){return{text:""}},attached:function(){this.dispatch("component-tracking","mask_sessionclosure"),this.actions.sessionCloseMaskLog("close_mask_show")},hide:function(){this.actions.masktoggle({}),this.actions.sessionCloseMaskLog("close_mask_hide")},refresh:function(){window.location.reload(),this.actions.sessionCloseMaskLog("close_mask_refresh")}})},function(t,e,a){"use strict";a.r(e);a(70),a(90),a(17),a(8);var n=a(0),i=a(1),s=a(28),o=a(5),r=a(44);e.default=n.connect.san({smartprogram:"smartprogram",imType:"im_type",ssid:"ssid",historySeq:"historySeq",detentionData:"detentionContent",feature:"feature",isNewStyle:"feature.new_detention_style",baiduboxapp:"baiduboxapp",isLiteBox:"isLiteBox",closeType:"mask.data.closeType",inputSuggest:"typeboxConfig.inputSuggest",usrHasLeads:"usrHasLeads",hasFirstClientMsg:"session.hasFirstClientMsg",sendedMsgCount:"session.sendedMsgCount",intensifyPhoneExp:"expParam.imlp_intensify_phone",phoneInfo:"phoneInfo",imlpTrade:"imlpTrade"},{masktoggle:"MaskToggle",detentionAction:"detentionAction",leave:"NetTaskleave",updateText:"UpdateTypeBoxInput",send:"SendMessage",detentionItemLog:"detentionItemLog",updatedetentionStatus:"updatedetentionStatus",updateSourceTag:"updateSourceTag",addMessageToChatView:"AddMessageToChatView",connectNet:"ConnectNet",chatAction:"ChatAction"})({computed:{phoneExp:function(){var t=o.a.imlpTrade,e=t.law,a=t.edu,n=this.data.get("imlpTrade"),i=[e,a].includes(n),s=this.data.get("phoneInfo"),r=this.data.get("intensifyPhoneExp");return s&&(i||r)}},attached:function(){this.dispatch("component-tracking","mask_detention");var t=this.data.get("detentionData.log"),e=this.data.get("closeType")||"",a=this.data.get("hasFirstClientMsg")||!1,n=!!this.data.get("phoneInfo"),i=this.data.get("usrHasLeads")||!1,s=this.data.get("sendedMsgCount")||0;this.actions.detentionAction({type:"show",content:t,ext:{closeType:e,hasFirstClientMsg:a,hasPhone:n,usrHasLeads:i,userMsgCount:s}}),this.actions.updatedetentionStatus()},hide:function(){if(this.actions.detentionAction({type:"hide"}),this.actions.masktoggle({}),!this.data.get("isLiteBox")){var t="#back"+(new Date).getTime(),e={title:"title",url:t};window.history.pushState(e,"title",t)}},confirm:function(){var t=this;this.actions.detentionAction({type:"confirm"}),this.actions.masktoggle({}),this.leave(),setTimeout((function(){t.data.get("isLiteBox")&&window.swan&&swan.exit?swan.exit():t.back()}),300)},leave:function(){var t=this.data.get("imType"),e=this.data.get("ssid");this.actions.leave({im_type:t,ssid:e})},back:function(){for(var t=this.data.get("smartprogram"),e=this.data.get("historySeq"),a=history.length-e,n=0;n<a;n++)2===history.length&&n===a-1&&t?window.swan&&swan.webView&&swan.webView.navigateBack&&swan.webView.navigateBack():history.back()},send:function(t){var e=t.action,a=t.log,n=t.text;if(e===i.d.MESSAGE)this.actions.send({source:"user",type:i.e.TEXT,content:n,trigger:"input",sourceTag:"detention"});else if(e===i.d.INPUT)this.dispatch("inputFocus"),this.actions.updateText(n),this.actions.updateSourceTag("detention");else if(e===i.d.SHOW_AND_TRACK){var o=s.a.formatMessage({content_type:i.e.TEXT,content:n,trigger:"card"});o.type=o.type||i.e.TEXT,this.actions.addMessageToChatView(o),this.actions.connectNet({source:"send"});var c={};r.a.trackHandle('该访客在即将离开咨询页时点击了挽留弹窗中的"'.concat(n,'"问题，请您及时解答！'),c),this.actions.chatAction({value:c})}this.actions.masktoggle({}),this.actions.detentionItemLog(a)},callUp:function(){var t=this.data.get("phoneInfo");this.actions.masktoggle({}),this.dispatch("operate",{item:t,type:"detention",history:'挽留弹窗的"拨打客服电话"'})}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(703),s=a.n(i);e.default=n.connect.san({feature:"feature"},{})({components:{"widget-legalstatement":s.a},attached:function(){this.dispatch("component-tracking","mask_menu")}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(5),s=a(260),o=a.n(s),r=a(93),c=a.n(r);e.default=n.connect.san({title:"header.title",imType:"im_type",xyl:"xyl"},{})({initData:function(){return{close:{width:20,height:20},imTypeNames:i.a.imTypeMap}},attached:function(){this.dispatch("component-tracking","mask_legalstatement")},operate:function(t,e){t&&(t.preventDefault(),t.stopPropagation()),this.dispatch("maskClose",{source:e})},components:{"widget-messagebox":o.a,"widget-close":c.a}})},function(t,e,a){"use strict";a.r(e);a(52),a(6),a(26),a(18),a(8);var n=a(0),i=a(261),s=a.n(i),o=a(145),r=a(27);e.default=n.connect.san({savatar:"service.avatar",data:"mask.data",missMessage:"missMessage"},{})({components:{"widget-captcha":s.a},initData:function(){return{button:"立即咨询",showedCount:0,scrollMessage:[{msgid:1,content:"有什么可以帮您解答的吗？"}]}},computed:{totalConsultHeight:function(){return Object(r.a)(o.heightMessageBoxConsultValue*this.data.get("showedCount"))}},attached:function(){var t=this;this.dispatch("component-tracking","mask_messageBox"),this.goNext("cardpopup"),this.watch("missMessage",(function(){t.goNext("missmessage")}))},goNext:function(t){var e=this,a=this.data.get("missMessage")||{},n=this.data.get("scrollMessage"),i=n.length,s=n[i-1].msgid||1,o=a.list||[];if("cardpopup"===t&&o.length>0){var r=o.pop();this.data.set("scrollMessage",[r])}else{var c=o.filter((function(t){return parseInt(t.msgid,10)>s}));c.length>0&&(n=n.concat(c),this.data.set("scrollMessage",n));var d=this.data.get("showedCount");!function t(a){e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){d===n.length-1?clearTimeout(e.timer):(d+=1,e.data.set("showedCount",d),t(2e3))}),a)}(0)}},operate:function(t,e){t&&(t.preventDefault(),t.stopPropagation()),this.dispatch("maskClose",{source:e})},filters:{maxNum:function(t,e){return t>e?e+"+":t}}})},function(t,e,a){"use strict";a.r(e);a(37);var n=a(0);e.default=n.connect.san({captcha:"anti.captcha.image",base64:"anti.captcha.base64",token:"anti.captcha.token",orientation:"track.orientation"},{getCaptcha:"getCaptcha",checkCaptcha:"checkCaptcha",masktoggle:"MaskToggle",showToast:"ShowToast",antiBlock:"antiBlock",antiLog:"antiLog"})({initData:function(){return{inputRef:"imlp-widget-captcha-input",errMsgMap:{empty:"答案为空,请重新输入",length:"验证码长度不足4位,请重新输入",default:"验证码输入异常,请重新输入"}}},attached:function(){this.dispatch("component-tracking","widgets_captcha");this.getCaptcha(!0)},getCaptcha:function(t){this.actions.getCaptcha(),t||this.actions.antiLog("captcha_refresh")},confirm:function(t){var e=this.ref(this.data.get("inputRef")),a=e.value,n=this.invalidInput(a);n?this.errHandle(n):this.submit(t,a),this.clearInput(e)},submit:function(t,e){this.actions.antiLog({type:"captcha_check",ext:{track:[t.pageX,t.pageY,screen.width,screen.height].join("_")}}),this.actions.checkCaptcha(e)},invalidInput:function(t){return t?"":"empty"},errHandle:function(t){var e=this.data.get("errMsgMap"),a=e[t]||e.default;this.actions.showToast({text:a})},clearInput:function(t){t&&(t.innerHTML="",t.value="")},cancel:function(t){this.actions.masktoggle({}),this.actions.antiBlock(),this.actions.antiLog({type:"captcha_cancel",ext:{track:[t.pageX,t.pageY,screen.width,screen.height].join("_")}}),window.scroll&&window.scroll(0,0)},blur:function(){window.scroll&&window.scroll(0,0)}})},function(t,e,a){"use strict";a.r(e);var n=a(27);e.default={computed:{width:function(){var t=this.data.get("size");return t.rem?"".concat(Object(n.a)(t.width)):"".concat(t.width,"px")},height:function(){var t=this.data.get("size");return t.rem?"".concat(Object(n.a)(t.height)):"".concat(t.height,"px")}},attached:function(){this.dispatch("component-tracking","icon_cityClose")}}},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(261),s=a.n(i);e.default=n.connect.san({},{})({attached:function(){this.dispatch("component-tracking","mask_captcha")},components:{"widget-captcha":s.a}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(260),s=a.n(i),o=a(249),r=a.n(o),c=a(706),d=a.n(c),l=a(169),p=a.n(l),u=a(128),m=a.n(u),h=a(129),g=a.n(h),f=a(168),v=a.n(f),x=a(130),b=a.n(x),y=a(106),w=a.n(y),k=a(167),S=a.n(k),C=a(252),T=a.n(C),M=a(93),I=a.n(M),B=a(707),P=a.n(B),L=a(253),D=a.n(L),O="E0003",E=15;e.default=n.connect.san({savatar:"service.avatar",data:"mask.data",feature:"feature"},{setMask:"setMask",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom"})({initData:function(){return{close:{width:48,height:48,rem:!0},combined:!1,cardindex:0}},computed:{type:function(){return this.data.get("data.type")},source:function(){return this.data.get("data.source")},list:function(){return this.data.get("data.list")},isCardListContainer:function(){var t,e,a=this.data.get("data");return"card"===(null==a?void 0:a.type)&&((null==a||null===(t=a.value)||void 0===t?void 0:t.type)===O||+(null==a||null===(e=a.value)||void 0===e?void 0:e.service)===E)},title:function(){var t=this.data.get("data.title")||"详情";return this.data.get("isCardListContainer")?"请选择您要咨询的订单":t}},attached:function(){this.dispatch("component-tracking","mask_standardpopup")},operate:function(t,e){t&&(t.preventDefault(),t.stopPropagation()),this.dispatch("maskClose",{source:e})},components:{"widget-messagebox":s.a,"widget-detailbase":r.a,"widget-slide-image":d.a,"widget-image":p.a,"widget-subtitle":m.a,"widget-tagtext":g.a,"widget-description":v.a,"widget-score":b.a,"widget-tags":w.a,"widget-price":S.a,"widget-close":I.a,"widget-tabscard":T.a,"widget-cardlist":P.a,"widget-popup-form":D.a}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({},{sendLog:"sendLog"})({attached:function(){this.dispatch("component-tracking","standard_slideImage")},click:function(){this.actions.sendLog({type:"slider_exp",content:"slideImage"})}})},function(t,e,a){"use strict";a.r(e);a(79);var n=a(0),i=a(262),s=a.n(i),o=a(708),r=a.n(o);e.default=n.connect.san({cardList:"cardList",pageNum:"pageNum",isLoading:"isLoading",isCardListEmpty:"isCardListEmpty"},{getCard:"getAsyncCard",setLoading:"setCardListLoading",send:"SendMessage"})({attached:function(){this.getCardList(),this.el.addEventListener("scroll",s()(this.handleScroll.bind(this),500),{passive:!0})},components:{"ui-order":r.a},computed:{showFstLoading:function(){var t;return!(null!==(t=this.data.get("cardList"))&&void 0!==t&&t.length)&&this.data.get("isLoading")},showListEmpty:function(){return this.data.get("isCardListEmpty")}},sendCardMsg:function(t,e){t&&(t.preventDefault(),t.stopPropagation()),this.actions.send({content:(null==e?void 0:e.message)||"",content_type:"card",source:"user",trigger:"card",card:(null==e?void 0:e.action)||{},sourceTag:"cardList"}),this.dispatch("maskClose")},getCardList:function(){this.actions.setLoading(!0);var t=this.data.get("data");null!=t&&t.value&&(t.value.page=this.data.get("pageNum")||1,t.value.pageSize=10,this.actions.getCard({mat:t}))},handleScroll:function(t){var e,a;if(null!==(e=this.el)&&void 0!==e&&e.scrollHeight&&null!==(a=this.el)&&void 0!==a&&a.clientHeight){var n=t.target.scrollTop;this.el.scrollHeight-this.el.clientHeight-n<30&&!this.data.get("isLoading")&&this.getCardList()}}})},function(t,e,a){"use strict";a.r(e),e.default={}},function(t,e,a){"use strict";a.r(e);a(54),a(25),a(37),a(10),a(113),a(17),a(6),a(97);var n=a(0),i=a(710),s=a.n(i),o=a(93),r=a.n(o);e.default=n.connect.san({isDistrictShow:"mask.data.isDistrictShow",cityData:"form.cityData"},{setMask:"setMask",setFormCity:"setFormCity"})({components:{"ui-selected":s.a,"ui-close":r.a},filters:{textEllipsis:function(t){return t.length>4?t.substr(0,4)+"…":t}},initData:function(){return{close:{width:22,height:22},depth:{province:3,municipality:2},municipality:["1","2","3","33"],path:[],current:"998",scrollList:[]}},attached:function(){var t=this;this.dispatch("component-tracking","mask_formCity"),this.setScrollList(),this.watch("path",(function(e){var a=e.map((function(t){return t.name}))||[];t.actions.setFormCity(a.join(" "))}))},closeHandler:function(){this.actions.setMask({show:!1,childcomponent:"city"})},selectedHandler:function(t){for(var e=t.code,a=this.data.get("path"),n=a.length,i=!1,s=0,o=0;o<a.length;o++)if(t.siblings.indexOf(a[o].code)>-1){s=o,i=!0;break}i?this.data.splice("path",[s,n-s,t]):this.data.push("path",t),this.data.set("current",e);var r=this.getLimitLen(),c=this.getScrollList(e);if(this.isMunicipality())return c.length>0&&this.data.set("scrollList",c),void(0===c.length&&this.closeHandler());this.data.get("isDistrictShow")||!1?(c.length>0&&this.data.set("scrollList",c),0===c.length&&this.closeHandler()):(n<r-1&&this.data.set("scrollList",c),n===r-1&&this.closeHandler())},reSelectedHandler:function(t,e){var a=this.codeToName(t.siblings);a.length>0&&this.data.set("scrollList",a),this.data.set("current",t.code)},getLimitLen:function(){var t=this.data.get("isDistrictShow")||!1,e=this.data.get("depth");return this.isMunicipality()?e.municipality:t?e.province:e.province-1},isMunicipality:function(){var t=this.data.get("municipality"),e=this.data.get("path"),a=this.data.get("current"),n=e[0]&&e[0].code||a;return t.indexOf(n)>-1},setScrollList:function(t){var e=t||this.data.get("current"),a=this.getScrollList(e);this.data.set("scrollList",a)},getScrollList:function(t){var e=this.data.get("cityData").regionMap[t]||[];return e.length>0?this.codeToName(e):[]},codeToName:function(t){t.map((function(t){return t.toString()}));var e=JSON.parse(JSON.stringify(t)),a=this.data.get("cityData").regionName;return t.map((function(t){return{code:t,name:a[t],siblings:e}}))}})},function(t,e,a){"use strict";a.r(e),e.default={attached:function(){this.dispatch("component-tracking","icon_selected")}}},function(t,e,a){"use strict";a.r(e);a(8);var n=a(0),i=a(93),s=a.n(i),o=a(127),r=a(1);e.default=n.connect.san({maskData:"mask.data",child:"mask.childcomponent",antiData:"form.antiData",robotServiceModel:"robotServiceModel",imlpUrl:"imlpUrl"},{setMask:"setMask",showToast:"ShowToast",send:"SendMessage",hideFormAfterSubmmit:"hideFormAfterSubmmit"})({components:{"ui-close":s.a},computed:{telTips:function(){var t=this.data.get("countdown"),e=this.data.get("unsend"),a=this.data.get("sended");return t?a.telTips:e.telTips},codeText:function(){var t=this.data.get("countdown"),e=this.data.get("unsend"),a=this.data.get("sended");return t?a.codeText:e.codeText}},initData:function(){return{close:{width:18,height:18},reSubmitError:"你的验证码仍在有效期内，请勿重复提交",unsend:{telTips:"您的手机号：",codeText:"获取验证码"},sended:{telTips:"已发送验证码给：",codeText:"60s"},submitSuccess:"提交成功",errCode:110130,countdown:!1,seconds:60,code:""}},attached:function(){this.dispatch("component-tracking","mask_sms"),this.setTimer()},closeHandler:function(){this.data.set("seconds",60),this.data.set("code",""),this.actions.setMask({show:!1,childcomponent:"sms"})},updateCode:function(t){if(t&&t.target){var e=t.target.value||"";this.data.set("code",e)}},setTimer:function(){var t=this;this.data.set("countdown",!0),this.timer&&clearInterval(this.timer);var e=this.data.get("seconds");this.timer=setInterval((function(){0===(e-=1)&&(t.data.set("countdown",!1),clearInterval(t.timer)),t.data.set("sended.codeText",e+"S")}),1e3)},getCode:function(){var t=this,e=this.data.get("maskData")||{},a=e.formInstance,n=e.verification;if(a){var i=this.data.get("antiData").telno;if(i)if(this.timer){var s=this.data.get("reSubmitError");this.actions.showToast({text:s})}else a.resetVerificationHandler({phone:i,verification:n,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=t.data.get("child");e.type===a&&t.setTimer()})).catch((function(e){var a=t.data.get("errCode");e.code===a&&t.actions.showToast({text:e.message})}))}},submitCode:function(){var t=this,e=this.data.get("maskData")||{},a=e.formInstance,i=e.message,s=e.isOfflineForm;if(a){this.data.set("countdown",!1),this.timer&&clearInterval(this.timer);var o=a.antiConfirmCode,c=this.data.get("code");c.length&&a.checkAntiCheating({answer:c,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=e.status,c=e.errMsg,d=void 0===c?"":c,l=t.data.get("submitSuccess");if(a===o.pass){var p=t.data.get("maskData").actionParams;t.dispatch("operate",p),t.actions.showToast({text:l}),t.closeHandler();var u=t.data.get("maskData").userName,m=t.data.get("maskData").userPhone,h=t.data.get("robotServiceModel")||r.o.NORMAL;if(s||h===r.o.NORMAL)n.store.dispatch("submitOfflineForm",{type:"offlineForm",content:i});else{if(u&&m){var g="提交成功<br>姓名："+u+"<br>电话："+m;t.actions.send({source:"user",type:r.e.TEXT,content:g,sourceTag:"form",tag:"form"})}t.actions.hideFormAfterSubmmit(!0)}}a===o.hasRisk&&t.actions.showToast({text:d})}))}},filters:{setInputValue:function(t){var e=o.a.formatCaptcha({type:"captcha",value:t});return this.data.set("code",e),e}}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(93),s=a.n(i),o=a(127),r=a(1);e.default=n.connect.san({maskData:"mask.data",child:"mask.childcomponent",antiData:"form.antiData",robotServiceModel:"robotServiceModel",imlpUrl:"imlpUrl"},{setMask:"setMask",showToast:"ShowToast",send:"SendMessage",hideFormAfterSubmmit:"hideFormAfterSubmmit"})({components:{"ui-close":s.a},computed:{captcha:function(){var t=this.data.get("antiData")||{},e=this.data.get("pictureUrl");return e||t.pictureUrl}},initData:function(){return{close:{width:18,height:18},pictureUrl:"",code:"",submitSuccess:"提交成功"}},attached:function(){this.dispatch("component-tracking","mask_picture")},closeHandler:function(){this.data.set("code",""),this.actions.setMask({show:!1,childcomponent:"picture"})},updateCode:function(t){if(t&&t.target){var e=t.target.value||"";this.data.set("code",e)}},getCaptcha:function(){var t=this,e=this.data.get("maskData")||{},a=e.formInstance,n=e.verification;if(a){var i=this.data.get("antiData").telno;i&&a.resetVerificationHandler({phone:i,verification:n,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=e.pictureUrl,n=t.data.get("child");e.type===n&&t.data.set("pictureUrl",a)}))}},submitCaptcha:function(){var t=this,e=this.data.get("maskData")||{},a=e.formInstance,i=e.message,s=e.isOfflineForm;if(a){var o=a.antiConfirmCode,c=this.data.get("code");c.length&&a.checkAntiCheating({answer:c,action:{show_type:0,page_url:this.data.get("imlpUrl")||location.href}}).then((function(e){var a=e.status,c=e.errMsg,d=void 0===c?"":c,l=t.data.get("submitSuccess");if(a===o.pass){var p=t.data.get("maskData").actionParams;t.dispatch("operate",p),t.actions.showToast({text:l}),t.closeHandler();var u=t.data.get("maskData").userName,m=t.data.get("maskData").userPhone,h=t.data.get("robotServiceModel")||r.o.NORMAL;if(s||h===r.o.NORMAL)n.store.dispatch("submitOfflineForm",{type:"offlineForm",content:i});else{if(u&&m){var g="提交成功<br>姓名："+u+"<br>电话："+m;t.actions.send({source:"user",type:r.e.TEXT,content:g,sourceTag:"form",tag:"form"})}t.actions.hideFormAfterSubmmit(!0)}}a===o.hasRisk&&t.actions.showToast({text:d})}))}},filters:{setInputValue:function(t){var e=o.a.formatCaptcha({type:"captcha",value:t});return this.data.set("code",e),e}}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(93),s=a.n(i);e.default=n.connect.san({},{setMask:"setMask"})({components:{"ui-close":s.a},initData:function(){return{close:{width:18,height:18},privacy:"http://privacy.baidu.com/policy"}},attached:function(){this.dispatch("component-tracking","mask_formgranted")},closeHandler:function(){this.actions.setMask({show:!1,childcomponent:"formgranted"})},privacyHandler:function(){var t=this.data.get("privacy");this.dispatch("chat-action",{type:"formCard",value:{type:"url",value:t}})}})},function(t,e,a){"use strict";a.r(e);a(8),a(18);var n=a(0),i=a(254);e.default=n.connect.san({couponMaskData:"mask.data",xst:"xst",mode:"mode"},{masktoggle:"MaskToggle",showToast:"ShowToast"})({initData:function(){return{captchaBtnStatus:"发送验证码",isGettingCaptcha:!1,couponMaskSuccess:{}}},attached:function(){this.dispatch("component-tracking","mask_couponMask");var t=this.data.get("couponMaskData").solutionId,e="develop"===this.data.get("mode")?"offline":"online";this.couponInstance=new i.a(t,e),this.couponInstance.captchaType=this.data.get("couponMaskData.captcha.type"),this.data.set("couponMaskSuccess",this.data.get("couponMaskData")),n.store.dispatch("couponMaskShow",this.data.get("couponMaskData.captcha.type"))},getCaptcha:function(){var t=this;if(!this.data.get("isGettingCaptcha")){var e=this.ref("phoneNumber").value;this.couponInstance.getCaptchaCode(e).then((function(e){if(e.success){var a;t.actions.showToast({text:"验证码发送成功"}),t.data.set("isGettingCaptcha",!0);var n=60;clearTimeout(a),a=setInterval((function(){t.data.set("captchaBtnStatus","重新获取("+n+"s)"),0===(n-=1)&&(clearTimeout(a),t.data.set("captchaBtnStatus","重新获取"),t.data.set("isGettingCaptcha",!1))}),1e3)}else t.actions.showToast({text:e.message})})).catch((function(t){}))}},getCaptchaPic:function(){var t=this,e={phone:this.ref("phoneNumber").value};this.couponInstance.getCaptchaCode(e).then((function(e){e.success&&t.data.set("couponMaskData.captcha.imageBase64",e.imageBase64)})).catch((function(t){}))},getCoupon:function(){var t=this,e=this.data.get("xst")||"",a=this.ref("phoneNumber").value,i={phone:a,fromConsult:!0,xst:e};if("sms"===this.data.get("couponMaskData.captcha.type")||"picture"===this.data.get("couponMaskData.captcha.type")){var s=this.ref("captcha").value;i.captchaCode=s}this.couponInstance.submitCoupon(i).then((function(e){var i=e.submitStatus;if(0===i){t.actions.masktoggle({}),n.store.dispatch("setMask",{show:!0,childcomponent:"couponmaskSuccess",data:t.data.get("couponMaskSuccess")});var s=t.data.get("couponMaskSuccess");s.hasGetCoupon=!0,n.store.dispatch("saveCouponInfo",{solutionId:s.solutionId,action:s});var o={item:{type:"coupon",trackTag:"coupon",content:{couponName:t.data.get("couponMaskData.couponName"),phoneNumber:a}},type:"coupon",history:"".concat(t.data.get("couponMaskData.couponName"),"卡券,内容如下:").concat(a)};t.dispatch("operate",o),t.dispatch("chat-action",{type:"leaveWord",value:{type:"coupon",content:'该访客在咨询页提交了方案名称为"'.concat(t.data.get("couponMaskData.couponName"),'"的卡券，提交的联系方式：').concat(a)}})}else 1!==i&&2!==i&&3!==i||t.actions.showToast({text:e.message});n.store.dispatch("couponCardBtnClick","coupon-mask-"+i)}))},getCouponRule:function(){n.store.dispatch("setMask",{show:!0,childcomponent:"couponmaskRule",data:this.data.get("couponMaskSuccess.couponRuleList")||[]}),n.store.dispatch("couponRuleClick")},closeMask:function(){this.actions.masktoggle({}),n.store.dispatch("couponMaskCloseClick","coupon-mask")}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({couponMaskData:"mask.data"},{masktoggle:"MaskToggle"})({initData:function(){return{}},attached:function(){this.dispatch("component-tracking","mask_couponSuccess"),n.store.dispatch("couponMaskSuccessShow")},getCouponRule:function(){n.store.dispatch("setMask",{show:!0,childcomponent:"couponmaskRule",data:this.data.get("couponMaskData.couponRuleList")||[]}),n.store.dispatch("couponRuleClick")},closeMask:function(){this.actions.masktoggle({}),n.store.dispatch("couponMaskCloseClick","coupon-mask-success")}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({couponRuleList:"mask.data"},{masktoggle:"MaskToggle"})({attached:function(){this.dispatch("component-tracking","mask_couponRule")},close:function(){this.actions.masktoggle({})}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(94);e.default=n.connect.san({data:"mask.data",bcpSessionId:"bcpSessionId",xst:"xst"},{masktoggle:"MaskToggle"})({computed:{accountInfo:function(){return(4===this.data.get("data.accountType")?"企业微信号：":"微信号：")+this.data.get("data.account")}},close:function(){this.actions.masktoggle({})},openWechat:function(){"normal"===this.data.get("data.type")?this.actions.masktoggle({}):i.a.launch()}})},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(94);e.default=n.connect.san({data:"mask.data",bcpSessionId:"bcpSessionId",xst:"xst"},{masktoggle:"MaskToggle"})({initData:function(){return{status:"saveImage",saveImgResStatus:"",extraMsg:""}},computed:{btnInfo:function(){return this.data.get("data.canSaveImage")&&"saveImage"===this.data.get("status")?"保存二维码":"打开微信"},extraMsg:function(){return this.data.get("data.canSaveImage")?"":"截图保存图片至微信扫码"}},close:function(){this.actions.masktoggle({})},doClick:function(){var t=this;"saveImage"===(this.data.get("data.canSaveImage")?this.data.get("status"):"openChat")?i.a.saveImage({imageUrl:this.data.get("data").imageUrl,imageName:this.data.get("data").imageName}).then((function(e){switch(e){case 0:case 9999:case"0":case"9999":t.data.set("status","openChat");break;case 1001:case"1001":t.data.set("saveImgResStatus","保存图片失败"),t.data.set("extraMsg","截图保存图片至微信扫码");break;default:t.data.set("saveImgResStatus",""),t.data.set("extraMsg","")}})):i.a.launch()}})},function(t,e,a){"use strict";a.r(e);a(8);var n=a(0);e.default=n.connect.san({},{})({initData:function(){return{list:[]}},attached:function(){this.dispatch("component-tracking","Toast");var t=this,e="ShowToast";n.store.actions.ShowToast||n.store.addAction(e,(function(e,a){a.getState,a.dispatch;setTimeout((function(){t.data.shift("list")}),2400),t.data.push("list",e)}))}})},function(t,e,a){"use strict";a.r(e);a(10);var n=a(0),i=a(131);e.default=n.connect.san({iframe:"iframe",missMessage:"missMessage"},{updateIframe:"IframeAction",setMask:"setMask",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",updateMissMessage:"updateMissMessage",userInteraction:"UserInteraction"})({attached:function(){this.dispatch("component-tracking","iframe"),this.initMessageListener(),this.initIframeListener()},filters:{maxNum:function(t,e){return t>e?e+"+":t}},initIframeLayout:function(){this.el.style.width=window.innerWidth+"px",this.el.style.height=window.innerHeight+"px"},hideIframe:function(t){if(t&&t.preventDefault(),this.actions.userInteraction({from:"imlp",type:"card_click",content:{text:"返回咨询",type:"iframe"}}),this.data.get("iframe").src.indexOf("baozhang.baidu.com")>-1)return this.actions.userInteraction({from:"imlp",type:"card_click",content:"baozhangBack"}),void location.reload();this.dispatch("cancel-fixed"),this.actions.updateIframe({on:!1,loaded:!1,src:this.data.get("iframe").src}),this.data.get("missMessage.number")>0?(this.dispatch("scrollToMessage"),this.actions.decideIsNeedScrollToBottom(!0),this.actions.updateMissMessage({on:!1,hasFirst:!1,number:0,index:-1})):this.dispatch("scrollHandle")},initMessageListener:function(){var t=this;window.addEventListener("message",(function(e){"sdk_init"===e.data.type&&e.source.postMessage({type:"hide_dom",from:"parent",validate:"",data:[".medical-fix-trans-bar",".mip-bsml-fixed-bar",".trans-fixed-bar",".trans-fixed-bar-blank",".trans-fixed-bar-blank-two",".trans-fixed-bar-blank-three",".mip-bsml-fixed-bar-box"]},e.origin),"openIM"===e.data.type&&(t.actions.setMask({}),t.hideIframe())}),!1)},initIframeListener:function(){var t=this;this.ref("imlp-component-iframe").onload=function(){t.actions.setMask({});try{var e=this.contentWindow.location,a=e.href,n=e.pathname;if(Object(i.a)(a)&&-1===n.indexOf("/imlp/static"))return void t.hideIframe()}catch(t){}t.data.set("loaded",!0),t.actions.updateIframe({on:!0,loaded:!0,src:t.data.get("iframe").src}),t.dispatch("scrollHandle")}}})},function(t,e,a){"use strict";a.r(e);var n=a(0);e.default=n.connect.san({preview:"preview"},{updatePreview:"UpdatePreviewAction"})({initData:function(){return{data:{src:"",on:!1},refKey:"imlp-widget-imagepreivew-image",width:"",height:"",computed:!1}},attached:function(){this.dispatch("component-tracking","widgets_imagePreview")},hide:function(t){t&&t.preventDefault();var e={src:"",on:!1};this.data.set("data",e),this.data.set("computed",!1),this.actions.updatePreview(e)},loadHandler:function(t){var e=document.body.getBoundingClientRect(),a=t.target||this.ref(this.data.get("refKey")),n=a.naturalWidth,i=a.naturalHeight,s=n/i,o=e.width,r=e.height,c=n,d=i;(n>o||i>r)&&(s>o/r?d=(c=o)/s:c=(d=r)*s),this.data.set("computed",!0),this.data.set("width",c),this.data.set("height",d)}})},function(t,e,a){"use strict";a.r(e);var n=a(51),i=a.n(n),s=a(29),o=a.n(s),r=a(14),c=a.n(r),d=(a(18),a(42),a(54),a(109),a(63),a(98),a(0)),l=a(126);e.default=d.connect.san({isLogin:"passportLoggedIn",isHideBaozhang:"isHideBaozhang",savatar:"service.avatar",channel:"channel",aduserid:"aduserid",baozhangExp:"expParam.imlp_baozhang_style"},{sendLog:"sendLog"})({initData:function(){return{showBaozhangBar:!0,baozhangText:"",advancedPromise:!1,promiseList:[],ref:"promiseWrapper",img:"https://imlp-static.cdn.bcebos.com/img/common/icon-slide-check.png"}},attached:function(){var t=this;return o()(c.a.mark((function e(){var a,n,s,o,r,p,u,m,h,g,f,v,x,b,y,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch("component-tracking","TopContent"),e.next=3,Object(l.b)();case 3:return a=e.sent,n=a.getBaoData,s=a.showUp,o=location.href,r=d.store.getState("user_id"),"BCP",p=t.data.get(),u=p.isLogin,m=p.savatar,h=p.channel,g=p.aduserid,f=d.store.getState("title"),v=d.store.getState("pageInfo.app"),e.prev=12,e.next=15,n(["url_".concat(o),"userid_".concat(r)],{from:"BCP",baseZIndex:11e4,isLogin:u,isSid:!1},{objectid:r,title:f,objectname:f,lpurl:o,query:"咨询页",from:"".concat("BCP","_").concat("nm"===v?"ym":v),cuid:"",appid:30004,img:m,channel:h,aduserid:g});case 15:b=e.sent,(null===(x=b.promise)||void 0===x?void 0:x.length)>0?(y=[].concat(i()(b.promise),i()(b.baiduPromise)),"1"===t.data.get("baozhangExp")?t.data.set("promiseList",y.slice(0,3)):(w="".concat(y[0].iconname," · ").concat(y[1].iconname||y[1].content," · ").concat(y[2].iconname||y[2].content),t.data.set("baozhangText",w),t.data.set("advancedPromise",!0))):t.data.set("baozhangText","登录享保障，遇虚假欺诈，百度助你维权"),t.showUp=s,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),t.data.set("showBaozhangBar",!1);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})))()},updated:function(){this.data.get("promiseList").length>0&&this.hideOverflowTag()},showUp:null,clickHandle:function(){var t=this.data.get();t.isLogin,t.type;t.isHideBaozhang?this.actions.sendLog({type:"lite_baozhangtop_click"}):this.showUp&&(d.store.dispatch("guaranteeBarClick"),this.showUp())},hideOverflowTag:function(){var t,e=this.ref(this.data.get("ref")),a=(null==e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.right)||0;Array.from(e.children).map((function(t){var e;((null==t||null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.right)||0)>a&&t.setAttribute("style","display: none;")}))}})},function(t,e,a){"use strict";a.r(e);var n=a(9),i=a.n(n),s=(a(79),a(12),a(35),a(73),a(64),a(52),a(6),a(78),a(19),a(20),a(87),a(88),a(89),a(0)),o=a(262),r=a.n(o),c=a(1);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.default=s.connect.san({coreNavigation:"coreNavigation",ucid:"aduserid",xst:"xst",foldCoreNavigation:"foldCoreNavigation"},{})({initData:function(){var t=document.documentElement.clientHeight||c.g.HEIGHT;return{prefix:"imlp-component-core-navigation",showAnimation:!0,isUnfold:(document.documentElement.clientWidth||c.g.WIDTH)/t<.5}},computed:{isNoScrollStyle1:function(){var t,e=(null!==(t=this.data.get("coreNavigation"))&&void 0!==t?t:{}).buttons,a=void 0===e?[]:e;return this.data.get("isUnfold")&&a.length<5},isNoScrollStyle2:function(){var t,e=(null!==(t=this.data.get("coreNavigation"))&&void 0!==t?t:{}).buttons,a=void 0===e?[]:e;return this.data.get("isUnfold")&&5===a.length},foldPrefix:function(){return this.data.get("isUnfold")?"imlp-navigation":"imlp-navigation-fold"}},attached:function(){var t=this.data.get("coreNavigation").log;this.sendLog("show",t),this.el.addEventListener("scroll",r()(this.handleScroll.bind(this),500),{passive:!0}),this.watch("foldCoreNavigation",(function(t){!0===t&&(this.data.set("showAnimation",!1),this.data.set("isUnfold",!1))}))},imgNameFormat:function(t){return"".concat("https://imlp-static.cdn.bcebos.com/img/navigation/navigation_").concat(t.replace(/([A-Z])/g,"_$1").toLowerCase(),"_icon.png")},click:function(t,e){switch(t&&t.preventDefault(),s.store.dispatch("foldCoreNavigation"),e.actionType){case"popupForm":case"popup":s.store.dispatch("setMask",{show:!0,childcomponent:"standardpopup",data:e.popupContent.content});break;case"url":var a={type:"url",value:e},n=this.data.get("track");this.dispatch("operate",{item:a,type:"standardcard",history:n});break;case"card":s.store.dispatch("getAsyncCard",{mat:JSON.stringify(e.cardMat),ucid:this.data.get("ucid"),xst:this.data.get("xst")});break;case"evaluate":s.store.dispatch("sendEvaluateCard","click")}this.sendLog("click",e.log)},handleScroll:function(){var t=this.data.get("coreNavigation").log;this.sendLog("scroll",t)},sendLog:function(t,e){s.store.dispatch("sendLog",{type:"navigation_".concat(t),from:"imlp",content:l(l({},e),{},{isUnfold:this.data.get("isUnfold")})})}})},function(t,e,a){"use strict";a.r(e);a(8),a(98);var n=a(0);e.default=n.connect.san({savatar:"service.avatar",list:"popupSmallMessageList",sessionState:"session.state",showPopupSmallMessage:"showPopupSmallMessage"},{})({initData:function(){return{moveY:0,readMessageCount:1,unreadMessageCount:0}},attached:function(){var t=this;this.dispatch("component-tracking","PopupSmallMessage"),this.watch("list",(function(e){t.scrollMessage()})),this.watch("showPopupSmallMessage",(function(e){var a=t.data.get("list")||[];t.data.set("readMessageCount",a.length)})),this.scrollMessage()},computed:{unreadMessageCount:function(){var t=this.data.get("list")||[],e=this.data.get("readMessageCount"),a=t.length-e;return a>99&&(a="99+"),a}},detached:function(){},scrollMessage:function(){var t=this,e=this.scrollKey||0;clearTimeout(e),this.scrollKey=setTimeout((function(){t.scrollBottom()}),100)},scrollBottom:function(){var t=-60*((this.data.get("list")||[]).length-1);this.data.set("moveY",t)}})},function(t,e){t.exports=function(){return!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.r(e);var n=a(74),i=a.n(n),s=(a(8),a(10),a(12),a(53),a(35),a(79),a(19),a(6),a(20),a(26),a(17),a(159),a(0)),o=(a(30),a(50)),r=a.n(o),c=a(57),d=a.n(c),l=a(24),p=a.n(l),u=a(99),m=a.n(u),h=a(4),g=a.n(h),f=a(162),v=a.n(f),x=a(7),b=a.n(x),y=a(75),w=a.n(y),k=a(60),S=a.n(k),C=(a(25),a(18),"buttonGroup"),T="video",M={},I={};function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;m()(a)&&(i=n,n=a,a={}),i=i||n;var s=g()(e,i),o=g()(a,i);!p()(s)&&b()(t,n,s),!p()(o)&&b()(t,n,o)}var P={};function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=t.name,n=P[a];return n?n(t,e):t}P["detailBase"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=d()(t);p()(e)&&(e=d()(M)||{});var n=e,i=g()(n,"info");B(a,n,"around"),B(a,n,"tip.status"),B(a,n,"tip.text"),B(a,n,"image.round"),B(a,n,"image.width"),B(a,n,"image.height");var s=g()(a,"info")||[],o={};return r()(s,(function(t,e){var a=t.type,n=g()(o,a)||0;b()(o,a,n+1);var s=g()(i,a),r=g()(i,"".concat(a,"_").concat(n));"subtitle"===a?(B(t,s,r,"size"),B(t,s,r,"nowrap")):"imgList"===a?B(t,s,r,"num"):"tagText"===a&&(B(t,s,r,"normal"),B(t,s,r,"more"),B(t,s,r,"maxHeight"),B(t,s,r,"lineNumber"),B(t,s,r,"size"),B(t,s,r,"color"))})),a},P[C]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=d()(t);p()(e)&&(e=I||{});var n=e;return B(a,n,"theme"),B(a,n,"row"),B(a,n,"cell"),a},P[T]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=d()(t);p()(e)&&(e={});var n=e;return B(a,n,"spread"),B(a,n,"nopadding"),a};var D={BASE:{YM_PROJECT_DOCTOR:"1003",YM_PROJECT_CASE:"1004",YM_PROJECT_GOODS:"1005",YM_GOODS_LIST:"1006",YM_DOCTOR_LIST:"1007",XYL_DISEASE:"6005",XYL_HOSPITAL:"6009",XYL_VIDEO_LIST:"6015"}},O={"BASE.YM_DOCTOR_LIST":{splitLine:1,showCount:2,more:1,widget:{detailBase:{around:0,image:{round:1,width:60,height:60},info:{subtitle:{size:14},imgList:{num:0},tagText:{lineNumber:2,maxHeight:0,more:0,normal:1,size:13}}}}},"BASE.YM_GOODS_LIST":{splitLine:1,showCount:2,more:1,widget:{detailBase:{around:0,image:{round:0,width:89,height:89},info:{subtitle:{size:14},imgList:{num:0},tagText:{lineNumber:2,maxHeight:0,more:1,normal:0,size:13}}}}},"BASE.YM_PROJECT_CASE":{splitLine:1,showCount:3,more:1,widget:{detailBase:{around:0,image:{round:1,width:50,height:50},info:{subtitle:{size:14},imgList:{num:0},tagText:{lineNumber:2,maxHeight:0,more:0,normal:1,size:13}}}}},"BASE.YM_PROJECT_DOCTOR":{splitLine:1,showCount:3,more:1,widget:{detailBase:{around:0,image:{round:1,width:57,height:57},info:{subtitle:{size:14},imgList:{num:0},tagText:{lineNumber:2,more:0,normal:1,size:13}}}}},"BASE.YM_PROJECT_GOODS":{splitLine:1,showCount:3,more:1,widget:{detailBase:{around:0,image:{round:0,width:89,height:89},info:{subtitle:{size:16},imgList:{num:0},tagText:{lineNumber:2,maxHeight:0,more:1,normal:0,size:13}}}}},"BASE.XYL_DISEASE":{splitLine:1,showCount:3,more:0,widget:{video:{spread:!1,nopadding:!1}}},"BASE.XYL_VIDEO_LIST":{splitLine:1,showCount:3,more:0,widget:{video:{spread:!1,nopadding:!1}}},"BASE.XYL_HOSPITAL":{splitLine:1,showCount:3,more:0,widget:{video:{spread:!0,nopadding:!1}}}};function E(t){var e=S()(O),a={};return w()(e,(function(e){g()(D,e)===t+""&&(a=g()(O,e)||{})})),a}var _=S()(D),R={};function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;m()(a)&&(i=n,n=a,a={}),i=i||n;var s=g()(e,i),o=g()(a,i);!p()(s)&&b()(t,n,s),!p()(o)&&b()(t,n,o)}w()(_,(function(t){b()(R,t,v()(g()(D,t)))}));var j={};j.BASE=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=d()(t),n=a.content||{},i=e,s=i.widget||{};N(n,i,"splitLine"),N(n,i,"showCount"),N(n,i,"more"),N(n,i,"tip.status"),N(n,i,"tip.text");var o={},c=g()(n,"list")||[];return r()(c,(function(t,e){var a=g()(o,t.name)||0;b()(o,t.name,a+1);var n=g()(s,t.name)||{},i=g()(s,"".concat(t.name,"_").concat(a))||{};b()(c,e,L(g()(c,e))),b()(c,e,L(g()(c,e),n)),b()(c,e,L(g()(c,e),i))})),a};var U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return{};var e,a=t.type,n=E(a)||{};if(w()(_,(function(t){g()(g()(R,t),a)&&(e=g()(j,t))})),e){var i=e(t,n);return i}return t},V=a(127),H=a(51),F=a.n(H),A=(a(37),a(54),{direction:{up:1,down:2,left:3,right:4}}),z={formatSwipeLogInfo:function(){var t=s.store.getState("track.swipe"),e=t.start,a=t.move,n=t.end;if(!e||!n)return{};var i=this.getDirectionInfo(e,n),o=n.t-e.t,r=[e].concat(F()(a),[n]),c=parseInt(e.pageX,10),d=parseInt(e.pageY,10);return r=r.map((function(t){var e=parseInt(t.pageX,10),a=parseInt(t.pageY,10);return"".concat(e,"*").concat(a)})).join("_"),{type:a.length?"swipe":"tap",content:a.length?[i,o,r].join("-"):"".concat(c,"*").concat(d)}},getDirectionInfo:function(t,e){var a=A.direction,n=t.pageX,i=t.pageY,s=e.pageX,o=e.pageY,r=n-s,c=r>=0?a.left:a.right;r=Math.abs(parseInt(r,10));var d=i-o,l=d>=0?a.up:a.down;return d=Math.abs(parseInt(d,10)),"".concat(c,"_").concat(r,"_").concat(l,"_").concat(d)}},X=a(650),W=a.n(X),G=a(651),q=a.n(G),$=a(653),K=a.n($),Y=a(654),J=a.n(Y),Q=a(656),Z=a.n(Q),tt=a(657),et=a.n(tt),at=a(244),nt=a.n(at),it=a(248),st=a.n(it),ot=a(679),rt=a.n(ot),ct=a(683),dt=a.n(ct),lt=a(685),pt=a.n(lt),ut=a(688),mt=a.n(ut),ht=a(689),gt=a.n(ht),ft=a(690),vt=a.n(ft),xt=a(691),bt=a.n(xt),yt=a(22),wt=a(346),kt=a.n(wt),St=a(692),Ct=a.n(St),Tt=a(693),Mt=a.n(Tt),It=a(694),Bt=a.n(It),Pt=a(3),Lt=a(1);e.default=s.connect.san({message:"message",typeboxbottombox:"typeboxbottombox",missMessage:"missMessage",typebox:"typebox",Iframe:"iframe",slideTags:"slideTags",menuGroup:"menuGroup",totalNum:"session.total",fixed:"fixed",hiddenMsg:"session.hiddenMsg",fixedRefs:"fixedRefs",rebound:"rebound",fixedRefPrefix:"fixedRefPrefix",feature:"feature",rectInfo:"chatview",hasVideo:"video",show:"mask.show",kefuInputStatus:"kefuInputStatus",inputSuggest:"typeboxConfig.inputSuggest",intensifyPhoneExp:"expParam.imlp_intensify_phone",phoneInfo:"phoneInfo"},{setBottomBox:"ToggleTypeBoxBottomBox",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",updateMissMessage:"updateMissMessage",updateTouchmoveState:"UpdatetouchmoveAction",updateTouchMoving:"updateTouchMoving",updateFixedState:"updateFixedAction",updateFixedRefs:"UpdateFixedRefs",logSyncMessage:"logSyncMessage",updateSwipeTrack:"updateSwipeTrack",logSwipeInfo:"logSwipeInfo",logCatch:"logCatch",showMenuMore:"showMenuMore",sendLog:"sendLog"})({initData:function(){return{xRefList:[],initHeight:0,laterHeight:0,wrapperRef:"component-chatview-wrapper",pageXY:"",scrollTop:"",card:D,ready:!1}},computed:{phoneExp:function(){return this.data.get("intensifyPhoneExp")&&this.data.get("phoneInfo")}},attached:function(){var t,e=this;(null===(t=window.performance)||void 0===t?void 0:t.mark)&&window.performance.mark("ChatViewAttached"),this.dispatch("component-tracking","ChatView");var a=this;s.store.addAction("ChatViewScrollToBottom",(function(t,e){var n=e.getState,i=e.dispatch,s=document.querySelectorAll(".imlp-component-chatview"),o=navigator.userAgent.indexOf("UCBrowser")>-1,r=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),c=!1;-1!==(navigator.userAgent||"").indexOf("HUAWEI")&&(c=!0);for(var d=function(t){setTimeout((function(){if(c||o&&!r||!s[t].scrollTo)s[t].scrollTop=s[t].scrollHeight;else{var e=s[t].scrollHeight-s[t].offsetHeight;!function(t,e){window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){return setTimeout(t,17)});var a=t.scrollTop;!function n(){var i=e-a;a+=i/3,Math.abs(i)<1?t.scrollTo(0,e):(t.scrollTo(0,a),requestAnimationFrame(n))}()}(s[t],e)}n("missMessage.number")>0&&i("updateMissMessage",{number:0,hasFirst:!1,index:-1}),a.data.get("hasVideo")&&(a.videoTimer&&clearTimeout(a.videoTimer),a.videoTimer=setTimeout((function(){a.dispatch("computeVideoInfo")})))}),100)},l=0;l<s.length;l++)d(l)})),this.scrollTimer="",this.missmessageTimer=null,this.videoTimer=null,this.initScrollEvent(),this.logInitMessages(),this.resetNum();var n=this.data.get("fixed");this.data.get("rebound");if(n){setTimeout((function(){e.scrollToFixedMessage(true),setTimeout((function(){e.computeMissMessage()}))}))}else this.data.set("ready",!0);this.watch("totalNum",(function(t){var a=e.data.get("fixed");e.data.get("Iframe.on")||a&&(e.missmessageTimer&&clearTimeout(e.missmessageTimer),e.missmessageTimer=setTimeout((function(){e.computeMissMessage()})))})),this.watch("fixedRefs",(function(t){e.scrollToFixedMessage(),e.computeMissMessage()}));var i=Object(Pt.b)();i&&this.data.set("isAndroidFirefox",i)},components:{"ui-chat-text":W.a,"ui-chat-base":q.a,"ui-chat-leaveword-card":K.a,"ui-chat-link-item-container":J.a,"ui-chat-image":Z.a,"ui-chat-empty":et.a,"ui-base-card":nt.a,"ui-standard-card":st.a,"ui-form-card":rt.a,"ui-combined-card":dt.a,"ui-notification-card":pt.a,"ui-async-empty-card":mt.a,"ui-history-split-line":gt.a,"ui-time":vt.a,"ui-input":bt.a,"ui-user-phone-card":kt.a,"ui-user-phone-msg":Ct.a,"ui-gold-service":Mt.a,"ui-message-card":Bt.a},filters:{cardFormat:U,formFormat:V.a.formatForm,telColor:function(t){var e=this,a=t.content,n=t.source||"",i=t.history||!1,o=this.data.get("feature");if("user"===n)return a;if(Lt.k.lastIndex=0,Lt.k.test(a)){Lt.n.lastIndex=0,Lt.m.lastIndex=0,Lt.l.lastIndex=0;var r=Lt.n.test(a),c=Lt.m.test(a);a=a.replace(Lt.l,(function(t){if(i||s.store.dispatch("logKefuMsgStatus",{type:"phone_show",number:t,hasWx:r,hasPhone:c}),e.data.get("phoneExp"))return t;var a='<a class="imlp-component-telnumber">'+t+"</a>";o.telcopy?a='<a class="imlp-component-telnumber" data-tel-text="'+t+'">'+t+('<div class="imlp-component-telnumber-wrapper"><div class="imlp-component-telnumber-operate"><span class="imlp-component-telnumber-copy" data-clipboard-text="'+t+'">复制</span><span class="imlp-component-telnumber-split"></span><span class="imlp-component-telnumber-click" data-tel-text="'+t+'">拨打</span></div></div>')+"</a>":a='<a class="imlp-component-telnumber" data-tel-text="'+t+'">'+t+"</a>";return a}))}return a},highLight:function(t){var e=t.content,a=t.source;if("welcome"!==t.tag){e=(e=e.replace(/(\\n)|(\n)/g,"<br/>")).replace(/(\\r)|(\r)/g,"");var n={};"service"===a?n={em:[""],br:[""],p:[""]}:"form"!==t.tag&&"form"!==t.sourceTag||(n={br:[""]});var i=yt.a.formatRichText(n,e);return{content:i=(i=(i=i.replace(/(<br(\s*\/?)?>)/g,"<br/>")).replace(/(.*)<(p)>(.*?)<\/\2>$/,"$1$3")).replace(/^(<br\/>)+|(<br\/>)+$/g,""),source:t.source||"",history:t.history||!1,feature:this.data.get("feature")}}return{content:e,source:t.source||"",history:t.history||!1,feature:this.data.get("feature")}}},withdrawTypebox:function(){this.actions.setBottomBox(""),this.actions.showMenuMore(!1)},initScrollEvent:function(){this.touchendInterval=null,document.addEventListener("touchstart",this.startHandler.bind(this),!1),document.addEventListener("touchmove",i()(this.scrollHandle.bind(this),200),!1),document.addEventListener("touchend",this.endHandle.bind(this),!1)},logInitMessages:function(){var t=this;this.data.get("message").forEach((function(e){t.actions.logSyncMessage(e)}))},startHandler:function(t){var e=t.targetTouches[0],a=e.pageX,n=e.pageY,i=this.el.scrollTop;this.data.set("pageXY",this.joinPageXY(a,n)),this.data.set("scrollTop",parseInt(i,10)),this.actions.updateSwipeTrack(),this.actions.updateSwipeTrack({start:{t:(new Date).getTime(),pageX:a,pageY:n}})},endHandle:function(t){var e=this,a=t.changedTouches&&t.changedTouches[0]||{},n=a.pageX,i=a.pageY;void 0!==n&&void 0!==i?(this.actions.updateSwipeTrack({end:{t:(new Date).getTime(),pageX:n,pageY:i}}),this.actions.logSwipeInfo(z.formatSwipeLogInfo()),this.actions.updateSwipeTrack()):this.actions.logCatch({type:"touchend",message:n+"_"+i}),this.touchendInterval&&clearTimeout(this.touchendInterval);var s=0;this.touchendInterval=setInterval((function(){var t=e.getChatviewToBottomStatus();(s>30||t)&&(clearTimeout(e.touchendInterval),!e.data.get("show")&&e.updateMissMessage&&e.updateMissMessage(),e.actions.updateTouchMoving(0));s++}),50)},joinPageXY:function(t,e){return parseInt(t,10)+"-"+parseInt(e,10)},updateTouchMovedState:function(t){if(t&&t.targetTouches){var e=s.store.getState("touchmoved"),a=this.data.get("pageXY"),n=this.data.get("scrollTop"),i=t.targetTouches[0],o=i.pageX,r=i.pageY,c=this.joinPageXY(o,r),d=n!==parseInt(this.el.scrollTop,10),l=a!==c;if(this.actions.updateTouchMoving(c),s.store.getState("showNavigationMore")&&s.store.dispatch("showNavigationMore",!1),s.store.getState("showMenuMore")&&s.store.dispatch("showMenuMore",!1),!e&&d&&l)return this.actions.updateTouchmoveState(),this.actions.updateFixedState(!1),!0}return!1},scrollHandle:function(t){if(s.store.dispatch("foldCoreNavigation"),t&&t.target)try{this.dispatch("inputBlur",t.target)}catch(t){}s.store.getState("fixed");if(!t||t.value&&"typebox"===t.value.from||this.updateTouchMovedState(t),t&&t.targetTouches){var e=t.targetTouches[0],a=e.pageX,n=e.pageY;this.actions.updateSwipeTrack({move:{t:(new Date).getTime(),pageX:a,pageY:n}})}this.data.get("Iframe.on"),this.dispatch("computeVideoInfo"),this.updateMissMessage&&this.updateMissMessage();var i=t.target;if(i&&"textarea"===i.tagName.toLowerCase())return t.preventDefault(),!1},updateMissMessage:function(){var t=!this.data.get("fixed")&&this.getChatviewToBottomStatus();this.actions.decideIsNeedScrollToBottom(t);var e=this.data.get("emptyRefKey"),a=this.ref(e);(t||a&&a.el&&this.getViewPortStatus(a.el))&&this.actions.updateMissMessage({number:0,hasFirst:!1,index:-1})},getChatviewToBottomStatus:function(){var t=this.el,e=t.getBoundingClientRect(),a=this.ref(this.data.get("wrapperRef"));return(a&&a.getBoundingClientRect()).height-e.height-t.scrollTop<5},getViewPortStatus:function(t,e){var a,n=this.data.get("typebox"),i=t.getBoundingClientRect(),s=this.data.get("rectInfo");try{if(i.height&&1!==e)if(2===e){var o=i.bottom<=s.top+i.height/2,r=i.bottom>=s.bottom+i.height/2;a=!o&&!r}else a=i.top<n.top&&i.top+i.height>=n.top;else a=i.top+2<n.top}catch(t){}return a},resetNum:function(){var t=this,e=this.data.get("message")||[],a=this.data.get("fixedRefPrefix");e.forEach((function(e,n){e.num=n+1,e.fixed&&t.actions.updateFixedRefs(a+"-"+n)}))},computeMissMessage:function(){var t=this,e=this.data.get("message")||[],a=e.length,n=-1,i=!1,s=a;e.forEach((function(e){var a="imlp-component-chatview-"+(e.num-1),n=t.ref(a)&&t.ref(a).el,i=!!n&&t.getViewPortStatus(n,1);n&&i&&(s=e.num)}));for(var o=[],r=0;r<a;r++){var c=e[r];c.num>s&&"service"!==c.source?s++:!i&&c.num>s&&"service"===c.source&&(n=c.num,o.push(c),i=!0)}var d=a-s;this.actions.updateMissMessage({on:!0,hasFirst:!0,index:n,number:d,list:o})},computeMinHeight:function(t){var e=this,a=this.data.get("fixedRefs")||[],n=a[a.length-1],i=this.ref(n)&&this.ref(n).el,o=this.ref(this.data.get("wrapperRef")),r=(o&&o.getBoundingClientRect()).height,c=this.el.getBoundingClientRect(),d=c.height;if(i)if(i.getBoundingClientRect().top-c.top+d>r){var l=c.height+i.offsetTop;l&&this.data.set("minHeight",Math.abs(l)+"px"),s.store.dispatch("ChatViewScrollToBottom")}else this.dispatch("scrollToMessage",n);setTimeout((function(){e.data.set("ready",!0)}))},createIntersectionObserver:function(){var t=this;if(window.IntersectionObserver&&!this.obIns){this.obIns=new IntersectionObserver((function(e){e.forEach((function(e){var a=e.target.getAttribute("data-index"),n=t.data.get("message")[a],i=e.intersectionRatio<.5?"out":"in";t.actions.sendLog({type:"card_".concat(i),content:n.log,ext:{timestamp:(new Date).getTime()}})}))}),{root:this.ref("listview"),threshold:[.5],rootMargin:"0px 0px"})}},cardLayout:function(t){this.createIntersectionObserver(),this.obIns&&this.obIns.observe(t.el)},scrollToFixedMessage:function(t){this.computeMinHeight(t)},messages:{addRefKey:function(t){var e=t.value||{};this.data.push("xRefList",e)},reScrollToFixedMessage:function(){this.scrollToFixedMessage(),this.computeMissMessage()}}})},function(t,e,a){"use strict";a.r(e);var n=a(40),i=a.n(n),s=a(9),o=a.n(s),r=a(7),c=a.n(r),d=a(4),l=a.n(d),p=a(24),u=a.n(p),m=a(286),h=a.n(m),g=a(74),f=a.n(g),v=(a(142),a(17),a(10),a(26),a(8),a(79),a(12),a(53),a(6),a(70),a(90),a(35),a(37),a(19),a(20),a(208)),x=a(209),b=(a(98),a(0)),y=(a(242),a(3)),w=a(165),k=a(5),S=a(44),C={copied:["您已复制客服微信","，请在微信添加好友中粘贴搜索即可"],failed:"客服微信复制失败，请重试"},T=(a(28),a(179));a(72),a(920),a(63),a(86),a(42),a(25),a(109),a(64),a(192),a(193),a(156);function M(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw s}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var B,P=new Set,L=new Set,D=null,O=a(646),E=a.n(O),_=a(648),R=a.n(_),N=a(649),j=a.n(N),U=a(695),V=a.n(U),H=a(697),F=a.n(H),A=a(698),z=a.n(A),X=a(719),W=a.n(X),G=a(720),q=a.n(G),$=a(721),K=a.n($),Y=a(722),J=a.n(Y),Q=a(723),Z=a.n(Q),tt=a(724),et=a.n(tt),at=a(81),nt=a(1),it=a(94),st=["card","coupon","goods"];e.default=b.connect.san((B={HeaderOn:"switch.Header",NotificationOn:"switch.Notification",ChatViewOn:"switch.ChatView",TypeBoxOn:"switch.TypeBox",MaskOn:"switch.Mask",appid:"appid",iframe:"iframe",preview:"preview",feature:"feature",fixedRefPrefix:"fixedRefPrefix",smartprogram:"smartprogram",needDetentionModal:"needDetentionModal",ucid:"aduserid",xst:"xst",msgSended:"session.msgSended",videoList:"videoList",hasVideo:"video",interaction:"interaction",review:"review",light:"light",baiduboxapp:"baiduboxapp",prerender:"prerender",sessionState:"session.state",terminal:"terminal",popupState:"popupState",popupStateChangeStart:"popupStateChangeStart",topData:"topData",contactNumber:"contactNumber",detentionContent:"detentionContent",sendedMsgCount:"session.sendedMsgCount",detentionShowed:"detentionShowed",showPopupSmallMessage:"showPopupSmallMessage",leavecardext:"leavecardext",robotServiceModel:"robotServiceModel",isHideContentCard:"isHideContentCard",isLiteBox:"isLiteBox",coreNavigation:"coreNavigation",maskShow:"mask.show",maskType:"mask.childcomponent",detentionTime:"expParam.imlp_detention"},o()(B,"feature","feature"),o()(B,"globalRetainParams","globalRetainParams"),B),{initTypeboxInfo:"initTypeboxInfo",initChatviewInfo:"initChatviewInfo",setMask:"setMask",updateHiddenMsg:"UpdateHiddenMsg",updateFixedAction:"updateFixedAction",updatePreview:"UpdatePreviewAction",inputFocus:"inputFocus",masktoggle:"MaskToggle",updateOnlineStatus:"updateOnlineStatus",updateDeviceorient:"updateDeviceorient",send:"SendMessage",openXcxPage:"openXcxPage",getGlobalRetainParams:"getGlobalRetainParams"})({components:{"ui-header":E.a,"ui-notification":R.a,"ui-chatview":j.a,"ui-typeboxnew":V.a,"ui-typeboxnewpopup":F.a,"ui-mask":z.a,"ui-toast":W.a,"ui-iframe":q.a,"ui-widget-preview":K.a,"ui-topcontent":J.a,"ui-popup-small-message":et.a,"ui-core-navitation":Z.a},initData:function(){return{emptyRefKey:"imlp-chatview-empty",chatviewRefKey:"imlp-chatview",iframeRefKey:"imlp-chatview-iframe",typeboxRefKey:"imlp-component-typebox-type-zone",layoutCls:"layout-ready",isGlobalDetainExp:!1,isShown:!1}},attached:function(){var t,e=this;if((null===(t=window.performance)||void 0===t?void 0:t.mark)&&window.performance.mark("AppAttached"),"message"===this.data.get("leavecardext.time")&&this.watch("sendedMsgCount",(function(t){1===t&&e.bindDetentionEvent()})),(this.data.get("feature")||{})["95489-1"]){var a=Date.now();this.actions.getGlobalRetainParams(),this.data.set("isGlobalDetainExp",!0);try{var n=new v.a;new x.a;window.addEventListener("load",(function(t){n.init().then((function(t){var e=t.iframeLoadedStatus;"success"===e&&b.store.dispatch("sendLog",{type:"global_retain_sdk_success",from:"imlp",content:"",ext:{iframeLoadedStatus:e,frameLoadedTime:Date.now()-a}})})).catch((function(t){var e=t.iframeLoadedStatus,n=t.error;b.store.dispatch("sendLog",{type:"global_retain_sdk_error",from:"imlp",content:"",ext:{iframeLoadedStatus:e,errorInfo:JSON.stringify(n),frameLoadedTime:Date.now()-a}})}))}))}catch(t){b.store.dispatch("sendLog",{type:"global_retain_init_sdk_error",from:"imlp",content:"",ext:{errorInfo:JSON.stringify(t),frameLoadedTime:Date.now()-a}})}}this.bindEvent(),this.resetLayout(),this.setCompRect("chatview"),b.store.dispatch("initPhoneTracker"),"1"===b.store.getState("expParam.imlp_core_nav")&&b.store.dispatch("getCoreNavigation")},bindEvent:function(){var t=this,e=this;if(this.bindDeviceorientation(),this.bindNetChangeEvent(),this.bindHideTelFloat(),this.data.get("prerender")&&this.bindVisiblityChange(),this.data.get("needDetentionModal")){var a;navigator.userAgent.indexOf("HuaweiBrowser")>0&&(a=0);var n=this.data.get("leavecardext.time");if("3"==n||"5"==n){var i=parseInt(this.data.get("detentionTime")||0,10);a=i||1e3*n}else a=864e5;setTimeout((function(){t.bindDetentionEvent()}),a)}this.data.get("hasVideo")&&this.watch("iframe",(function(t){t.on&&e.computeVideoInfo()}))},bindVisiblityChange:function(){var t=this;document.addEventListener("visibilitychange",(function(){var e=t.data.get("sessionState");b.store.dispatch("visiblityChange",{content:document.visibilityState}),e!==k.a.stateMap.closed&&e!==k.a.stateMap.forbidden&&"visible"===document.visibilityState?(e!==k.a.stateMap.connected&&b.store.dispatch("updateSessionStatus",k.a.stateMap.init),T.a.init()):b.store.dispatch("disconnectSDK")}),!1)},bindHideTelFloat:function(){var t=this;document.body.addEventListener("touchstart",(function(e){var a=e.target.className;"imlp-component-telnumber"!==a&&"imlp-component-telnumber-copy"!==a&&"imlp-component-telnumber-click"!==a&&t.hideTelFloat()}))},hideTelFloat:function(){for(var t=document.getElementsByClassName("imlp-component-telnumber-wrapper"),e=0,a=t.length;e<a;e++){var n=t[e];(y.a.hasClass(n,"telnumber-wrapper-up")||y.a.hasClass(n,"telnumber-wrapper-down"))&&y.a.removeClasses(n,["telnumber-wrapper-up","telnumber-wrapper-down"])}},bindNetChangeEvent:function(){var t=this;function e(){t.actions.updateOnlineStatus({status:navigator.onLine?1:0,time:(new Date).getTime()})}window.addEventListener("online",e),window.addEventListener("offline",e)},bindDeviceorientation:function(){window.addEventListener("deviceorientation",f()(function(t){h()(t.alpha)||h()(t.beta)||h()(t.gamma)||u()(t.alpha)||u()(t.beta)||u()(t.gamma)||this.actions.updateDeviceorient({alpha:Math.round(100*t.alpha)/100,beta:Math.round(100*t.beta)/100,gamma:Math.round(100*t.gamma)/100})}.bind(this),2e3))},resetLayout:function(){var t=this.data.get("layoutCls");document.body.classList.add(t),document.documentElement.classList.add(t)},chatActionHandler:function(t){var e=t.value.value,a=t.value.type||"",n=e.type||"";switch(a){case"toast":b.store.dispatch("ShowToast",e);break;case"leaveWord":b.store.dispatch("LeaveWord",e);break;default:setTimeout((function(){b.store.dispatch("ChatAction",t.value)}))}var i=e.actionType||"",s=e.content||e.value||"",o=e.recommendMsg||"",r=b.store.getState("showNavigationMore");r&&b.store.dispatch("showNavigationMore",!1);var c=b.store.getState("showMenuMore")||!1;if(c&&b.store.dispatch("showMenuMore",!1),"async"===i)b.store.dispatch("getAsyncCard",{cid:e.value||"",mat:e.mat||{},ucid:this.data.get("ucid"),xst:this.data.get("xst"),popStatus:e.popStatus});else if("sync"===i){var d={type:"syncCard",value:e.value};b.store.dispatch("CardLink",d)}else{b.store.getState("xhinfo.calling");switch(n){case"tel":if("phoneModal"===a){s&&this.makePhoneCall(s);break}var l=b.store.getState("xhUseableAndIsXhTest"),p=b.store.getState("xiaohao"),u=b.store.getState("logininback");if(l||"1"===p||"1"===u){b.store.dispatch("checkXhModal");break}s&&this.makePhoneCall(s);break;case"url":if(this.data.get("isHideContentCard"))break;try{this.pauseVideo(),this.updateHistory();var m=s.url||s,h=y.a.formatUrl(m,{xst:this.data.get("xst")}),g=this.data.get("review"),f=this.data.get("smartprogram"),v=this.data.get("baiduboxapp");g?location.href=h:(f||v)&&0!==m.indexOf("http")&&0!==m.indexOf("//")?this.actions.openXcxPage(m):window.top.location.href=h}catch(t){this.updateHistory();var x=s.url||s;location.href=x}break;case"card":b.store.dispatch("CardLink",t.value);break;case"xcx":b.store.dispatch("openXcx",e&&e.mat);break;case"moreNav":b.store.dispatch("showNavigationMore",!r);break;case"menuMore":b.store.dispatch("showMenuMore",!c);break;case"iframe":b.store.dispatch("IframeAction",{on:!0,src:y.a.formatUrl(s,{from:"fcim"})});break;case"menu":this.actions.masktoggle({childcomponent:"menu"});case"wechat":e.value&&this.copyHandler(e);break;default:break;case"client_msg":this.actions.send({source:"user",type:nt.e.TEXT,content:s,trigger:"sug",sourceTag:"sugRecommend",recommendMsg:o});break;case"sugQa":var w=e.text||"";this.makeSugQa(w,s);break;case"storeList":var k=e.showCard;b.store.dispatch("AddMessageToChatView",k)}}},makePhoneCall:function(t){"object"===i()(t)?b.store.dispatch("getCallNumber",t.number):b.store.dispatch("makePhoneCall",t)},copyHandler:function(t){if(t.isOfficaleWechat)it.a.init({account:"",msgid:"",xst:b.store.getState("xst"),solutionId:t.value.solutionid,from:"sugSlider"});else{var e=t.value,a=t.from,n=navigator.userAgent.match(/(UCBrowser\/){1}\d+/g),i=n&&parseInt(n[0].split("/")[1],10),s=document.createElement("input");s.setAttribute("value",e),s.setAttribute("readonly","readonly"),document.body.appendChild(s),s.focus(),s.select(),s.setSelectionRange(0,e.length);var o=C,r=o.copied,c=o.failed;if(document.execCommand("copy")||!document.execCommand("copy")&&i>11)document.execCommand("copy"),(this.data.get("robotServiceModel")||nt.o.NORMAL)===nt.o.NORMAL?"wechat"!==a&&(b.store.dispatch("ShowToast",{text:r[0]+e+r[1]}),b.store.dispatch("updateWechatStatus",{isCopied:!0})):b.store.dispatch("ShowToast",{text:"复制成功，请打开微信粘贴"});else b.store.dispatch("ShowToast",{text:c});document.body.removeChild(s)}},makeSugQa:function(t,e){if("[object Object]"===Object.prototype.toString.call(e)&&st.includes(e.type)&&e.value&&b.store.dispatch("getAsyncCard",{mat:JSON.stringify(e.value),ucid:this.data.get("ucid"),xst:this.data.get("xst")}),"[object String]"===Object.prototype.toString.call(e)){if(this.actions.send({source:"user",type:nt.e.TEXT,content:t,trigger:"sug",sourceTag:"sugRecommend"}),!e)return;setTimeout((function(){b.store.dispatch("AddMessageToChatView",{source:"service",type:nt.e.TEXT,content:e,trigger:"sug",sourceTag:"sugRecommend",msgtime:(new Date).getTime(),msgid:Date.now()})}),300)}"[object Object]"===Object.prototype.toString.call(e)&&"evaluate"===e.type&&((this.data.get("sendedMsgCount")||0)>0?b.store.dispatch("sendEvaluateCard","click"):b.store.dispatch("ShowToast",{text:at.c}))},swanLiteDetentionEvent:function(){var t=this;this.data.get("isLiteBox")&&window.swan&&swan.onBeforeAppClose&&swan.onBeforeAppClose((function(e){console.log("onBeforeAppClose");var a=t.data.get("detentionShowed"),n=e.closeType,i=void 0===n?"":n;a||(e.preventDefault(),t.actions.setMask({show:!0,childcomponent:"detention",data:{closeType:i}}))}))},bindPopStateEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt.b.BACK,e=this,a=this.data.get("terminal");function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt.b.BACK,e="#"+t+(new Date).getTime(),a={title:"",url:e};window.history.pushState(a,"",e)}location.href.includes("#"+t)&&!location.href.includes("cdata=")||"H5-window"!==a&&n(t),e.bindHashChange||(setTimeout((function(){"H5-window"!==a&&window.addEventListener("hashchange",(function(t){var a=e.data.get("preview"),i=e.data.get("iframe"),s=/^.+(?=\/\/)/,o=t.oldURL.replace(s,""),r=t.newURL.replace(s,"");if(e.data.get("MaskOn")&&e.data.get("maskShow")&&"standardpopup"===e.data.get("maskType"))return e.ref("mask").maskCloseHandler("hash"),void(o.includes(nt.b.DETENTION)&&!r.includes(nt.b.DETENTION)&&n());if(i&&i.on)n(),e.hideIframe();else if(a&&a.on)n(),e.hidePreviewImage();else{var c=e.data.get("detentionShowed");if(o.indexOf(nt.b.DETENTION)&&!c){var d=e.data.get("globalRetainParams"),l=new v.a,p=l.setData.bind(l),u=new x.a;if(e.data.get("isGlobalDetainExp")){if(e.data.get("isShown"))return;u.updateGlobalRetain(d,p)}e.actions.setMask({show:!0,childcomponent:"detention"})}else window.history.back()}}),!1)}),300),e.bindHashChange=!0)},bindDetentionEvent:function(){var t=this;if(this.data.get("isLiteBox"))this.swanLiteDetentionEvent();else{var e=this.data.get("globalRetainParams"),a=new v.a,n=a.getData.bind(a),i=new x.a;if(this.data.get("isGlobalDetainExp"))return void i.isGlobalRetainShown(e,n).then((function(a){var n=a.isShown,i=a.localStorageType;return t.data.set("isShown",n),n||t.bindPopStateEvent(),b.store.dispatch("sendLog",{type:"global_retain_bind_detention",from:"imlp",content:"",ext:{isShown:n,globalRetainParams:e,localStorageType:i}}),n})).catch((function(t){b.store.dispatch("sendLog",{type:"global_retain_bind_detention_error",from:"imlp",content:"",ext:{errorInfo:JSON.stringify(t),globalRetainParams:e}})}));this.bindPopStateEvent()}},hideIframe:function(){var t=this.ref(this.data.get("iframeRefKey"));t&&t.hideIframe&&t.hideIframe()},hidePreviewImage:function(){this.actions.updatePreview({src:"",on:!1})},updateHistory:function(){if(history.replaceState){var t=[b.store.getState("channel"),b.store.getState("level1"),b.store.getState("level2"),b.store.getState("level3"),b.store.getState("user_id"),b.store.getState("im_type"),b.store.getState("ssid"),b.store.getState("appid")].join("__"),e=b.store.getState("xst"),a={cdata:y.a.base64Encode(t),xst:e},n=y.a.formatUrl(location.href,a);n&&history.replaceState(null,null,n)}},setCompRect:function(t){var e={typebox:{action:"initTypeboxInfo",refKey:this.data.get("typeboxRefKey")},chatview:{action:"initChatviewInfo",refKey:this.data.get("chatviewRefKey")}},a=l()(e,t)||{},n=a.action,i=a.refKey;if(i&&n&&l()(this.actions,n)){var s=this.ref(i),o=s&&s.el;c()(this,t,s);var r=o&&o.getBoundingClientRect&&o.getBoundingClientRect();this.actions[n](r)}},computeVideoInfo:function(t){var e=this,a=!1,n=this.data.get("iframe"),i=n&&n.on;t?(a=i||!this.chatview.getViewPortStatus(t,2))&&t.pause&&t.pause():(this.data.get("videoList")||[]).forEach((function(t){a=i||!e.chatview.getViewPortStatus(t.el,2),t.updateState&&t.updateState(a)}))},pauseVideo:function(){(this.data.get("videoList")||[]).forEach((function(t){t.videoElem&&t.videoElem.pause&&t.videoElem.pause()}))},messages:{inputFocus:function(t){t=t||{};var e=this.ref(this.data.get("typeboxRefKey"));e.focus&&e.focus(),this.actions.inputFocus(t.value)},scrollToMessage:function(t){var e=this,a=this.data.get("emptyRefKey"),n=t.value||a,i=this.ref(this.data.get("chatviewRefKey")),s=i&&i.ref(n);if(s){var o=s.getDistanceToTop();i.el.scrollTop+=o,this.data.get("hasVideo")&&setTimeout((function(){e.computeVideoInfo()}))}},scrollHandle:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ref(this.data.get("chatviewRefKey"));e&&e.scrollHandle&&e.scrollHandle(t)},setCompRect:function(t){var e=t.value;this.setCompRect(e)},"chat-action":function(t){this.chatActionHandler(t)},operate:function(t){var e,a=t.value,n=a.history,i=a.item,s=a.type,o=(a.force,this.data.get("feature"));n&&(e=o.standardcard||o.standardcard_video?i&&i.value&&i.value.material:i&&i.mat&&i.mat.cardType,n=w.a.getTrackHistory({item:i,history:n,cardType:e}),S.a.trackHandle(n,i));this.chatActionHandler({value:{type:s,value:i}})},"hidden-toolMenu":function(){this.actions.setMask({show:!1})},"hide-iframe":function(){this.hideIframe()},"hidden-msg":function(){this.actions.updateHiddenMsg()},"cancel-fixed":function(){this.actions.updateFixedAction(!1)},"update-history":function(){history.replaceState&&this.updateHistory()},computeMinHeight:function(t){var e=(t.value||{}).first;this.ref(this.data.get("chatviewRefKey")).computeMinHeight(e)},inputBlur:function(t){var e=t.value,a=this.ref(this.data.get("typeboxRefKey")),n=a&&a.data.get("bottombox");e&&!y.a.contains(a.el,e)&&("TEXTAREA"===document.activeElement.tagName?a.inputElem.blur():n&&a.toggleBox("input"))},"hide-telFloat":function(){this.hideTelFloat()},computeVideoInfo:function(t){var e=t.value;this.computeVideoInfo(e)},pauseVideo:function(){this.pauseVideo()},"component-tracking":function(t){var e;e=t.value,L.has(e)||(P.add(e),L.add(e),D||(D=setTimeout((function(){var t,e={},a=M(P);try{for(a.s();!(t=a.n()).done;)e[t.value]=1}catch(t){a.e(t)}finally{a.f()}b.store.dispatch("sendLog",{type:"component",content:e}),P.clear(),D=null}),1e3)))},popstate:function(t){!this.data.get("isLiteBox")&&this.bindPopStateEvent(t.value)}}})},function(t,e,a){"use strict";a.r(e);a(12);var n=a(0);a(18),a(42),a(26),a(37);var i={rgbaFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,n=t;if((t=t.toLowerCase())&&a.test(t)){if(4===t.length){for(var i="#",s=1;s<4;s+=1)i+=t.slice(s,s+1).concat(t.slice(s,s+1));t=i}for(var o=[],r=1;r<7;r+=2)o.push(parseInt("0x"+t.slice(r,r+2)));n="rgba("+o.join(",")+","+e+")"}return n}},s=a(652),o=a.n(s),r=a(243),c=a.n(r),d=a(1);e.default=n.connect.san({savatar:"service.avatar",uavatar:"user.avatar",feature:"feature",presetMessage:"presetMessage",xst:"xst",robotServiceModel:"robotServiceModel",goldService:"feedback.gold"},{})({attached:function(){this.dispatch("component-tracking","ChatViewBase")},initData:function(){return{presetShow:!0}},computed:{isServiceSource:function(){return"service"===this.data.get("source")},isGoldService:function(){return this.data.get("isServiceSource")&&this.data.get("xst")&&this.data.get("robotServiceModel")===d.o.NORMAL&&this.data.get("goldService")}},handleStatus:function(){var t=this.data.get("msgid"),e=this.data.get("sendState");this.data.get("notResend")||"1"!==e||n.store.dispatch("manualResendMessage",t)},filters:{rgbaFormat:i.rgbaFormat},avatarClick:function(t){var e=this.data.get("isGoldService");n.store.dispatch("avatarClick",{avatarType:t,isGoldService:e})},components:{"ui-recommend":o.a,"ui-phone-button":c.a},inputPreset:function(){var t=(this.data.get("presetMessage")||{}).from;n.store.dispatch("UpdateTypeBoxInput",this.data.get("m").content),n.store.dispatch("updateSourceTag",t),this.data.set("presetShow",!1),n.store.dispatch("logPresetMsg",{type:"preset_input_".concat(t),content:encodeURIComponent(this.data.get("m").content)})},checkPhoneBubleDisplay:function(t){return!!t&&("user"!==t.source&&(d.k.lastIndex=0,!!d.k.test(t.content)&&(d.n.lastIndex=0,d.m.lastIndex=0,!(d.n.test(t.connect)&&!d.m.test(t.connect)))))},sendPreset:function(){if(this.data.get("presetShow")){this.data.set("presetShow",!1);var t=(this.data.get("presetMessage")||{}).from;n.store.dispatch("SendMessage",{source:"user",type:"text",content:this.data.get("m").content,trigger:"input",sourceTag:t||""});var e={type:"preset_send_".concat(t),content:encodeURIComponent(this.data.get("m").content)};n.store.dispatch("logPresetMsg",e)}}})},function(t,e,a){"use strict";a.r(e);a(195),a(6),a(19),a(20),a(25),a(10),a(65);var n=a(0),i=a(249),s=a.n(i),o=a(251),r=a.n(o),c=a(664),d=a.n(c),l=a(247),p=a(169),u=a.n(p),m=a(128),h=a.n(m),g=a(129),f=a.n(g),v=a(168),x=a.n(v),b=a(130),y=a.n(b),w=a(106),k=a.n(w),S=a(665),C=a.n(S),T=a(167),M=a.n(T),I=a(166),B=a.n(I),P=a(666),L=a.n(P),D=a(252),O=a.n(D),E=a(667),_=a.n(E),R=a(254);function N(t){return 2===t.useTimeType?"使用期限：自领取后"+t.timeValue+"天":1===t.useTimeType?"有效期至"+t.expireTime:void 0}var j=a(670),U=a.n(j),V=a(92),H=a.n(V),F=a(671),A=a.n(F),z=a(673),X=a.n(z),W=a(674),G=a.n(W),q=a(675),$=a.n(q),K=a(676),Y=a.n(K),J=a(677),Q=a.n(J),Z=a(1),tt=a(678),et=a.n(tt),at=a(250),nt=a.n(at);e.default=n.connect.san({show:"mask.show",child:"mask.childcomponent",ext:"ext"},{toggle:"MaskToggle",setMask:"setMask",updateFixedState:"updateFixedAction",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom"})({initData:function(){return{showWidgets:[],display:!0,track:"",combined:!1,cardindex:0,isfold:!1,hasHotGoods:!1}},computed:{style:function(){return this.data.get("data.style")},content:function(){return this.data.get("data.content")},action:function(){return this.data.get("data.content.action")||null},header:function(){var t=this.data.get("data.content.header");return(null==t?void 0:t.text)||t},bottom:function(){return this.data.get("data.content.bottom")},hasHotGoods:function(){var t,e=this.data.get("data.content");return null==e||null===(t=e.list)||void 0===t?void 0:t.some((function(t){var e=t.type,a=t.icon;return"subtitle"===e&&"goods"===(null==a?void 0:a.type)}))},styleVersion:function(){var t;return null===(t=this.data.get("data.content"))||void 0===t?void 0:t.styleVersion}},attached:function(){var t=this;this.dispatch("component-tracking","StandardCard"),this.data.get("combined")||this.fire("cardAttached",{el:this.el}),this.getInfo();var e=this.el,a=e.querySelectorAll(".imlp-standard-widget-hide"),i=this.data.get("showWidgets"),s=this.data.get("content"),o=this.data.get("content").list||[],r=s.showCount||o.length;if(o.forEach((function(t,e){"detailBase"===t.name&&e<r&&i.push("widget"+e)})),a.length>0){this.data.set("isfold",!0);var c=e.querySelector(".imlp-standard-morelink");c.style.display="block",n.store.dispatch("cardShowStatus","fold"),c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();for(var i=!1,s=0;s<a.length;s++)-1!==a[s].className.indexOf("imlp-standard-widget-hide")?(a[s].className="imlp-standard-widget",i=!0):(a[s].className="imlp-standard-widget imlp-standard-widget-hide",i=!1);t.data.set("isfold",!i),n.store.dispatch("cardBtnClick",i?"unfold":"fold"),n.store.dispatch("cardShowStatus",i?"fold":"unfold");try{for(var o=t.data.raw.content.showCount,r=0;r<a.length;r++)t.ref("widget"+(r+o)).data.set("display",i)}catch(e){}t.dispatch("scrollHandle")}))}},isGoodsTitle:function(t){var e=t.type,a=t.icon;return"subtitle"===e&&"goods"===(null==a?void 0:a.type)},getInfo:function(){var t=this,e=this.data.get("data")||{};(e&&e.content&&e.content.list||[]).forEach((function(e){(e&&"subtitle"===e.type&&e.text&&t.data.set("track",e.text),e&&"detailBase"===e.type&&e.info)&&e.info.forEach((function(e){e&&"subtitle"===e.type&&e.text&&t.data.set("track",e.text)}))}))},operate:function(t,e){if(e){t&&(t.preventDefault(),t.stopPropagation());var a=this.data.get("cardindex"),n=this.data.get("data.log"),i="standardcard",s=this.data.get("track"),o=Object.assign(n,{rank:a,subtitle:s}),r={type:e.type,value:o};if("popup"===e.type&&e.value){var c=e.value,d=c.style,l=c.theme,p=c.content;this.actions.setMask({show:!0,childcomponent:"standardpopup",data:{style:d,theme:l,list:p.list}}),this.actions.decideIsNeedScrollToBottom(!1),this.actions.updateFixedState(!1),this.dispatch("operate",{item:r,type:i,history:s}),this.dispatch("popstate",Z.b.POPUP)}else"url"===e.type&&e.value?(r.value.url=e.value,this.dispatch("operate",{item:r,type:i,history:s})):"card"===e.type&&"async"===e.actionType?(r.mat=e.mat||{},r.actionType="async",this.dispatch("operate",{item:r,type:i,history:s})):"async-popup"===e.type&&"async"===e.actionType&&(r.mat=e.mat||{},r.actionType="async",r.popStatus="async-popup",this.dispatch("operate",{item:r,type:i,history:s}))}},components:{"widget-detailbase":s.a,"widget-notification":B.a,"widget-consult":r.a,"widget-slider":d.a,"widget-image":u.a,"widget-subtitle":h.a,"widget-tagtext":f.a,"widget-description":x.a,"widget-score":y.a,"widget-tags":k.a,"widget-desctags":C.a,"widget-price":M.a,"widget-video-base":L.a,"widget-tabscard":O.a,"widget-couponbase":_.a,"widget-evaluatecard":U.a,"ui-arrow":H.a,"widget-plan-card-base":A.a,"widget-project-desc-card":X.a,"widget-desc-dot":G.a,"widget-consult-group":$.a,"widget-guide-group":Y.a,"widget-consult-button":Q.a,"widget-edu-advantage":et.a,"widget-action-button":nt.a},filters:{widgetFormat:l.a.formatFilter,couponFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("couponBase"===t.type){if(!t.info||!t.info.length)return t;var e=t.info[0],a=e.solutionId,i="develop"===n.store.getState("mode"),s=i?"offline":"online",o=new R.a(a,s);o.getCouponDetail().then((function(t){if(t.solutionId){var e={captcha:t.captcha,hotShow:t.count.show,storeLogo:t.storeLogo,storeName:t.storeName,couponName:t.couponName,takeLimit:t.takeLimit.takeLimitValue,takeNum:t.takeNum,solutionId:a,couponUseTime:N(t.couponUseTime),hasGetCoupon:!1,couponRuleList:t.couponInfo&&t.couponInfo.extraDiscountRule};return n.store.dispatch("saveCouponInfo",{solutionId:a,action:e}),e}})).catch((function(t){}))}}}})},,,,,,,function(t,e,a){var n=a(2);a(915);var i=a(916),s=a(636).default;t.exports=a(636),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(927);var i=a(928),s=a(422).default;t.exports=a(422),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(929);var i=a(930),s=a(423).default;t.exports=a(423),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(933);var i=a(934),s=a(425).default;t.exports=a(425),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(935);var i=a(936),s=a(635).default;t.exports=a(635),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(937);var i=a(938),s=a(426).default;t.exports=a(426),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(939);var i=a(940),s=a(637).default;t.exports=a(637),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(941);var i=a(942),s=a(427).default;t.exports=a(427),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(945);var i=a(946),s=a(429).default;t.exports=a(429),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(947);var i=a(948),s=a(430).default;t.exports=a(430),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(949);var i=a(950),s=a(431).default;t.exports=a(431),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(951);var i=a(952),s=a(432).default;t.exports=a(432),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(953);var i=a(954),s=a(433).default;t.exports=a(433),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(957);var i=a(958),s=a(435).default;t.exports=a(435),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(961);var i=a(962),s=a(437).default;t.exports=a(437),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(971);var i=a(972),s=a(442).default;t.exports=a(442),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(989);var i=a(990),s=a(449).default;t.exports=a(449),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(995);var i=a(996),s=a(452).default;t.exports=a(452),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(997);var i=a(998),s=a(453).default;t.exports=a(453),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(999);var i=a(1e3),s=a(454).default;t.exports=a(454),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1003);var i=a(1004),s=a(456).default;t.exports=a(456),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1005);var i=a(1006),s=a(457).default;t.exports=a(457),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1013);var i=a(1014),s=a(462).default;t.exports=a(462),t.exports.default=n(s,i,[])},function(t,e,a){t.exports=a(68)(50)},function(t,e,a){t.exports=a(68)(52)},function(t,e,a){var n=a(2);a(1015);var i=a(1016),s=a(463).default;t.exports=a(463),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1017);var i=a(1018),s=a(464).default;t.exports=a(464),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1019);var i=a(1020),s=a(465).default;t.exports=a(465),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1021);var i=a(1022),s=a(466).default;t.exports=a(466),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1023);var i=a(1024),s=a(467).default;t.exports=a(467),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1025);var i=a(1026),s=a(468).default;t.exports=a(468),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1027);var i=a(1028),s=a(469).default;t.exports=a(469),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1029);var i=a(1030),s=a(470).default;t.exports=a(470),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1031);var i=a(1032),s=a(471).default;t.exports=a(471),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1033);var i=a(1034),s=a(472).default;t.exports=a(472),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2),i=a(1035),s=a(473).default;t.exports=a(473),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2),i=a(1036),s=a(474).default;t.exports=a(474),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2),i=a(1037),s=a(475).default;t.exports=a(475),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1038);var i=a(1039),s=a(476).default;t.exports=a(476),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1040);var i=a(1041),s=a(477).default;t.exports=a(477),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1042);var i=a(1043),s=a(478).default;t.exports=a(478),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1044);var i=a(1045),s=a(479).default;t.exports=a(479),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1046);var i=a(1047),s=a(480).default;t.exports=a(480),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1048);var i=a(1049),s=a(481).default;t.exports=a(481),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1050);var i=a(1051),s=a(482).default;t.exports=a(482),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1052);var i=a(1053),s=a(483).default;t.exports=a(483),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1054);var i=a(1055),s=a(484).default;t.exports=a(484),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1056);var i=a(1057),s=a(485).default;t.exports=a(485),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1058);var i=a(1059),s=a(486).default;t.exports=a(486),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1060);var i=a(1061),s=a(487).default;t.exports=a(487),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1062);var i=a(1063),s=a(488).default;t.exports=a(488),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1088);var i=a(1089),s=a(499).default;t.exports=a(499),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1092);var i=a(1093),s=a(501).default;t.exports=a(501),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1094);var i=a(1095),s=a(502).default;t.exports=a(502),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1096);var i=a(1097),s=a(503).default;t.exports=a(503),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1098);var i=a(1099),s=a(504).default;t.exports=a(504),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1100);var i=a(1101),s=a(505).default;t.exports=a(505),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1102);var i=a(1103),s=a(506).default;t.exports=a(506),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1104);var i=a(1105),s=a(507).default;t.exports=a(507),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1111);var i=a(1112),s=a(511).default;t.exports=a(511),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1113);var i=a(1114),s=a(512).default;t.exports=a(512),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1115);var i=a(1116),s=a(513).default;t.exports=a(513),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1117);var i=a(1118),s=a(514).default;t.exports=a(514),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1119);var i=a(1120),s=a(515).default;t.exports=a(515),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1121);var i=a(1122),s=a(516).default;t.exports=a(516),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2),i=a(1123),s=a(517).default;t.exports=a(517),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1124);var i=a(1125),s=a(518).default;t.exports=a(518),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1126);var i=a(1127),s=a(519).default;t.exports=a(519),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1128);var i=a(1129),s=a(520).default;t.exports=a(520),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1130);var i=a(1131),s=a(521).default;t.exports=a(521),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1132);var i=a(1133),s=a(522).default;t.exports=a(522),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1134);var i=a(1135),s=a(523).default;t.exports=a(523),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1136);var i=a(1137),s=a(524).default;t.exports=a(524),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1138);var i=a(1139),s=a(525).default;t.exports=a(525),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1140);var i=a(1141),s=a(526).default;t.exports=a(526),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1142);var i=a(1143),s=a(527).default;t.exports=a(527),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1144);var i=a(1145),s=a(528).default;t.exports=a(528),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1146);var i=a(1147),s=a(529).default;t.exports=a(529),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1148);var i=a(1149),s=a(530).default;t.exports=a(530),t.exports.default=n(s,i,[])},function(t,e,a){var n=a(2);a(1150);var i=a(1151),s=a(531).default;t.exports=a(531),t.exports.default=n(s,i,[])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n=a(11),i=a(841).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,a){var n=a(39),i=a(16),s=a(191),o=a(76),r=i(a(213).f),c=i([].push),d=function(t){return function(e){for(var a,i=o(e),d=s(i),l=d.length,p=0,u=[];l>p;)a=d[p++],n&&!r(i,a)||c(u,t?[a,i[a]]:i[a]);return u}};t.exports={entries:d(!0),values:d(!1)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-app-container\n        {{terminal === \'H5-window\' ? \'imlp-app-\' + terminal + \' imlp-popup-\' + popupState : \'\'}} imlp-popup-start-{{popupStateChangeStart}}">\n        <ui-toast></ui-toast>\n        <template s-if="!light && HeaderOn && !smartprogram">\n            <ui-header>\n            </ui-header>\n        </template>\n        <template s-if="NotificationOn">\n            <ui-notification>\n            </ui-notification>\n        </template>\n        <template s-if="topData">\n            <ui-topcontent class="imlp-app-container-top-data" type="{{topData.type}}" text="{{topData.text}}"></ui-topcontent>\n        </template>\n        <ui-core-navitation s-if="coreNavigation"></ui-core-navitation>\n        <template s-if="ChatViewOn">\n            <ui-chatview emptyRefKey="{{emptyRefKey}}" typeboxRef="{{typeboxRefKey}}" fixedRefPrefix="{{fixedRefPrefix}}" s-ref="{{chatviewRefKey}}">\n            </ui-chatview>\n        </template>\n        <ui-popup-small-message style="display: {{showPopupSmallMessage ? \'flex\' : \'none\'}};"></ui-popup-small-message>\n        <template s-if="TypeBoxOn">\n            <ui-typeboxnew s-if="terminal !== \'H5-window\' && (feature.typebox || feature.typebox2)" s-ref="{{typeboxRefKey}}">\n            </ui-typeboxnew>\n            <ui-typeboxnewpopup s-if="terminal === \'H5-window\'" s-ref="{{typeboxRefKey}}">\n            </ui-typeboxnewpopup>\n        </template>\n        <template s-if="MaskOn">\n            <ui-mask s-ref="mask"></ui-mask>\n        </template>\n        <template s-if="iframe && iframe.on">\n            <ui-iframe s-ref="{{iframeRefKey}}">\n            </ui-iframe>\n        </template>\n        <template s-if="preview && preview.on && preview.src">\n            <ui-widget-preview data="{{preview}}"></ui-widget-preview>\n        </template>\n        <rendermark></rendermark>\n    </div>\n'},,,,function(t,e,a){a(921)},function(t,e,a){"use strict";a(922)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a(926))},function(t,e,a){"use strict";var n=a(11),i=a(23),s=a(16),o=a(189),r=a(58),c=a(420),d=a(236),l=a(200),p=a(32),u=a(95),m=a(45),h=a(15),g=a(219),f=a(153),v=a(231);t.exports=function(t,e,a){var x=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),y=x?"set":"add",w=i[t],k=w&&w.prototype,S=w,C={},T=function(t){var e=s(k[t]);r(k,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!m(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!m(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!m(t))&&e(this,0===t?0:t)}:function(t,a){return e(this,0===t?0:t,a),this})};if(o(t,!p(w)||!(b||k.forEach&&!h((function(){(new w).entries().next()})))))S=a.getConstructor(e,t,x,y),c.enable();else if(o(t,!0)){var M=new S,I=M[y](b?{}:-0,1)!=M,B=h((function(){M.has(1)})),P=g((function(t){new w(t)})),L=!b&&h((function(){for(var t=new w,e=5;e--;)t[y](e,e);return!t.has(-0)}));P||((S=e((function(t,e){l(t,k);var a=v(new w,t,S);return u(e)||d(e,a[y],{that:a,AS_ENTRIES:x}),a}))).prototype=k,k.constructor=S),(B||L)&&(T("delete"),T("has"),x&&T("get")),(L||I)&&T(y),b&&k.clear&&delete k.clear}return C[t]=S,n({global:!0,constructor:!0,forced:S!=w},C),f(S,t),b||a.setStrong(S,t,x),S}},function(t,e,a){var n=a(15),i=a(45),s=a(111),o=a(924),r=Object.isExtensible,c=n((function(){r(1)}));t.exports=c||o?function(t){return!!i(t)&&((!o||"ArrayBuffer"!=s(t))&&(!r||r(t)))}:r},function(t,e,a){var n=a(15);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,a){var n=a(15);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,a){"use strict";var n=a(46).f,i=a(139),s=a(421),o=a(119),r=a(200),c=a(95),d=a(236),l=a(297),p=a(299),u=a(198),m=a(39),h=a(420).fastKey,g=a(96),f=g.set,v=g.getterFor;t.exports={getConstructor:function(t,e,a,l){var p=t((function(t,n){r(t,u),f(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),m||(t.size=0),c(n)||d(n,t[l],{that:t,AS_ENTRIES:a})})),u=p.prototype,g=v(e),x=function(t,e,a){var n,i,s=g(t),o=b(t,e);return o?o.value=a:(s.last=o={index:i=h(e,!0),key:e,value:a,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),m?s.size++:t.size++,"F"!==i&&(s.index[i]=o)),t},b=function(t,e){var a,n=g(t),i=h(e);if("F"!==i)return n.index[i];for(a=n.first;a;a=a.next)if(a.key==e)return a};return s(u,{clear:function(){for(var t=g(this),e=t.index,a=t.first;a;)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete e[a.index],a=a.next;t.first=t.last=void 0,m?t.size=0:this.size=0},delete:function(t){var e=this,a=g(e),n=b(e,t);if(n){var i=n.next,s=n.previous;delete a.index[n.index],n.removed=!0,s&&(s.next=i),i&&(i.previous=s),a.first==n&&(a.first=i),a.last==n&&(a.last=s),m?a.size--:e.size--}return!!n},forEach:function(t){for(var e,a=g(this),n=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:a.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),s(u,a?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return x(this,0===t?0:t,e)}}:{add:function(t){return x(this,t=0===t?0:t,t)}}),m&&n(u,"size",{get:function(){return g(this).size}}),p},setStrong:function(t,e,a){var n=e+" Iterator",i=v(e),s=v(n);l(t,e,(function(t,e){f(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,a=t.last;a&&a.removed;)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?p("keys"==e?a.key:"values"==e?a.value:[a.key,a.value],!1):(t.target=void 0,p(void 0,!0))}),a?"entries":"values",!a,!0),u(e)}}},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div>\n        <div s-if="{{isLite && isTitleCard}}" class="lite-placeholder-title">\n            咨询\n        </div>\n        <ui-header-content s-if="{{isTitleCard}}"></ui-header-content>\n        <div s-else class="imlp-component-header">\n            <div class="imlp-component-header-title">\n                <div class="imlp-component-header-title-inner" style="width: {{reallyHeaderWidth}}">{{title}}</div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{headerCls}} {{isLiteBox ? (headerCls+\'-lite\') : \'\'}}">\n        <img s-if="{{content.image && content.image.src}}" class="{{headerCls}}-img" src="{{content.image.src}}" on-click="contentOperate">\n        <div class="{{headerCls}}-content" style="justify-content:{{tags.value && tags.value.length ? \'space-between\' : \'center\'}}" on-click="contentOperate">\n            <div class="{{headerCls}}-text" style="-webkit-line-clamp:{{headerText.lineNumber}}">\n                {{headerText.text}}\n            </div>\n            <ui-tags s-if="{{tags.value && tags.value.length}}" data="{{tags}}"></ui-tags>\n        </div>\n        <div s-if="{{tel}}" class="{{headerCls}}-tel" on-click="phoneOperate"><i class="c-icon">\n            \n        </i><span>电话</span></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="filteredData.length" s-ref="{{ref}}" class="widget-tags {{\'widget-tags-\' + theme}} {{isLiteBox ? \'widget-lite-tags\' : \'\'}}">\n        <template s-for="tag in filteredData">\n            <div s-if="tag.text" class="widget-tag-ym">\n                <div s-if="tag.icon" class="widget-tag-img">\n                    <img src="{{tag.icon}}">\n                </div>\n                <div class="widget-tag-text {{tag|ymTag}}\n                    {{tag.fontNum ? \'widght-tag-fixwidth\' : \'\'}}" style="font-weight: {{tag.weight}};max-width: {{tag.fontNum}}em;">\n                    {{tag.text}}\n                </div>\n            </div>\n            <div s-else class="widget-tag">{{tag}}</div>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-notification {{hidden ? \'imlp-component-notification--hidden\' : \'\'}}">\n        <div class="imlp-component-notification-text">\n            <div class="imlp-component-notification-text-inner {{appid === \'xyl_ad\' ? \'marquee\' : \'marquee-fast\'}}">\n                <span>{{text}}</span>\n                <span>{{text}}</span>\n            </div>\n        </div>\n        <div class="imlp-component-notification-trigger" on-click="trigger">\n            {{triggertext | raw}}\n        </div>\n        <div class="imlp-component-notification-closeBtn" on-click="hide">\n            <i class="c-icon">{{\'\' | raw}}</i>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-chatview {{cls}} {{isAndroidFirefox ? \'imlp-component-chatview-android-firefox\' : \'\'}}" on-click="withdrawTypebox" data-selector="chatview" s-ref="listview">\n        <div class="component-chatview-wrapper {{ready ? \'component-chatview-wrapper--ready\' : \'\'}}" style="min-height: calc({{minHeight}})" s-ref="{{wrapperRef}}">\n            <template s-for="m, index in message">\n                <template s-if="index + 1 == missMessage.index">\n                    <ui-chat-empty index="{{index}}" s-ref="{{emptyRefKey}}"></ui-chat-empty>\n                </template>\n                <template s-if="m.fixed">\n                    <ui-chat-empty index="{{index}}" s-ref="{{fixedRefPrefix + \'-\' + index}}"></ui-chat-empty>\n                </template>\n                \x3c!-- 唤醒语 && 系统消息 --\x3e\n                <template s-if="m.type == \'wakeup\'">\n                    <ui-chat-wakeup s-ref="{{\'imlp-component-chatview-\' + index}}"></ui-chat-wakeup>\n                </template>\n                <template s-if="m.type == \'8000\'">\n                    <ui-notification-card s-ref="{{\'imlp-component-chatview-\' + index}}" content="{{m.content}}"></ui-notification-card>\n                </template>\n\n                <template s-if="m.type == \'1\' || m.type == \'text\'">\n                    <ui-chat-base s-ref="{{\'imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}" msgid="{{m.msgid}}" sendState="{{m.sendState}}" notResend="{{m.notResend}}" isRead="{{m.isRead}}" m="{{m}}" recommendList="{{m.recommendContent}}" recommendMsg="{{m.recommendMsg}}" isPhoneNumber="{{phoneExp}}">\n                        <div slot="bubble-inner">\n                            <ui-user-phone-msg s-if="m.sourceTag == \'local-phone\' || m.sourceTag == \'local-phone-pass\'" content="{{m.card}}"></ui-user-phone-msg>\n                            <ui-message-card s-elif="{{m.showType === \'messageCard\'}}" type="{{m.sourceTag}}" content="{{m.card}}"></ui-message-card>\n                            <ui-chat-text s-else text="{{m|highLight|telColor}}"></ui-chat-text>\n                        </div>\n                    </ui-chat-base>\n                </template>\n\n                <template s-if="m.type == \'2\' || m.type == \'image\'">\n                    <ui-chat-image source="{{m.source}}" history="{{m.history}}" s-ref="{{\'imlp-component-chatview-\' + index}}" content="{{m.content}}" isRead="{{m.isRead}}" msgid="{{m.msgid}}" sendState="{{m.sendState}}"></ui-chat-image>\n                </template>\n\n                <template s-if="m.type == \'8003\'">\n                    <ui-chat-base history="{{m.history}}" s-ref="{{\'imlp-component-chatview-\' + index}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}" fullWidth="true">\n                        <div slot="bubble-inner">\n                            <ui-chat-leaveword-card content="{{m.content}}" msgid="{{m.msgid}}"></ui-chat-leaveword-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n\n                <template s-if="m.type == \'4005\' || m.type == \'4007\'">\n                    <ui-chat-base history="{{m.history}}" s-ref="{{\'imlp-component-chatview-\' + index}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}" fullWidth="true">\n                        <div slot="bubble-inner">\n                            <ui-chat-link-item-container content="{{m.content}}" msgid="{{m.msgid}}" type="{{m.type}}"></ui-chat-link-item-container>\n                        </div>\n                    </ui-chat-base>\n                </template>\n                <template s-if="m.type == \'6002\' && !feature.standardcard && !feature.standardcard_video">\n                    <ui-chat-cip-card type="{{m.type}}" s-ref="{{\'imlp-component-chatview-\' + index}}" heatType="{{m.heatType || 0}}" heatNum="{{m.heatNum || 0}}" content="{{m.content}}"></ui-chat-cip-card>\n                </template>\n\n                <template s-if="\n                        m.type == \'1000\' ||\n                        m.type == \'1001\' ||\n                        m.type == \'1002\' ||\n                        m.type == \'6004\' ||\n                        m.type == \'6005\' ||\n                        m.type == \'6006\' ||\n                        m.type == \'6007\' ||\n                        m.type == \'6008\' ||\n                        m.type == \'6009\' ||\n                        m.type == \'6010\' ||\n                        m.type == \'6011\' ||\n                        m.type == \'6012\' ||\n                        m.type == \'6013\' ||\n                        m.type == \'6014\' ||\n                        m.type == \'6015\' ||\n                        m.type == \'6016\' ||\n                        m.type == \'6017\' ||\n                        m.type == \'5000\' ||\n                        m.type == \'5001\' ||\n                        m.type == card.BASE.YM_PROJECT_DOCTOR ||\n                        m.type == card.BASE.YM_PROJECT_CASE ||\n                        m.type == card.BASE.YM_PROJECT_GOODS ||\n                        m.type == card.BASE.YM_GOODS_LIST ||\n                        m.type == card.BASE.YM_DOCTOR_LIST\n                    ">\n                    <ui-base-card ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" messageindex="{{index}}" data="{{m | cardFormat}}"></ui-base-card>\n                </template>\n                <template s-if="m.style && m.type == \'card\' && m.name === \'standard\'">\n                    <ui-base-card s-if="!feature.standardcard && !feature.standardcard_video" ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" messageindex="{{index}}" data="{{m | cardFormat}}"></ui-base-card>\n                    <ui-standard-card s-if="feature.standardcard || feature.standardcard_video" ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" messageindex="{{index}}" data="{{m | cardFormat}}" on-cardAttached="cardLayout">\n                    </ui-standard-card>\n                </template>\n                <template s-if="m.content_type == \'card\'">\n                    <ui-chat-base s-ref="{{\'imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type || m.content_type}}" msgid="{{m.msgid}}" sendState="{{m.sendState}}" notResend="{{m.notResend}}" isRead="{{m.isRead}}">\n                        <div slot="bubble-inner">\n                            <ui-standard-card s-if="m.card.name === \'standard\'" ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" messageindex="{{index}}" data="{{m.card | cardFormat}}" message_type="{{m.type || m.content_type}}">\n                            </ui-standard-card>\n                            \x3c!--没有card字段，是lark客服发送的卡片消息，先添加占位图并等待异步解析--\x3e\n                            <ui-async-empty-card s-elif="{{!m.card}}" content="{{m.content}}" message="{{m}}"></ui-async-empty-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n                <template s-if="m.name === \'form\'">\n                    <ui-form-card ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" messageindex="{{index}}" data="{{m | formFormat}}" log="{{m.log}}">\n                    </ui-form-card>\n                </template>\n                <template s-if="m.type == \'C6000\' || m.type.indexOf(\'C6000\') > -1\n                    || m.name === \'combined\'\n                ">\n                    <ui-combined-card ref="{{\'imlp-component-chatview-\' + index}}" s-ref="{{\'imlp-component-chatview-\' + index}}" data="{{m}}" messageindex="{{index}}" on-cardAttached="cardLayout"></ui-combined-card>\n                </template>\n                <template s-if="m.type == \'historySplit\'">\n                    <ui-history-split-line></ui-history-split-line>\n                </template>\n                <template s-if="m.type == \'time\'">\n                    <ui-time data="{{m.msgtime}}"></ui-time>\n                </template>\n                <template s-if="m.type == \'local-phone-card\'">\n                    <ui-user-phone-card type="{{m.content}}"></ui-user-phone-card>\n                </template>\n                <ui-gold-service s-if="{{m.type == \'gold-service\'}}" data="{{m.content}}"></ui-gold-service>\n            </template>\n            <template s-if="{{kefuInputStatus === 1}}">\n                <ui-chat-base source="service" type="input" msgid="message_input">\n                    <div slot="bubble-inner">\n                        <ui-input></ui-input>\n                    </div>\n                </ui-chat-base>\n            </template>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-text" on-click="operate($event)">\n        {{text | emoji | raw}}\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports="\n    <div class=\"imlp-component-chatviewbase-container {{'imlp-component-chatviewbase-container-' + (presetShow ? 'show' : 'hide')}}\">\n        <div class=\"imlp-component-chatviewbase {{isServiceSource ? 'row-flex' : 'imlp-component-chatviewbase-user row-reverse-flex'}}\">\n            <div class=\"imlp-component-chatviewbase-avatar-container\" on-click=\"avatarClick(source)\">\n                <slot name=\"avatar\">\n                    <div class=\"imlp-component-chatviewbase-avatar imlp-component-chatviewbase-avatar-{{isServiceSource ? 'service' : 'user'}}\" style=\"background-image: url({{isServiceSource ? savatar : uavatar}})\"></div>\n                    <div s-if=\"isGoldService\" class=\"imlp-component-chatviewbase-avatar-gold-service\"></div>\n                </slot>\n            </div>\n            <div class=\"imlp-component-chatviewbase-bubble-container imlp-component-chatviewbase-bubble-container-read-{{isRead}} {{isServiceSource ? 'row-flex' : 'row-reverse-flex'}} {{'imlp-component-chatviewbase-bubble-container-' + m.tag}}\">\n                \x3c!-- eslint-disable max-len --\x3e\n                <div class=\"imlp-component-chatviewbase-bubble imlp-component-chatviewbase-{{type}} {{isServiceSource ? 'left-chatviewbase-bubble' : (type == 'card' ? '' : 'right-chatviewbase-bubble')}} {{fullWidth ? 'imlp-component-chatviewbase-bubble-fullWidth' : ''}} {{ paddingBottomFree ? 'imlp-component-chatviewbase-bubble-padding-bottom-free' : '' }} {{ paddingTopFree ? 'imlp-component-chatviewbase-bubble-padding-top-free' : '' }} {{ paddingLeftFree ? 'imlp-component-chatviewbase-bubble-padding-left-free' : '' }} {{ paddingRightFree ? 'imlp-component-chatviewbase-bubble-padding-right-free' : '' }} {{ m.showType === 'messageCard' || m.sourceTag === 'local-phone' || m.sourceTag === 'local-phone-pass' ? 'imlp-component-chatviewbase-message-card' : '' }}\">\n                    <slot name=\"bubble-inner\"></slot>\n                </div>\n                <div class=\"imlp-component-chatviewbase-status-container {{'imlp-component-chatviewbase-status-container-' + m.tag}}\" s-if=\"source == 'user'\" on-click=\"handleStatus\">\n                    <div s-if=\"sendState === '1' || sendState === '2'\" class=\"imlp-component-chatviewbase-resend-container\">\n                        <div s-if=\"sendState === '1'\" class=\"c-icon imlp-component-chatviewbase-resend-fail\">{{''|raw}}</div>\n                        <div s-if=\"sendState === '2'\" class=\"imlp-component-chatviewbase-resend-ing\"></div>\n                    </div>\n                    <div s-elif=\"{{m.tag === 'preset'}}\" class=\"imlp-component-chatviewbase-preset-status\">未发送</div>\n                    <div s-else class=\"imlp-component-chatviewbase-read imlp-component-chatviewbase-read-{{isRead === '0' ? 'done' : 'init'}}\">已读</div>\n                </div>\n            </div>\n        </div>\n        <div s-if=\"isServiceSource && recommendList\" class=\"{{recommendList.length > 0 ? 'imlp-component-chatviewbase-recommend' : 'imlp-component-chatviewbase-recommend-none'}}\">\n            <ui-recommend recommend=\"{{recommendList}}\" recommendMsg=\"{{m.content}}\"></ui-recommend>\n        </div>\n        <div s-if=\"source === 'user' && recommendMsg.length > 0\" class=\"imlp-component-chatviewbase-recommend-content\">\n            <div class=\"imlp-component-chatviewbase-recommend-content-inner\">\n                <span class=\"imlp-component-chatviewbase-recommend-content-inner-span\">{{recommendMsg}}</span>\n            </div>\n        </div>\n        <div s-if=\"{{m.tag === 'preset'}}\" class=\"imlp-component-chatviewbase-preset\">\n            <div on-click=\"sendPreset\" class=\"imlp-component-chatviewbase-preset-send\">发送</div>\n            <div on-click=\"inputPreset\">编辑</div>\n        </div>\n        <div s-if=\"{{checkPhoneBubleDisplay(m) && isPhoneNumber}}\" class=\"phone-buble\">\n            <ui-phone-button cur=\"kefu_msg_button\"></ui-phone-button>\n        </div>\n    </div>\n"},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="show && !hasClicked" class="imlp-component-recommend" s-ref="imlp-component-sugSlider">\n        <template s-for="group in recommend">\n            <div s-for="question in group" class="dynamic">\n                <div s-for="reply in question.suggest_reply" class="dynamicItem {{\'dynamicItem-\' + reply.type}}" on-click="operate($event, reply, question.input_suggest_from)">\n                    <div s-if="reply.type !== \'text\'" class="imlp-dynamic-item-icon {{\'imlp-dynamic-item-icon-\' + reply.type}}"></div>\n                    <span class="reply-text">{{reply.text}}</span>\n                </div>\n            </div>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="phone-button" on-click="callPhone">\n        <div class="phone-icon"></div>\n        <span>拨打电话</span>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-chatviewleaveword">\n        <div>{{content.title}}</div>\n        <template s-if="content.contactMeImList">\n            <div>\n                您可以\n                <template s-for="item in content.contactMeImList">\n                    <template s-if="item.type == \'tel\'">\n                        <a href="tel:{{item.value}}">电话咨询: {{item.text}}</a>\n                    </template>\n                    或\n                </template>\n                留下您的联系方式,我会尽快联系您。\n            </div>\n        </template>\n        <div class="c-flexbox imlp-component-chatviewleaveword_form">\n            <div class="imlp-component-chatviewleaveword_imselect">\n                <select>\n                    <option value="phone">电话</option>\n                    <option value="wechat">微信</option>\n                    <option value="qq">QQ</option>\n                    <option value="email">邮箱</option>\n                </select>\n                <i s-if="isIOS" class="c-icon imlp-component-chatviewleavework_arrow">{{\'\'|raw}}</i>\n            </div>\n            <div class="imlp-component-chatviewleaveword_input">\n                <input placeholder="请输入联系方式">\n            </div>\n        </div>\n        <a class="c-blocka imlp-component-chatviewleaveword_submit" on-click="submit($event)" href="javascript:void(0)">\n            提交\n        </a>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-chatviewlinkitemcontainer imlp-component-chatviewlinkitemcontainer-new">\n        <div class="imlp-component-chatviewlinkitemcontainer-text" s-if="{{content.text}}">\n            {{content.text}}\n        </div>\n        <div class="imlp-component-chatviewlinkitemcontainer-header" s-if="{{content.title && content.items && content.items.length}}">\n            <div class="imlp-component-chatviewlinkitemcontainer-title">\n                {{content.title}}\n            </div>\n            <template s-if="content.items.length > pageSize">\n                <div class="imlp-component-chatviewlinkitemcontainer-control" on-click="nextPage()">\n                    换一批\n                </div>\n            </template>\n        </div>\n        <div class="imlp-component-chatviewlinkitemcontainer-items" s-if="{{content.title && content.items && content.items.length}}">\n            <template s-for="item,index in curPageList">\n                <card-text-link-item cardType="{{type}}" item="{{item}}" msgid="{{msgid}}" isRecommended="{{index === 0}}" isHot="{{index === hotIndex}}" content="{{content}}"></card-text-link-item>\n            </template>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-chatviewtextlinkitem\n                {{item.clicked ? \'imlp-component-chatviewtextlinkitem--diabled\' : \'\'}}" on-click="doClick($event, item)">\n        <div class="imlp-component-chatviewtextlinkitem-text">{{item.text}}</div>\n        <div s-if="guessRecommend" class="imlp-component-chatviewtextlinkitem-icon imlp-component-chatviewtextlinkitem-recommend"></div>\n        <div s-if="guessHot" class="imlp-component-chatviewtextlinkitem-icon imlp-component-chatviewtextlinkitem-hot"></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-chatviewImage imlp-component-chatviewImage-{{source}} imlp-component-chatviewbase {{isServiceSource ? \'row-flex\' : \'row-reverse-flex\'}}">\n        <div class="imlp-component-chatviewbase-avatar-container" on-click="avatarClick(source)">\n            <slot name="avatar">\n                <div class="imlp-component-chatviewbase-avatar imlp-component-chatviewbase-avatar-{{isServiceSource ? \'service\' : \'user\'}}" style="background-image: url({{isServiceSource ? savatar : uavatar}})"></div>\n                <div s-if="isGoldService" class="imlp-component-chatviewbase-avatar-gold-service"></div>\n            </slot>\n        </div>\n        <div s-if="!imageList[content.uuid].uuid && content.image_url" class="imlp-component-chatview-pic-readed-box" style="width:{{px2Rpx(imageWidth)}};height:{{px2Rpx(imageHeight)}}">\n            <img class="imlp-component-chatview-pic-readed" src="{{content.image_url}}" style="width:{{px2Rpx(imageWidth)}};height:{{px2Rpx(imageHeight)}}" on-click="preview(content.image_url, \'url\')">\n        </div>\n        <div s-if="imageList[content.uuid].uuid" class="imlp-component-chatviewImage-pic-box" style="width:{{px2Rpx(imageList[content.uuid].drawWidth)}};height:{{px2Rpx(imageList[content.uuid].drawHeight)}}">\n            <img s-if="imageList[content.uuid].tempSrc" class="imlp-component-chatviewImage-pic" src="{{imageList[content.uuid].tempSrc}}" style="width:{{px2Rpx(imageList[content.uuid].drawWidth)}};height:{{px2Rpx(imageList[content.uuid].drawHeight)}}" on-click="preview(imageList[content.uuid].tempSrc, \'tempSrc\')" on-error="loadHandler($event, false)" on-load="loadHandler($event, true)">\n            <div class="imlp-component-chatviewImage-loading {{imageList[content.uuid].progress === 100 ? \'imlp-component-chatviewImage-loaded\' : \'\'}}">\n                <div class="imlp-component-chatviewImage-mask">\n                    <div class="imlp-component-chatviewImage-loading-wrap">\n                        <div class="imlp-component-chatviewImage-loading-right-part">\n                            <div class="imlp-component-chatviewImage-loading-right" style="{{(imageList[content.uuid].progress * 3.6) <= 180 ? \'transform:rotate(\'+(imageList[content.uuid].progress*3.6-180)+\'deg);\' : \'transform:none;\'}}"></div>\n                            <div class="imlp-component-chatviewImage-loading-r-shadow"></div>\n                        </div>\n                        <div class="imlp-component-chatviewImage-loading-left-part">\n                            <div class="imlp-component-chatviewImage-loading-left" style="{{(imageList[content.uuid].progress * 3.6) <= 180 ? \'background:#000;\' : \'background:#fff;transform:rotate(\'+ (imageList[content.uuid].progress*3.6-360)+\'deg);\'}}"></div>\n                            <div class="imlp-component-chatviewImage-loading-l-shadow"></div>\n                        </div>\n                        <span class="imlp-component-chatviewImage-loading-progress">{{imageList[content.uuid].progress + \'%\'}}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="imlp-component-chatviewImage-status-container imlp-component-chatviewImage-status-container-read-{{isRead}}" s-if="source === \'user\'">\n            <i s-if="imageList[content.uuid].status === -1 || sendState === \'1\'" class="c-icon imlp-component-chatviewImage-failed" on-click="handleStatus">{{\'\' | raw}}</i>\n            <div s-else-if="isRead === \'0\'">\n                <div class="imlp-component-chatviewImage-read">已读</div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-chatview-empty"></div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{combined ? \'imlp-basecard-iscombined\' : \'imlp-basecard\'}} imlp-basecard-splitline{{content.splitLine}} {{\'imlp-basecard-\' + type}}" on-click="operate($event, action)">\n        <div class="imlp-basecard-title" s-if="content.title">{{content.title}}</div>\n        <div class="imlp-basecard-widgetlist">\n            <template s-for="item, widgetindex in content.list">\n                <div class="imlp-basecard-widget {{content.showCount && content.showCount<=widgetindex?\'imlp-basecard-widget-hide\':\'\'}}">\n                    <template s-if="item.name == \'buttonGroup\'">\n                        <widget-buttongroup s-ref="widget{{widgetindex}}" widget="{{item|widgetFormat}}"></widget-buttongroup>\n                    </template>\n                    <template s-if="item.name == \'detailBase\'">\n                        <widget-detailbase s-ref="widget{{widgetindex}}" card="{{type}}" data="{{item|widgetFormat}}" display="{{ combined ? display : (content.showCount && content.showCount>widgetindex)}}" combined="{{combined}}" cardindex="{{cardindex}}"></widget-detailbase>\n                    </template>\n                    <template s-if="item.name == \'notification\'">\n                        <widget-notification s-ref="widget{{widgetindex}}" data="{{item|widgetFormat}}" display="{{content.showCount && content.showCount>widgetindex}}"></widget-notification>\n                    </template>\n                    <template s-if="item.name == \'zixunWidget\'">\n                        <widget-consult card="{{type}}" s-ref="widget{{widgetindex}}" data="{{item.data|widgetFormat}}"></widget-consult>\n                    </template>\n                    <template s-if="item.name == \'slide\'">\n                        <widget-carousel s-ref="widget{{widgetindex}}" data="{{item.data|widgetFormat}}"></widget-carousel>\n                    </template>\n                    <template s-if="item.name == \'video\'">\n                        <widget-video card="{{type}}" s-ref="widget{{widgetindex}}" data="{{item.data|widgetFormat}}" spread="{{item.spread}}" widgetindex="{{widgetindex}}" messageindex="{{messageindex}}" display="{{content.showCount && content.showCount>widgetindex}}"></widget-video>\n                    </template>\n                </div>\n            </template>\n        </div>\n        <div class="imlp-basecard-morelink">\n            <div class="imlp-basecard-morearea">\n                <div>{{isfold ? \'展开\' : \'收起\'}}</div>\n                <div class="imlp-basecard-morearea-arrow" style="transform: rotate({{isfold ? \'90\' : \'-90\'}}deg);">\n                    <ui-arrow></ui-arrow>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-widget-buttongroup\n                imlp-basecard-fullwidth\n                {{widget.more?\'imlp-basecard-bottomfull\':\'\'}}\n                imlp-widget-buttongroup-theme{{widget.theme}}">\n        <template s-if="widget.title">\n            <div class="imlp-widget-buttongroup-title">{{widget.title}}</div>\n        </template>\n        <div class="imlp-widget-buttongroup-buttonlist">\n            <template s-for="rowitem, rowindex in widget.listTemp">\n                <div class="imlp-widget-buttongroup-buttonrow {{widget.row && widget.row <= rowindex? \'imlp-widget-buttongroup-hidelist\':\'\'}}">\n                    <template s-for="item in rowitem">\n                        <template s-if="widget.theme === 0 || widget.theme === 1">\n                            <template s-if="item.type !== \'blank\'">\n                                <a href="{{item.value}}" class="imlp-widget-buttongroup-button" on-click="operate($event, item)">{{item.text}}</a>\n                            </template>\n                            <template s-if="item.type === \'blank\'">\n                                <a class="imlp-widget-buttongroup-button imlp-widget-buttongroup-button--hidden">{{item.text}}</a>\n                            </template>\n                        </template>\n                        <template s-if="widget.theme === 2">\n                            <template s-if="item.type !== \'blank\'">\n                                <a href="{{item.value}}" class="imlp-widget-buttongroup-imgbutton" on-click="operate($event, item)">\n                                    <img src="{{item.imgSrc}}">\n                                    <span class="imlp-widget-buttongrounp-imgbutton-text">{{item.text}}</span>\n                                </a>\n                            </template>\n                            <template s-if="item.type === \'blank\'">\n                                <a class="imlp-widget-buttongroup-imgbutton imlp-widget-buttongroup-imgbutton--hidden"></a>\n                            </template>\n                        </template>\n                    </template>\n                </div>\n            </template>\n        </div>\n        <div s-if="widget.more" class="imlp-widget-buttongroup-showmore">\n            <div class="imlp-widget-buttongroup-morearea">\n                <div>{{isfold ? \'展开\' : \'收起\'}}</div>\n                <div class="imlp-widget-buttongroup-morearea-arrow" style="transform: rotate({{isfold ? \'90\' : \'-90\'}}deg);">\n                    <ui-arrow></ui-arrow>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-icon-arrow-grey">\n        <img src="{{src}}">\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-media {{cls}} {{data.around ? \'widget-media--around\' : \'\'}}" on-click="operate($event, data.action)" data-track="{{track}}">\n        <div s-if="data.title" class="widget-media-title">\n            {{data.title}}\n        </div>\n        <div class="widget-media-content">\n            <div s-if="data.image && data.image.src" class="widget-media-avatar {{data.image.round ? \'widget-media-avatar--round\' : \'\'}}" style="width:{{px2Rpx(data.image.width)}};\n                    height:{{px2Rpx(data.image.height)}}">\n                    <img src="{{data.image.src}}">\n            </div>\n            <div class="widget-media-main">\n                <div s-for="item, index in data.info">\n                    <div s-if="item.type==\'subtitle\' && item.text" class="widget-media-subtitle" style="font-size:{{px2Rpx(item.size)}};\n                            line-height:{{px2Rpx(item.size + 10)}};\n                            color:{{item.color}}">\n                        {{item.text}}\n                    </div>\n                    <div s-if="item.type==\'tags\' && item.value && item.value.length" class="widget-media-tags">\n                        <div class="widget-media-tag" s-for="tag in item.value">\n                            {{tag}}\n                        </div>\n                    </div>\n                    <div s-if="!data.around && item.type==\'image\' && item.value" class="widget-media-image-box">\n                        <div class="widget-media-image" style="background-image:url({{item.value}})"></div>\n                    </div>\n                    <div s-if="item.type==\'tagText\' && item.text" class>\n                        <template>\n                            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" data="{{item}}"></ui-text-ellipise-box>\n                        </template>\n                    </div>\n                    <div s-if="item.type==\'assist\' && item.text" class="widget-media-assist">\n                        {{item.text}}\n                    </div>\n                    <div s-if="item.type==\'zixun\'" class="widget-media-zixun">\n                        <template>\n                            <ui-consult s-ref="{{\'consult\' + index}}" ref="{{\'consult\' + index}}" data="{{item}}" card="{{card}}"></ui-consult>\n                        </template>\n                    </div>\n                    <div s-if="item.type==\'slider\'" class="widget-media-carousel">\n                        <template>\n                            <ui-carousel s-ref="{{\'carousel\' + index}}" ref="{{\'carousel\' + index}}" data="{{item}}" card="{{card}}"></ui-carousel>\n                        </template>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports="\n    <div class=\"widget-text-ellipsis-box {{computed ? 'widget-text-ellipsis-box--visible' : ''}} {{cls}}\">\n        <div class=\"widget-text-ellipsis-text {{textData.maxHeight ? 'widget-text-ellipsis-text--maxHeight' : ''}} {{'widget-text-ellipsis-text-' + theme}}\" style=\"{{styleText}} {{originStyle}}\" s-html=\"{{textData.currentTextStr}}\"></div>\n        <div class=\"widget-text-ellipsis-text widget-text-ellipsis-placeholder {{textData.lineNumber!==0 ? 'widget-text-ellipsis-placeholder--maxline' : ''}} {{textData.maxHeight ? 'widget-text-ellipsis-placeholder--maxHeight' : ''}} {{computed ? 'widget-text-ellipsis-placeholder--computed' : ''}}\" s-ref=\"widget-text-ellipsis-placeholder\"></div>\n        <div s-if=\"computed && textData.lineNumber && textData.more\" class=\"widget-text-ellipsis-more {{moreStatus ? 'widget-text-ellipsis-more--folded' : ''}}\" on-click=\"toggleMore($event)\">\n            <i class=\"c-icon\">{{''|raw}}</i>\n        </div>\n        <div s-if=\"computed && textData.maxHeight && textData.more\" class=\"widget-text-ellipsis-more--maxHeight\" on-click=\"toggleMore($event)\">{{moreStatus ? '收起' : (feature.standardcard ? '' :'展开')}}</div>\n    </div>\n"},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div on-click="consult" class="imlp-widget-consult {{\'imlp-widget-consult--theme\' + data.theme}}">\n        <div s-if="!data.heatType && data.text" class="imlp-widget-consult-text">\n            {{data.text}}\n        </div>\n        <div s-if="data.heatType && data.heatType == 1" class="imlp-widget-consult-text">\n            7天内已累计<span class="imlp-widget-consult-number">{{data.heatNum}}</span>人咨询\n        </div>\n        <div s-if="data.heatType && data.heatType == 2" class="imlp-widget-consult-text">\n            <span class="imlp-widget-consult-number">{{data.heatNum}}</span>分钟前有人咨询\n        </div>\n        <div class="imlp-widget-consult-button {{!data.noicon ? \'\' : \'imlp-widget-consult-button--hidden\'}}">\n            <div class="imlp-widget-consult-icon"></div>\n            <div class="imlp-widget-consult-label">{{data.label}}</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports="\n    <div class=\"imlp-widget-carousel\n        {{data.list.length ? 'imlp-widget-carousel--show' : ''}}\n        {{data.reverse ? 'imlp-widget-carousel--reverse' : ''}}\">\n        <div class=\"imlp-widget-carousel-content\">\n            <div s-for=\"item,index in data.list\" class=\"imlp-widget-carousel-item\n                {{data.active === index ? 'imlp-widget-carousel-item--active' : ''}}\n                {{data.prev === index ? 'imlp-widget-carousel-item--prev' : ''}}\" style=\"{{item ? 'background-image:url(' + item + ')' : ''}}\"></div>\n        </div>\n        <div class=\"imlp-widget-carousel-guide\">\n            <div s-for=\"item,index in data.list\" class=\"imlp-widget-carousel-dot\n                {{data.active === index ? 'imlp-widget-carousel-dot--active' : ''}}\"></div>\n                \x3c!--{{(data.total - data.active - 1) === index ? 'imlp-widget-carousel-dot&#45;&#45;active' : ''}}\"></div>--\x3e\n        </div>\n    </div>\n"},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-notification {{\'widget-notification--\' + data.category}}">\n        <div class="widget-notification-inner-optimize">\n            <div s-if="data.title" class="widget-notification-title-optimize {{data.lineHeight? \'widget-notification-title-clamp\': \'\'}}" style="-webkit-line-clamp: {{data.lineHeight}}">\n                {{data.title}}\n            </div>\n            <div s-if="data.text" class="widget-notification-content-optimize widget-notification-content-center">\n                <span>{{data.text}}</span>\n                <span s-if="data.btnText" class="widget-notification-btn" on-click="operate($event, data)">{{data.btnText}}</span>\n                <div s-if="data.info">\n                    <span>{{data.info}}</span>\n                </div>\n            </div>\n            <div s-if="data.list" class="widget-notification-content-optimize">\n                <span s-for="item in data.list">\n                    <span>{{item.text}}</span>\n                    <span s-if="item.btnText" class="widget-notification-btn" on-click="operate($event, item)">{{item.btnText}}</span>\n                </span>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-video {{(spread || status!==\'before\')? \'widget-video-spread\' : \'widget-video-shrink\'}}">\n        <div class="widget-video-main" s-ref="video-main">\n            <div s-ref="cover" class="widget-video-main-cover">\n                <img class="widget-video-main-img" src="{{data.cover}}">\n                <div s-if="status === \'before\'" class="widget-video-main-mask" on-click="playClick($event)">\n                    <div class="widget-video-main-begin">\n                        <span class="widget-video-main-begin-triangle"></span>\n                    </div>\n                </div>\n                <div s-if="status === \'after\'" class="widget-video-main-mask" on-click="playClick($event)">\n                    <div class="widget-video-main-tips">本视频仅作知识科普，不作为就医参考，如有异议请向院方反馈。</div>\n                    <div class="widget-video-main-again">再次播放</div>\n                </div>\n            </div>\n            <video class="widget-video-main-playing {{status === \'playing\' ? \'widget-video-show\' : \'widget-video-hide\'}}" controls="true" preload="auto" s-ref="video-{{card}}-{{messageindex}}-{{widgetindex}}" webkit-playsinline="true" playsinline="true">\n                <source type="video/mp4" src="{{data.video}}">你的浏览器不支持播放该视频.\n            </video>\n        </div>\n        <div class="widget-video-desc">\n            <div class="widget-video-desc-title">\n                <ui-text-ellipise-box display="{{display}}" data="{{data.title|getTitleObj}}" source="video"></ui-text-ellipise-box>\n            </div>\n            <div class="widget-video-desc-items">\n                <span class="widget-video-desc-category">{{data.category}}</span>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){var n=a(23),i=a(15),s=a(16),o=a(49),r=a(227).trim,c=a(228),d=s("".charAt),l=n.parseFloat,p=n.Symbol,u=p&&p.iterator,m=1/l(c+"-0")!=-1/0||u&&!i((function(){l(Object(u))}));t.exports=m?function(t){var e=r(o(t)),a=l(e);return 0===a&&"-"==d(e,0)?-0:a}:l},,function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{combined ? \'\' : \'imlp-standard-single\'}}\n            imlp-standard\n            imlp-standard-{{message_type}}\n            imlp-standard-splitline{{content.splitLine}}\n            {{\'imlp-standard-\' + style}}\n            {{\'imlp-standard-theme-\' + data.theme}}" on-click="operate($event, action)" data-index="{{messageindex}}">\n        <div s-if="combined" class="imlp-standard-split"></div>\n        <div class="imlp-standard-title" s-if="header">{{header}}</div>\n        <div class="imlp-standard-widgetlist {{styleVersion ? \'imlp-standard-newstyle\' : \'\'}}">\n            <template s-for="item, widgetindex in content.list">\n                <div class="imlp-standard-widget imlp-standard-widget-{{isGoodsTitle(item) ? \'hotGoodsTitle\': item.type}} {{content.showCount && content.showCount<=widgetindex?\'imlp-standard-widget-hide\':\'\'}}">\n                    <widget-detailbase s-if="item.type == \'detailBase\'" s-ref="widget{{widgetindex}}" card="{{style}}" data="{{item|widgetFormat}}" display="{{display}}" source="standardcard" styleName="{{styleName}}" theme="{{data.theme}}" style="{{data.style}}" isLast="{{widgetindex === content.list.length - 1}}" index="{{widgetindex}}" styleVersion="{{styleVersion}}"></widget-detailbase>\n                    <widget-video-base s-if="item.type == \'video\'" card="{{style}}" cid="{{data.cid}}" s-ref="widget{{widgetindex}}" data="{{item|widgetFormat}}" widgetindex="{{widgetindex}}" display="{{display}}"></widget-video-base>\n                    <widget-slider s-if="{{item.type == \'slider\'}}" s-ref="widget{{widgetindex}}" ref="{{\'slideImage\' + widgetindex}}" data="{{item}}" card="{{card}}">\n                    </widget-slider>\n                    <widget-image s-if="item.type == \'image\'" data="{{item}}"></widget-image>\n                    <widget-subtitle s-if="item.type == \'subtitle\'" data="{{item}}" isGoodsTitle="{{hasHotGoods}}"></widget-subtitle>\n                    <widget-tagtext s-if="item.type == \'tagText\'" data="{{item}}" index="{{widgetindex}}" display="{{styleName === \'slider\' ? true : display}}" source="standardcard"></widget-tagtext>\n                    <widget-desctags s-if="item.type == \'descTags\'" data="{{item.data}}"></widget-desctags>\n                    <widget-description s-if="item.type == \'description\'" data="{{item}}" index="{{widgetindex}}" display="{{styleName === \'slider\' ? true : display}}" source="standardcard" theme="{{data.theme}}" styleVersion="{{styleVersion}}"></widget-description>\n                    <widget-score s-if="item.type == \'rank\'" data="{{item}}"></widget-score>\n                    <widget-tags s-if="item.type == \'tags\'" data="{{item}}"></widget-tags>\n                    <widget-price s-if="item.type == \'price\'" data="{{item.value}}"></widget-price>\n                    <widget-tabscard s-if="item.type == \'tabs\'" data="{{item}}"></widget-tabscard>\n                    <widget-couponbase s-if="item.type == \'couponBase\'" data="{{item}}" couponData="{{item|couponFormat}}">\n                    </widget-couponbase>\n                    <widget-evaluatecard s-if="item.type == \'evaluate\'" data="{{item}}"></widget-evaluatecard>\n                    <widget-plan-card-base s-if="item.type == \'planCardBase\'" data="{{item}}"></widget-plan-card-base>\n                    <widget-project-desc-card s-if="item.type == \'projectDescBase\'" data="{{item}}"></widget-project-desc-card>\n                    <widget-desc-dot s-if="item.type == \'dotDesc\'" data="{{item}}"></widget-desc-dot>\n                    <widget-consult-group s-if="item.type == \'consultButtonGroup\'" data="{{item}}"></widget-consult-group>\n                    <widget-guide-group s-if="item.type == \'guideGroup\'" data="{{item}}"></widget-guide-group>\n                    <widget-consult-button s-if="item.type == \'zixun\'" data="{{item}}" log="{{data.log}}"></widget-consult-button>\n                    <widget-edu-advantage s-if="item.type == \'advantageList\'" data="{{item}}"></widget-edu-advantage>\n                    <widget-action-button s-if="item.type == \'actionButton\'" data="{{item}}"></widget-action-button>\n                </div>\n            </template>\n        </div>\n        <div s-if="bottom" class="imlp-standard-bottom">\n            <widget-consult type="{{bottom.name}}" data="{{bottom.data}}"></widget-consult>\n        </div>\n        <div class="imlp-standard-morelink">\n            <div class="imlp-standard-morearea">\n                <div>{{isfold ? \'展开\' : \'收起\'}}</div>\n                <div class="imlp-standard-morearea-arrow" style="transform: rotate({{isfold ? \'90\' : \'-90\'}}deg);">\n                    <ui-arrow></ui-arrow>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-detailbase {{cls}} {{widgetSplit.splitClass}} {{\'widget-detailbase-\' + theme}}" data-track="{{track}}">\n        <div class="widget-detailbase-content {{widgetSplit.splitMarginClass}}" style="{{imgRight ? \'flex-direction: row-reverse\' : \'\'}}" on-click="operate($event, data, \'detailbase\')">\n            <img s-if="{{goodsIcon.visiable}}" class="goods-image-lable" src="{{goodsIcon.src}}" on-error="loadHandler($event, false)" on-load="loadHandler($event, true)">\n            <div s-if="data.image && data.image.src" class="widget-detailbase-avatar {{imgRight ? \'widget-detailbase-avatar-right\' : \'widget-detailbase-avatar-left\' }}" style="{{widgetDetailbaseAvatarStyle}}">\n                <img src="{{data.image.src}}" on-error="loadHandler($event, false)" on-load="loadHandler($event, true)" style="{{widgetDetailbaseAvatarImageStyle}}">\n                <div s-if="data.image.text" class="widget-detailbase-avatar-text">\n                    {{data.image.text}}\n                </div>\n                <div s-if="data.image.icon" class="widget-detailbase-avatar-icon">\n                    <img src="{{data.image.icon}}">\n                </div>\n            </div>\n            <div s-if="data.buttons" class="widget-detailbase-buttons">\n                <div s-for="item, index in data.buttons" class="widget-detailbase-button" on-click="operate($event, item, \'buttons\')">{{item.text}}</div>\n            </div>\n            <div class="widget-detailbase-main">\n                <template s-for="item, index in data.info">\n                    <ui-subtitle s-if="item.type==\'subtitle\' && item.text" data="{{item}}" theme="{{theme}}" styleVersion="{{styleVersion}}"></ui-subtitle>\n                    <widget-description s-if="item.type == \'description\'" data="{{item}}" index="{{index}}" display="{{styleName === \'slider\' ? true : display}}" source="standardcard" theme="{{data.theme}}" isGoodsDes="{{goodsInfo.isGoodsCard}}"></widget-description>\n                    <ui-tags s-if="item.type==\'tags\' && item.value && item.value.length" data="{{item}}" theme="{{theme}}"></ui-tags>\n                    <ui-tagtext s-if="item.type==\'tagText\' && item.text" data="{{item}}" index="{{index}}" display="{{styleName === \'slider\' ? true : display}}" source="{{source}}" theme="{{theme}}"></ui-tagtext>\n                    <ui-row s-if="item.type==\'row\' && item.value" data="{{item}}"></ui-row>\n                    <ui-price s-if="item.type==\'price\'" data="{{item.data}}" isGoodsPrice="{{goodsInfo.isGoodsCard}}" style="{{style}}"></ui-price>\n                    <ui-score s-if="item.type==\'rank\'" data="{{item}}"></ui-score>\n                    <ui-button s-if="item.type==\'actionButton\'" data="{{item}}"></ui-button>\n                    <div s-if="!data.around && item.type==\'image\' && item.value" class="widget-detailbase-image-box">\n                        <div class="widget-detailbase-image" style="background-image:url({{item.value}})"></div>\n                    </div>\n                </template>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-subtitle\n            {{isGoodsTitle ? \'goods-title-wrap\' : \'\'}}\n            {{styleVersion ? \'widget-subtitle-newstyle\' : \'\'}}" style="-webkit-line-clamp:{{data.lineNumber}}; font-weight:{{data.weight || \'normal\'}}">\n        <div s-if="{{data.icon && data.icon.text === \'问\'}}" class="widget-subtitle-question"></div>\n        <div class="goods-icon" s-if="isGoodsTitle">\n            <img class="goods-hot-bg" src="{{goodsHotBg}}">\n        </div>\n        <span class="{{isGoodsTitle ? \'goods-title\' : \'\'}}">{{data.text}}</span>\n        <div s-if="data.arrow" class="widget-subtitle-arrow">\n            <ui-arrow></ui-arrow>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="data.type==\'tagText\' && data.text" class="widget-tagtext widget-tagtext-{{theme}}">\n        <div s-if="data.label" class="widget-tagtext-label" style="{{originStyle}}">{{data.label}}</div>\n        <template>\n            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" data="{{data}}"></ui-text-ellipise-box>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-score-wrap">\n        <div class="widget-score-wrap-star">{{data.score | star | raw}}</div>\n        <div class="widget-score-wrap-score">{{data.score}}</div>\n        <div s-if="data.num" class="widget-score-wrap-comment">（{{data.num}}人参与评价）</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-price\n        {{data.theme ? \'widget-price--theme\' + data.theme : \'\'}}\n        {{isGoodsPrice ? \'goods-card-price\' : \'\'}}\n        ">\n        <div s-if="data.theme==\'2\' && data.origin" class="widget-price-item widget-price-origin">\n            <span>{{unit}}</span>{{data.origin}}{{data.suffix}}\n        </div>\n        <div s-if="data.price || data.origin" class="widget-price-item">\n            <div s-if="data.price" class="widget-price-current">\n                <span class="widget-price-current-small">{{unit}}</span>\n                <span class="widget-price-current-content">{{data.price}}</span>\n                <span class="widget-price-current-small">{{data.suffix}}</span>\n            </div>\n            <div s-if="data.origin" class="widget-price-origin">\n                {{unit}}{{data.origin}}{{data.suffix}}\n            </div>\n        </div>\n        <div s-if="data.low || high" class="widget-price-item">\n            <span><span class="price-unit">{{unit}}</span>{{data.low}}</span>\n            <span s-if="data.low && high">~</span>\n            <span s-if="high"><span class="price-unit">{{unit}}</span>{{high}}</span>\n            <span class="widget-price-current-small">{{suffix}}</span>\n        </div>\n        <div s-if="data.discount" class="widget-price-item widget-price-discount">\n            <span>{{data.discount}}</span>\n        </div>\n        <div s-if="data.text" class="{{$style[\'widget-price-text\']}}">\n            <span>{{ data.text }}</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{\'widget-button-\' + (data.theme | themeFilter)}}" style="{{buttonActiveStyle}}" on-click="click($event, data.action)">\n        <img s-if="data.icon" src="{{data.icon}}" class="widget-button-icon">\n        <span class="widget-button-text">{{data.text}}</span>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-row">\n        <template s-for="item in data.value">\n            <ui-subtitle s-if="item.type==\'subtitle\' && item.text" data="{{item}}"></ui-subtitle>\n            <ui-tags s-if="item.type==\'tags\' && item.value && item.value.length" data="{{item}}"></ui-tags>\n            <ui-tagtext s-if="item.type==\'tagText\'" data="{{item}}"></ui-tagtext>\n            <ui-score s-if="item.type==\'rank\'" data="{{item}}"></ui-score>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-description\n            {{\'widget-description-\' + theme}}\n            {{styleVersion ? \'widget-description-newstyle\' : \'\'}}">\n        <template s-if="source === \'standardpopup\'">\n            <div class="widget-description-standardpopup">\n                <div s-if="data.title" class="widget-description-standardpopup-title">{{data.title}}</div>\n                {{data.text | raw | format}}\n            </div>\n        </template>\n        <div s-if="isGoodsDes" class="widget-description-standardcard-goods">\n            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" data="{{data}}" theme="{{theme}}"></ui-text-ellipise-box>\n        </div>\n        <template s-elif="source === \'standardcard\'">\n            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" data="{{data}}" theme="{{theme}}" styleVersion="{{styleVersion}}"></ui-text-ellipise-box>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-consult">\n        <common-consult s-if="type == \'zixunWidget\'" data="{{data}}"></common-consult>\n        <brand-consult s-if="type == \'brand\'" data="{{data}}"></brand-consult>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-consult-strip" on-click="consult">\n        <div s-if="!data.heatType && data.text" class="widget-consult-text" on-click="consultLog">{{data.text}}\n        </div>\n        <div s-if="data.heatType" class="widget-consult-text" on-click="consultLog">\n            <template s-if="data.heatType == 1">\n                7天内已累计<span class="widget-consult-number">{{data.heatNum}}</span>人咨询\n            </template>\n            <template s-if="data.heatType == 2">\n                <span class="widget-consult-number">{{data.heatNum}}</span>分钟前有人咨询\n            </template>\n        </div>\n        <div class="widget-consult-button">\n            <div class="widget-consult-icon"></div>\n            <div class="widget-consult-label">{{data.label || "咨询"}}</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="data.brandLeft || data.brandRight" class="widget-brand">\n        <div s-if="data.brandLeft" class="widget-brand-item widget-brand-left">\n            <i s-if="data.brandLeft.image" class="widget-brand-icon" style="background-image: url({{data.brandLeft.image}});"></i>\n            <span class="widget-brand-text">{{data.brandLeft.text}}</span>\n        </div>\n        <div s-if="data.brandRight" on-click="operate($event, data.brandRight)" class="widget-brand-item widget-brand-right widget-brand-{{data.brandRight.type}} widget-brand-color-{{data.brandRight.color}}">\n            <i s-if="data.brandRight.image" class="widget-brand-icon" style="background-image: url({{data.brandRight.image}});"></i>\n            <span class="widget-brand-text">{{data.brandRight.text}}</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="slider" on-click="click" on-touchstart="touchstartHandler" on-touchend="touchendHandler">\n        <ul class="images" style="width: {{imagesWidth}}; transition:{{transition}}; transform:{{transform}}">\n            <li s-for="item,index in list" class="image">\n                <img src="{{item}}">\n            </li>\n        </ul>\n        <div s-if="isSlide" class="circles">\n            <div s-for="item,index in data.list" class="circle {{(index === 0 && isTheFinal) || imageCount === index ? \'circle-active\' : \'\'}}">\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-image">\n        <div class="widget-image-wrap" style="background-image:url({{data.src}})">\n            <div s-if="data.title" class="widget-image-subtitle">{{data.title}}</div>\n        </div>\n    <div>\n</div></div>'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-descTags">\n        <div s-if="data.text" class="widget-descTags-label">{{data.text}}：</div>\n        <div s-if="data.tags && data.tags.length" class="widget-descTags-list">\n            <span s-for="tag, index in data.tags" class="widget-descTags-item">{{tag}}</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div on-click="videoContentClick($event)" class="widget-videobase {{cardClass}}">\n        <div class="widget-videobase-inner">\n            <div class="widget-videobase-content" on-click="play($event)">\n                <img class="widget-videobase-content-image" src="{{videoInfo.poster}}" on-error="loadHandler($event, false)" on-load="loadHandler($event, true)">\n                <div class="widget-videobase-content-play"></div>\n                <div class="widget-videobase-content-title">{{videoInfo.title}}</div>\n            </div>\n            <div class="widget-videobase-play-end" style="background-image: url({{videoInfo.poster}})">\n                <div class="widget-videobase-inner-background">\n                    <div class="widget-videobase-play-endtext">{{videoInfo.tips}}</div>\n                    <div class="widget-videobase-play-end-btngroup">\n                        <div class="widget-videobase-play-end-repeat" on-click="play($event)">\n                            <div class="widget-videobase-play-end-item">\n                                <div class="widget-videobase-play-end-logo"></div>\n                            </div>\n                            <div class="widget-videobase-play-end-btntext">重播</div>\n                        </div>\n                        <div class="widget-videobase-play-end-consult" on-click="consult($event)">\n                            <div class="widget-videobase-play-end-item">\n                                <div class="widget-videobase-play-end-logo"></div>\n                            </div>\n                            <div class="widget-videobase-play-end-btntext">咨询</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="widget-videobase-play-replay" style="background-image: url({{videoInfo.poster}})">\n                <div class="widget-videobase-inner-background">\n                    <div class="widget-videobase-play-endtext">{{videoInfo.tips}}</div>\n                    <div class="widget-videobase-play-replay-btn" on-click="play($event)"></div>\n                    <div on-click="consult($event)" class="widget-videobase-play-consult-btn">立即咨询</div>\n                </div>\n            </div>\n            <div class="widget-videobase-video">\n                <video s-ref="{{videoInfo.refkey}}" webkit-playsinline="true" x5-playsinline="true" t7-video-player-type="h5" playsinline="true" controls="true" controlslist="nodownload" poster="{{videoInfo.poster}}" src="{{videoInfo.source}}"></video>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-tabs-card {{\'imlp-tabs-card-\' + hasTitle}}">\n        <div class="imlp-tabs-card-subtitle {{\'imlp-tabs-card-subtitle-\' + hasTitle}}">\n            <div class="imlp-tabs-card-subtitle-text">{{title}}</div>\n            <div s-if="data.arrow" class="imlp-tabs-card-subtitle-arrow" on-click="textclick">\n                <ui-arrow></ui-arrow>\n            </div>\n        </div>\n        <div class="imlp-tabs-card-tabs" s-if="data.info.length > 1">\n            <div s-for="item,index in data.info">\n                <div class="imlp-tabs-card-tab {{clickIndex == index ? \'imlp-tabs-card-tab-active\' : \'\'}}" data-index="{{index}}" data-tab="{{item.title}}" on-click="tabclick">{{item.title}}</div>\n                <div class="imlp-tabs-card-tab-split {{clickIndex == index ? \'imlp-tabs-card-tab-split-active\' : \'\'}}"></div>\n            </div>\n        </div>\n        <template s-if="content.type === \'text\'">\n            <div s-if="content.isArr">\n                <div s-for="item, index in content.data" class="imlp-tabs-card-description" on-click="textclick" style="-webkit-line-clamp: {{info[clickIndex].lineNumber}}" s-html="{{item|formatDesc}}"></div>\n            </div>\n            <div s-else>\n                <div class="imlp-tabs-card-description" on-click="textclick" style="-webkit-line-clamp: {{info[clickIndex].lineNumber}}" s-html="{{content.data|formatDesc}}"></div>\n            </div>\n        </template>\n        <template s-if="content.type === \'image\'">\n            <div class="imlp-tabs-card-image">\n                <img s-for="item,index in content.data" src="{{item}}">\n            </div>\n        </template>\n\n         <template s-if="bottom">\n            <div s-if="bottom.theme == 2 && bottom.btnList.length > 0" class="imlp-tabs-card-carousel">\n                <template s-for="item, index in bottom.btnList">\n                    <div class="imlp-tabs-card-carousel-item\n                        {{carouselConf.active === index ? \'imlp-tabs-card-carousel-item--active\' : \'\'}}\n                        {{carouselConf.prev === index ? \'imlp-tabs-card-carousel-item--prev\' : \'\'}}" on-click="consult(item.bottomMessage, \'tabscard_carousel\')">\n                        <div class="imlp-tabs-card-consult-icon"></div>\n                        <span>{{item.text}}</span>\n                    </div>\n                </template>\n            </div>\n\n            <a s-else class="imlp-tabs-card-consult" on-click="consult(bottom.bottomMessage, \'tabscard_static\')">\n                <div s-if="bottom.theme === 1" class="imlp-tabs-card-consult-icon"></div>\n                <span class="imlp-tabs-card-consult-text">{{bottom.text}}</span>\n            </a>\n        </template>\n\n        <template s-if="content.type === \'desc\'">\n            <div s-for="item in content.kvData" class="imlp-tabs-card-description">\n                <div class="imlp-tabs-card-description-wrap">\n                    <div class="imlp-tabs-card-description-key">\n                        {{item.key}}：\n                    </div>\n                    <div class="imlp-tabs-card-description-value">\n                        <span s-for="text in item.value">{{text}}</span>\n                    </div>\n                </div>\n            </div>\n        </template>\n\n        <template s-elif="{{content.type === orderPhone || content.type === orderMeet}}">\n            <popup-form data="{{content}}"></popup-form>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{prefix}} {{prefix}}-{{type}}">\n        <div class="{{prefix}}-scroll">\n            <div class="{{prefix}}-image">\n                <div s-for="text in data.imageText" class="{{prefix}}-image-text">\n                    <div class="{{prefix}}-image-circle"></div>\n                    {{text}}\n                </div>\n            </div>\n            <div s-if="{{isGetPrice}}" class="{{prefix}}-labels">\n                <div class="{{prefix}}-labels-title">需求方案</div>\n                <div class="{{prefix}}-labels-content">\n                    <div s-for="label, index in labels" class="{{prefix}}-label {{selectedLabels[index] ? prefix+\'-label-selected\' : \'\'}}" on-click="clickLabel(index)">\n                        {{label}}\n                    </div>\n                </div>\n            </div>\n            <div class="{{prefix}}-row">\n                联系方式\n                <input class="{{prefix}}-row-input" value="{= phoneNumber =}" type="tel" placeholder="请输入您的电话" disabled="{{useUserPhoneNumber}}">\n                <span class="{{prefix}}-row-del" on-click="delPhone"></span>\n            </div>\n            <div s-if="{{needTime}}" class="{{prefix}}-row">\n                预约时间\n                <input class="{{prefix}}-row-input" type="datetime-local" on-click="timeClick($event)" value="{= orderTime =}">\n            </div>\n            <div s-if="{{isOrder}}" class="{{prefix}}-row {{prefix}}-row-high">\n                <span class="{{prefix}}-row-title">咨询意向</span>\n                <textarea class="{{prefix}}-row-textarea" placeholder="{{textAreaPlaceHolder}}" value="{= consultIntention =}" maxlength="150"></textarea>\n            </div>\n            <div s-if="useUserPhoneNumber" class="{{prefix}}-authorize">\n                <div class="{{prefix}}-authorize-check {{prefix}}-authorize-check{{agree ? \'ed\' : \'\'}}" on-click="checkToggle"></div>\n                <div class="{{prefix}}-authorize-text">\n                    授权后商家可获取您的号码，并同意\n                    <span class="{{prefix}}-authorize-hightlight" on-click="jumpProtectionStatement">《隐私权保护声明》</span>\n                    <span s-if="operatorName" class="{{prefix}}-authorize-hightlight" on-click="jumpServiceTerms">\n                        《中国{{operatorName}}服务条款》\n                    </span>\n                </div>\n            </div>\n        </div>\n\n        <div class="{{prefix}}-footer">\n            <div s-if="btnStatus === \'default\'" class="{{prefix}}-button {{buttonDisabled ? prefix+\'-button-disabled\' : \'\'}}" on-click="onSubmit">\n                {{isGetPrice ? \'提交需求\' : \'立即预约\'}}\n            </div>\n            <div s-if="btnStatus === \'loading\'" class="{{prefix}}-button {{prefix}}-button-loading">\n                <span class="loading-wrap">\n                    <span class="loading-pan"></span>\n                </span>\n            </div>\n            <div s-if="{{isGetPrice}}" class="{{prefix}}-footer-text">提交后机构会尽快跟您联系</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="{{visible && !isExpired}}" class="{{prefix}}">\n        <div class="header">\n            <span class="title">{{localPhoneTitle}}</span>\n            <span class="close" on-click="closeCard"></span>\n        </div>\n        <div class="content">\n            <div class="line-one">\n                <div class="wraper">\n                    <span class="phone">{{codedPhoneNumber}}</span>\n                    <span class="operator" s-if="!isShowPassCard">中国{{operatorName}}认证</span>\n                </div>\n                <span s-if="btnStatus === \'on\'" class="send on" on-click="sendMsg">{{btnText}}</span>\n                <span s-else-if="btnStatus === \'loading\'" class="send loading">\n                    <span class="loading-wrap">\n                        <span class="loading-pan"></span>\n                    </span>\n                </span>\n                <span s-else="btnStatus === \'off\'" class="send off" on-click="sendMsgError">{{btnText}}</span>\n            </div>\n            <div class="line-two">\n                <span s-ref="checkEle" class="chack-box {{check}}" on-click="checkToggle"></span>\n                <p s-if="isShowPassCard">\n                    授权使用百度账号信息，并同意\n                    <span class="agreement" on-click="jumpProtectionStatement">《隐私权保护声明》</span>\n                </p>\n                <p s-else>\n                    授权后咨询顾问可获取您的号码，并同意\n                    <span class="agreement" on-click="jumpProtectionStatement">《隐私权保护声明》</span>\n                    <span class="agreement" on-click="jumpServiceTerms">《中国{{operatorName}}服务条款》</span>\n                </p>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-coupon" s-if="couponName">\n        <div class="coupon-image" s-if="hasImg" style="background-image:url({{hasImg}})"></div>\n        <div class="coupon-info coupon-info-{{hasImg ? \'hasImg\' : \'noImg\'}}">\n            <div class="coupon-info-circle coupon-info-circle-top" s-if="!hasImg"></div>\n            <div class="coupon-info-text coupon-info-text-{{hasImg ? \'hasImg\' : \'noImg\'}}">\n                <div class="coupon-info-text-title">{{couponName}}</div>\n                <div class="coupon-info-text-time">{{useTime}}</div>\n            </div>\n            <div class="coupon-info-btn coupon-info-btn-{{hasGetCoupon}}" on-click="getCoupon($event)">{{hasGetCoupon ? \'已领取\' : \'立即领取\'}}</div>\n            <div class="coupon-info-circle coupon-info-circle-down" s-if="!hasImg"></div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-evaluate" s-if="{{!hasSendEvaluate}}">\n        <div class="widget-evaluate-title">\n            您对我的服务满意吗？\n            <span class="widget-evaluate-notName">匿名</span>\n        </div>\n        <div class="widget-evaluate-top widget-evaluate-top-{{currentIndex > -1 ? \'active\' : \'\'}}">\n            {{evaluateGrade}}\n        </div>\n        <div class="widget-evaluate-stars widget-evaluate-stars-{{currentIndex === -1 ? \'init\' : \'\'}}">\n            <template s-for="item, index in starsList">\n                <div class="widget-evaluate-single-star \n                            {{\'widget-evaluate-single-star-\' + (index + 1)}}                           \n                            widget-evaluate-single-star-{{index <= currentIndex ? \'active\' : \'\'}}" on-click="clickStar(index)"></div>\n            </template>\n        </div>\n        <div class="widget-evaluate-reason" s-if="{{currentIndex > -1}}">\n            请选择理由（必选）\n        </div>\n        <div class="widget-evaluate-reasonList \n                    {{currentIndex === 2 ? \'widget-evaluate-reasonlist-normal-style\' : \'\'}}" s-if="{{currentIndex > -1}}">\n            <template s-for="item, index in reasonList">\n                <div class="widget-evaluate-single-reason widget-evaluate-single-reason-{{item.hasClicked ? \'active\' : \'\'}}" on-click="clickReason(index)">\n                    {{item.text}}\n                    <div class="widget-evaluate-icon widget-evaluate-icon-{{iconState}} widget-evaluate-icon-{{iconState}}-{{item.hasClicked ? \'active\' : \'\'}}"></div>\n                </div>\n            </template>\n        </div>\n        <div s-if="{{currentIndex > -1}}" class="widget-evaluate-textarea-container">\n            <textarea class="widget-evaluate-textarea" value="{= feedback =}" placeholder="描述您的意见，便于我们及时改进（选填）" maxlength="{{feedbackWordLimit}}"></textarea>\n            <span class="widget-evaluate-textarea-word-count">\n                <span class="{{feedbackWordCount === feedbackWordLimit ? \'widget-evaluate-textarea-reach-limit\' : \'\'}}">{{feedbackWordCount}}</span>\n                /{{feedbackWordLimit}}\n            </span>\n        </div>\n        <div class="widget-evaluate-send widget-evaluate-send-{{pushEvaluateState ? \'active\' : \'\'}}" s-if="{{currentIndex > -1}}" on-click="sendEvaluate">提交评价</div>\n    </div>\n    <div class="widget-evaluate widget-evaluate-hasSend" s-else>\n        <div class="widget-evaluate-hasSend-top">\n            评价成功\n            <div class="widget-evaluate-hasSend-starsRow">\n                <template s-for="item, index in starsList">\n                    <div class="widget-evaluate-single-star-hasSend\n                                widget-evaluate-single-star-hasSend-{{index === 4 ? \'last\' : \'\'}} \n                                widget-evaluate-single-star-hasSend-{{index <= currentIndex ? \'active\' : \'\'}}"></div>\n                </template>\n            </div>\n        </div>\n        <div class="widget-evaluate-hasSend-reasonList">\n            <template s-for="item, index in reasonContent">\n                <div class="widget-evaluate-single-reason widget-evaluate-single-reason-hasSend">\n                    {{item}}\n                </div>\n            </template>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{prefix}}">\n        <div class="{{prefix}}-title">\n            <div class="{{prefix}}-query">\n                <span class="{{prefix}}-name">{{data.title}}</span>{{data.title ? \'-\' : \'\'}}方案\n            </div>\n            <div class="{{prefix}}-total">共{{data.total}}个项目</div>\n        </div>\n        <div class="{{prefix}}-wrap">\n            <div class="{{prefix}}-fixed">\n                <span s-for="item in data.columns">{{item}}</span>\n            </div>\n            <div class="{{prefix}}-content">\n                <project-card-base s-for="project,index in data.projectList" project="{{project}}" columns="{{data.columns}}" even="{{index%2===0}}"></project-card-base>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{prefix}}" on-click="operate($event)">\n        <div s-for="key in columns">\n            <div s-if="target(key, \'type\') == \'name\'" class="{{prefix}}-name {{even?\'even\':\'odd\'}}">\n                <span class="{{prefix}}-name-text">{{target(key, \'value\')}}</span>\n                <span class="{{prefix}}-go"></span>\n            </div>\n            <div s-else-if="target(key, \'type\') == \'process\'" class="{{prefix}}-process">\n                <div class="{{prefix}}-process-bar">\n                    <span s-for="index in [0,1,2,3,4]" class="{{index<target(key, \'value\')?\'on\':\'off\'}}"></span>\n                </div>\n                <div class="{{prefix}}-process-text">{{key}}</div>\n            </div>\n            <div s-else-if="target(key, \'type\') == \'button\'" class="{{prefix}}-button" on-click="send($event)">\n                {{target(key, \'value\')}}\n            </div>\n            <div s-else class="{{prefix}}-text">{{target(key, \'value\')?target(key, \'value\'):\'-\'}}</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-project-desc-card">\n        <div s-for="item in data.descList" class="widget-project-desc-card-feature">\n            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" data="{{dealData(item)}}"></ui-text-ellipise-box>\n        </div>\n        <div class="widget-project-desc-card-split"></div>\n        <div class="widget-project-desc-card-star-wrap">\n            <template s-for="item in data.starList">\n                <div class="widget-project-desc-card-star">\n                    <span class="text">{{item.title}}</span>\n                    <template s-for="rank in [1,2,3,4,5]">\n                        <span class="star {{rank<=item.value ?\'light\':\'gray\'}}"></span>\n                    </template>\n                </div>\n            </template>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-descDot">\n        <template s-for="item in data.value">\n            <span class="widget-descDot-text">{{item}}</span>\n            <span class="widget-descDot-dot">·</span>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-consult-project">\n        <div s-for="item in data.list" class="widget-consult-project-group {{item.theme}}" on-click="operate($event, item)">\n            <span class="icon"></span>\n            <span class="text">{{item.text}}</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{prefix}}" on-click="join">\n        <div class="{{prefix}}-title">{{data.title}}</div>\n        <div class="{{prefix}}-content">\n            <div class="{{prefix}}-content-info">\n                <div class="{{prefix}}-content-info-image-list">\n                    <template s-for="item,index in data.groupInfos">\n                        <div s-if="{{index < 3}}" class="{{prefix}}-content-info-image {{index > 0 ? \'\' : prefix + \'-content-info-first\'}}" style="background-image: url({{item.image}});"></div>\n                    </template>\n                </div>\n                <div class="{{prefix}}-content-info-group">\n                    <span class="{{prefix}}-content-info-group-name">{{groupTitle}}</span>\n                    <span class="{{prefix}}-content-info-group-num">{{data.peopleNumText}}</span>\n                </div>\n            </div>\n            <div class="{{prefix}}-content-join">加入</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <a class="imlp-consult-button" on-click="click($event, data.data)">\n        <div class="imlp-consult-button-icon"></div>\n        <span class="imlp-consult-button-text">{{ data.data.text }}</span>\n    </a>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-advantage">\n        <div s-for="item in data.list" class="widget-advantage-info">\n            <img class="widget-advantage-info-img" src="{{check}}">\n            <div class="widget-advantage-info-text">{{item.advantage}}</div>\n            <div class="widget-advantage-info-desc">{{item.description}}</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="{{inputData.length > 0 && !formShowStatus}}" class="form-card form-card-theme{{data.type}}">\n        <div class="form-title">{{data.formTitle}}</div>\n        <div class="form-body">\n            <template s-for="item, index in inputData">\n                <div class="form-item">\n                    <div class="form-item-container">\n                        <div class="form-item-label">{{item.label}}</div>\n                        <div class="form-input-container {{inputError[item.type] ? \'form-input-error\' : \'\'}}">\n                            <div class="form-input-editable">\n                                <input type="{{item.type | setInputType}}" placeholder="{{item.props.placeholder}}" on-focus="inputfocus(item,$event)" on-blur="inputBlur(item,$event)" on-input="updateText(item, $event)" on-keydown="inputKeydown($event)" value="{{item | setInputValue}}">\n                                <span s-if="item.type === \'city\'" class="form-input-dropdown" on-click="citySelectHandler(\'city\')">\n                                    <ui-dropdown></ui-dropdown>\n                                </span>\n                                <span s-else class="form-input-clear" on-click="clearHandler(item,$event)">\n                                    <ui-clear></ui-clear>\n                                </span>\n                            </div>\n                            <div s-if="item.type == \'phone\' && useUserPhone" class="form-input-addtion" on-click="useUserPhoneHandler">使用本机号码</div>\n                            <div s-if="item.type == \'captcha\'" class="form-input-addtion" on-click="getCaptcha()">\n                                <span s-if="data.captcha.type === \'sms\'">获取验证码</span>\n                                <img s-if="data.captcha.type === \'picture\'" src="data:image/png;base64,{{pictureUrl}}">\n                            </div>\n                        </div>\n                    </div>\n                    <div s-if="item.type == \'phone\' && useUserPhone && operator" class="form-phone-tips-wrapper">\n                        <span class="form-phone-tips">使用本机号码即同意</span>\n                        <span class="form-phone-terms" on-click="phonePrivacyHandler">《中国{{operatorMap[operator].name}}服务条款》</span>\n                    </div>\n                </div>\n            </template>\n\n            \x3c!--\n            <div class="form-item-authorization">\n                <span class="form-item-checkbox" on-click="switchAgree">\n                    <ui-check s-if="granted" color="{{data.bgColor}}"></ui-check>\n                    <span s-else class="form-item-checkbox-checked"></span>\n                </span>\n                <span class="form-item-tips">自动输入历史信息</span>\n                <span class="form-item-agreement" on-click="grantedPrivacyHandler">《个人信息授权》</span>\n            </div>\n            --\x3e\n            <div class="form-submit" on-click="submitForm">{{data.button.text || \'提交\'}}</div>\n        </div>\n    </div>\n'},function(t,e){t.exports='\n    <svg width="18px" height="18px" viewBox="0 0 50 50" version="1.1">\n        <title>清除icon</title>\n        <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="输入框状态" transform="translate(-1290.000000, -509.000000)" fill="#999999">\n                <g id="编组-13" transform="translate(292.000000, 267.000000)">\n                    <g id="编组-12" transform="translate(15.000000, 171.000000)">\n                        <g id="编组-11" transform="translate(36.000000, 36.000000)">\n                            <g id="编组" transform="translate(945.000000, 33.000000)">\n                                <g id="关闭-icon" transform="translate(2.000000, 2.000000)">\n                                    <path d="M25,0 C38.8071187,0 50,11.1928813 50,25 C50,38.8071187 38.8071187,50 25,50 C11.1928813,50 0,38.8071187 0,25 C0,11.1928813 11.1928813,0 25,0 Z M32.5857864,14.5857864 L24.9997864,22.1717864 L17.4142136,14.5857864 L14.5857864,17.4142136 L22.1717864,24.9997864 L14.5857864,32.5857864 L17.4142136,35.4142136 L24.9997864,27.8277864 L32.5857864,35.4142136 L35.4142136,32.5857864 L27.8277864,24.9997864 L35.4142136,17.4142136 L32.5857864,14.5857864 Z" id="椭圆形-2"/>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </svg>\n'},function(t,e){t.exports='\n    <svg width="18px" height="18px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="下拉icon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <path d="M34.5857864,7.58578644 L37.4142136,10.4142136 L21.5355339,26.2928932 C21.1750499,26.6533772 21.1473204,27.2206082 21.4523453,27.6128994 L21.5355339,27.7071068 L37.4142136,43.5857864 L34.5857864,46.4142136 L18.7071068,30.5355339 C16.8136557,28.6420828 16.7562784,25.6078417 18.5349749,23.6452518 L18.7071068,23.4644661 L34.5857864,7.58578644 Z" id="路径-10" fill="#999999" fill-rule="nonzero" transform="translate(27.328427, 27.000000) rotate(-90.000000) translate(-27.328427, -27.000000) "/>\n        </g>\n    </svg>\n'},function(t,e){t.exports='\n    <svg width="16px" height="16px" viewBox="0 0 48 48" version="1.1">\n        <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="立即预约" transform="translate(-102.000000, -1899.000000)" fill="{{color}}">\n                <g id="编组-13" transform="translate(50.000000, 1157.000000)">\n                    <g id="编组-12" transform="translate(16.000000, 172.000000)">\n                        <g id="编组-11" transform="translate(36.000000, 36.000000)">\n                            <g id="编组-4" transform="translate(0.000000, 378.000000)">\n                                <g id="编组" transform="translate(0.000000, 156.000000)">\n                                    <path d="M24,0 C37.254834,-2.4348735e-15 48,10.745166 48,24 C48,37.254834 37.254834,48 24,48 C10.745166,48 1.623249e-15,37.254834 0,24 C-1.623249e-15,10.745166 10.745166,2.4348735e-15 24,0 Z M34.6216733,15.5507879 L21.28,28.239 L14.3783267,21.6757879 L11.6216733,24.5742121 L19.9016733,32.4492121 L20.0342903,32.5648095 C20.8071724,33.1813294 21.9290718,33.1427969 22.6583267,32.4492121 L22.6583267,32.4492121 L37.3783267,18.4492121 L34.6216733,15.5507879 Z" id="矩形(fills:GC7)-2"/>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </svg>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-combinedcard\n            imlp-combinedcard-{{style}}\n            {{styleVersion ? \'imlp-combinedcard-newstyle\' : \'\'}}" data-index="{{messageindex}}">\n        <div s-if="data.title" class="imlp-combinedcard-title">\n            <span s-if="data.icon && data.icon.text" class="imlp-combinedcard-title-icon imlp-combinedcard-title-{{data.icon.backColor}}">\n                {{data.icon.text}}\n            </span>\n            {{data.title}}\n        </div>\n        <div s-if="content.header" class="imlp-combinedcard-header">\n            <ui-header data="{{content.header}}" current="{{current+1}}" total="{{content.list.length}}"></ui-header>\n        </div>\n        <div ref="{{scroll}}" s-ref="{{scroll}}" class="imlp-combinedcard-content">\n        <template s-for="card, cardindex in content.list">\n            <div class="imlp-combinedcard-list {{showCount <= cardindex && style === \'HL1\' ? \'imlp-combinedcard-list-hide\' : \'\'}} {{\'imlp-combinedcard-list-\' + card.theme}}">\n                <ui-combined-card s-if="card.name === \'combined\'" data="{{card}}">\n                </ui-combined-card>\n                <ui-standard-card s-else-if="(feature.standardcard || feature.standardcard_video) && card.name === \'standard\'" s-ref="widget{{cardindex}}" combined="{{combined}}" data="{{card|combinedFormat}}" cardindex="{{cardindex}}" display="{{showCount>cardindex}}" styleName="{{styleName}}">\n                </ui-standard-card>\n                <ui-base-card s-else-if="(!feature.standardcard && !feature.standardcard_video) || !card.name" s-ref="widget{{cardindex}}" combined="{{combined}}" data="{{card|combinedFormat}}" cardindex="{{cardindex}}" display="{{showCount>cardindex}}">\n                </ui-base-card>\n            </div>\n        </template>\n        </div>\n        <div class="imlp-combinedcard-morelink">\n            <div class="imlp-combinedcard-morearea">\n                <div>{{isfold ? \'展开\' : \'收起\'}}</div>\n                <div class="imlp-combinedcard-morearea-arrow" style="transform: rotate({{isfold ? \'90\' : \'-90\'}}deg);">\n                    <ui-arrow></ui-arrow>\n                </div>\n            </div>\n        </div>\n        <div s-if="bottom && bottom.name" class="imlp-standard-bottom">\n            <widget-consult type="{{bottom.name}}" data="{{bottom.data}}"></widget-consult>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-card-header">\n        <div class="imlp-card-header-info">\n            <div s-for="item in data.info">\n                <div s-if="item.type === \'title\'" class="imlp-card-header-info-title" style="font-size: {{getRpx(item.size)}}; color: {{item.color}}">\n                    {{item.text}}\n                </div>\n                <div s-if="item.type === \'feature\'" s-ref="featureWrapper" class="imlp-card-header-info-feature">\n                    <div s-for="element in item.list">\n                        <img src="{{img}}">\n                        <span style="font-size: {{getRpx(item.size)}}; color: {{item.color}}">{{element}}<span>\n                    </span></span></div>\n                </div>\n            </div>\n        </div>\n        <div s-if="data.slidebar" class="imlp-card-header-slidebar">\n            <span class="imlp-card-header-slidebar-current">{{current}}</span>\n            <span class="imlp-card-header-slidebar-total">/{{total}}</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-notification  {{!visible ? \'\' : \'imlp-notification--show\'}}">\n        <widget-connection-card s-if="content.connectionSuccessCard" data="{{content}}"></widget-connection-card>\n        <widget-notification-optimize s-else-if="content.msgList" data="{{content}}"></widget-notification-optimize>\n        <widget-notification s-else data="{{content}}"></widget-notification>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-notification-optimize">\n        <div s-if="data.title" class="widget-notification-optimize-inner-title">\n            <span class="widget-notification-optimize-title">{{data.title}}</span>\n        </div>\n        <div s-if="data.msgList.length" class="widget-notification-optimize-inner-text" style="{{data.title ? \'margin-top: \'+ getRpx(51) +\';\' : \'\'}}">\n            \x3c!-- 以下是text部分 --\x3e\n            <div class="inner-text-title">\n                <span class="inner-text-title-text">温馨提示</span>\n            </div>\n            <div s-for="item in data.msgList" class="inner-text-listitem">\n                <div class="inner-text-listitem-icon"></div>\n                <div class="inner-text-listitem-text">\n                    <template s-if="item.dataType === \'text\'">\n                        <span class="{{item.lineHeight?\'.widget-notification-optimize-title-clamp\':\'\'}}" style="-webkit-line-clamp: {{item.lineHeight}}">{{item.data}}</span>\n                    </template>\n                    <template s-elif="item.dataType === \'textList\'">\n                        <span s-for="textItem in item.data">\n                            <span>{{textItem.text}}</span>\n                            <span s-if="textItem.btnText" class="inner-text-listitem-textbtn" on-click="operate($event, textItem)">\n                            {{textItem.btnText}}\n                            </span>\n                        </span>\n                    </template>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="widget-connection">\n        <div class="widget-connection-content widget-connection-content-type{{connectionSuccessCard.advantageType}}">\n            <div class="widget-connection-content-tips">\n                <div class="widget-connection-content-tips-icon"></div>\n                <div class="widget-connection-content-tips-text">专业咨询师正在接待</div>\n                <div class="widget-connection-content-tips-tag">隐私保护</div>\n            </div>\n            <div class="widget-connection-content-consult">\n                <div s-if="connectionSuccessCard.advantageType === 1" class="widget-connection-content-consult-type1">\n                    <img src="{{thumbUp}}">\n                    好评率\n                    <span>{{connectionSuccessCard.advantageInfo}}</span>\n                </div>\n                <div s-if="connectionSuccessCard.advantageType === 2" class="widget-connection-content-consult-type2">\n                    近期<span>{{connectionSuccessCard.advantageInfo}}</span>咨询\n                </div>\n                <div s-if="connectionSuccessCard.advantageType === 3" class="widget-connection-content-consult-type3">\n                    <span>{{connectionSuccessCard.advantageInfo}}内</span>响应\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-async-empty-card">\n        <div s-if="{{type===cardType.GOODS}}" class="imlp-async-empty-card-{{type}}">\n            <div class="content">\n                <div class="content-left"></div>\n                <div class="content-right">\n                    <div class="content-right-top"></div>\n                    <div class="content-right-bottom"></div>\n                </div>\n            </div>\n            <div class="bottom"><div></div></div>\n        </div>\n        <div s-if="{{type===cardType.ORDER}}" class="imlp-async-empty-card-{{type}}">\n            <div class="content">\n                <div class="content-left"></div>\n                <div class="content-right">\n                    <div class="content-right-top"></div>\n                    <div class="content-right-bottom"></div>\n                </div>\n            </div>\n            <div class="text"></div>\n            <div class="text"></div>\n            <div class="text"></div>\n            <div class="bottom"><div></div></div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-widget-historySplitLine">\n        <div class="imlp-widget-historySplitLine--separation">\n            <span>以上是历史消息</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="data" class="imlp-widget-time">{{data | localFormat}}</div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-widget-inputstatus">\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-user-phone-msg">\n        <p class="tips">我的联系方式</p>\n        <p class="phone">{{content}}</p>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-gold-service" on-click="clickHandle($event)">\n        <div class="imlp-component-gold-service-icon"></div>\n        <div class="imlp-component-gold-service-text">\n            {{data.text}}，好评率 <span class="imlp-component-gold-service-percent">{{data.goodPercent}}%</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="{{prefix}}">\n        <div class="{{prefix}}-header">\n            <div class="{{prefix}}-title">{{content.title}}</div>\n            <div class="{{prefix}}-subtitle">{{content.subtitle}}</div>\n        </div>\n        <div class="{{prefix}}-line"></div>\n        <div class="{{prefix}}-content">\n            <div s-for="item in content.content" class="{{prefix}}-content-item">\n                {{item.key}}：{{item.value}}\n            </div>\n        </div>\n    \n</div>'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-newtypebox\n            {{hitHnStyleExp ? \'imlp-component-newtypebox-hn\' : \'\'}}\n            {{miuiFocused ? \'imlp-component-typeobx-miui\' : \'\'}}\n            {{safari15Focused ? \'imlp-component-typeobx-safarios15\' : \'\'}}\n            {{robotServiceModel === \'selectionRobot\' ? \'imlp-component-newtypebox-selection\' : \'\'}}">\n        <div class="imlp-component-newtypebox-miui-back">\n            点击收起\n        </div>\n\n        <ui-dynamic-sugslider s-if="{{robotServiceModel === \'selectionRobot\'}}"></ui-dynamic-sugslider>\n        <ui-sug-slider s-else-if="{{!(isBottomGuideDisplay && phoneExp)}}"></ui-sug-slider>\n        <ui-intensify-phone s-if="{{isBottomGuideDisplay && phoneExp}}" on-change-display="changeDisplay"></ui-intensify-phone>\n\n        <div class="imlp-component-newtypebox-typezone {{\'imlp-component-newtypebox-typezone-\' + robotServiceModel}}" s-ref="imlp-component-newtypebox-typezone">\n            <div class="imlp-component-newtypebox-plus c-icon {{bottombox == \'emoji\' || bottombox == \'plus\' ? \'imlp-component-newtypebox-plus--on\' : \'\'}}" on-click="toggleBox(\'plus\')"></div>\n            <div class="imlp-component-newtypebox-textarea-container">\n                <textarea contenteditable="true" class="imlp-component-newtypebox-textarea" s-ref="{{inputRefKey}}" on-click="toggleBox(\'input\')" on-focus="inputfocus" on-blur="inputBlur" on-input="updateText($event)" on-keydown="inputKeydown($event)" placeholder="{{placeholder}}" value="{{text}}"></textarea>\n                <span class="imlp-component-newtypebox-emoji {{bottombox == \'emoji\' ? \'imlp-component-newtypebox-emoji--on\' : \'\'}}" on-click="toggleBox(\'emoji\')"></span>\n            </div>\n            <div class="imlp-component-newtypebox-send" style="background: {{wholeColor}}" on-click="send($event, true)">\n                发送\n            </div>\n        </div>\n        <div class="imlp-component-newtypebox-bottom-box" style="display: {{bottombox ? \'block\' : \'none\'}}">\n            <div class="imlp-component-newtypebox-emoji-box" s-if="bottombox == \'emoji\'">\n                <div class="imlp-component-newtypebox-emoji-box-content">\n                    <ui-typebox-emoji></ui-typebox-emoji>\n                </div>\n                <div class="imlp-component-newtypebox-emoji-box-category">\n                    <div class="imlp-component-newtypebox-emoji-box-category-item emoji">\n                        <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-1"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="imlp-component-newtypebox-plus-box" s-if="bottombox == \'plus\'">\n                <div class="imlp-component-newtypebox-plus-box-item {{landpageurl ? \'imlp-component-newtypebox-plus-box-item-order-1\' : plusBoxItemPlaceholderClass}}" s-if="!isHideHomeBtn ">\n                    <div class="imlp-component-newtypebox-plus-box-item-icon imlp-component-newtypebox-plus-box-item-icon-home" on-click="homepage">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        官网\n                    </div>\n                </div>\n                <div s-if="!feature.phone_plus_off" class="imlp-component-newtypebox-plus-box-item {{contactNumber ? \'imlp-component-newtypebox-plus-box-item-order-2\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-newtypebox-plus-box-item-icon imlp-component-newtypebox-plus-box-item-icon-phone" on-click="makecontact">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        电话\n                    </div>\n                </div>\n                <div class="imlp-component-newtypebox-plus-box-item {{sendImage ? \'imlp-component-newtypebox-plus-box-item-order-3\' : plusBoxItemPlaceholderClass }}">\n                    <div class="imlp-component-newtypebox-plus-box-item-icon imlp-component-newtypebox-plus-box-item-icon-pic">\n                        <ui-uploader></ui-uploader>\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        照片\n                    </div>\n                </div>\n                <div s-if="orderParams" class="imlp-component-newtypebox-plus-box-item">\n                    <div class="{{typeBoxCls}}-plus-box-item-icon {{typeBoxCls}}-plus-box-item-icon-order" on-click="order">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        订单\n                    </div>\n                </div>\n                <div class="imlp-component-newtypebox-plus-box-item  {{feedbackURL ? \'imlp-component-newtypebox-plus-box-item-order-4\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-newtypebox-plus-box-item-icon imlp-component-newtypebox-plus-box-item-icon-comment" on-click="feedback">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        评价\n                    </div>\n                </div>\n                <div class="imlp-component-newtypebox-plus-box-item  {{showBaozhangInfo ? \'imlp-component-newtypebox-plus-box-item-order-5\' : plusBoxItemPlaceholderClass}}" s-if="!isHideBaozhang">\n                    <div class="imlp-component-newtypebox-plus-box-item-icon imlp-component-newtypebox-plus-box-item-icon-baozhang" on-click="baozhang">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        申请保障\n                    </div>\n                </div>\n                <div class="{{typeBoxCls}}-plus-box-item {{typeBoxCls}}-plus-box-item-order-6">\n                    <div class="{{typeBoxCls}}-plus-box-item-icon {{typeBoxCls}}-plus-box-item-icon-declaration" on-click="operate($event, pageDeclaration)">\n                    </div>\n                    <div class="imlp-component-newtypebox-plus-box-item-desc">\n                        页面声明\n                    </div>\n                </div>\n                <template s-if="!hitHnStyleExp">\n                    <div s-for="item in [0,1,2]" class="imlp-component-newtypebox-plus-box-item {{plusBoxItemPlaceholderClass}}"></div>\n                </template>\n            </div>\n        </div>\n        <template s-if="!iframe.on && missMessage.number > 0">\n            <ui-chat-miss-message-tip type="missMessTip" s-ref="imlp-chatview-miss-message-tip"></ui-chat-miss-message-tip>\n        </template>\n        <template s-if="phoneModal || wechatModal || customModal">\n            <ui-contact-modal></ui-contact-modal>\n        </template>\n        <div s-if="sessionState == sessionClosedState" class="imlp-component-newtypebox-mask" on-click="openSessionClosedTip">\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-typeboxemoji swipe" id="slider">\n        <div class="imlp-component-typeboxemoji-slide-row swipe-wrap">\n            <div class="imlp-component-typeboxemoji-slide">\n                <div s-for="emojiRow, index in emojiList" class="imlp-component-typeboxemoji-slide-items">\n                    <div s-for="emoji in emojiRow" class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-{{emoji.id}}" data-text="{{emoji.text}}"></div>\n                    <div s-if="index === emojiList.length - 1" class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-slide-item-delete"></div>\n                </div>\n            </div>\n        </div>\n        <div class="imlp-component-typeboxemoji-slide-progress">\n            <div class="imlp-component-typeboxemoji-slide-progress-item {{currentSlide == 0 ? \'imlp-component-typeboxemoji-slide-progress-item-current\' : \'\'}}"></div>\n        </div>\n    </div>\n'},function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-image-uploader">\n        <label class="imlp-image-uploader-mask imlp-component-typebox-plus-box-upload-mask" on-click="triggerImageHandle">\n        </label>\n        <input class="imlp-image-uploader-entry imlp-component-typebox-plus-box-upload-entry" type="file" enctype="multipart/form-data" accept="image/*" multiple="multiple" s-ref="uploadElem" on-change="handleInputChange">\n    </div>\n'},,,,,,,,,,,,,,,function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-missMessage-box imlp-component-missMessage-box-animation" style="top:{{-0.01 * top}}rem">\n        <div class="imlp-component-missMessage-mask-animation" on-click="readMessage($event)">\n            <div class="imlp-component-missMessage-content">\n                <img src="{{img}}" class="imlp-component-missMessage-img">\n                <div class="imlp-component-missMessage-numbers">\n                    <div class="imlp-component-missMessage-numbers-wrapper" style="{{showedCount|computeWidth}}">\n                        <div class="imlp-component-missMessage-numbers-layer">\n                            <ul class="imlp-component-missMessage-numbers-list" style="transform: translate3d(0, -{{showedCount * numHeight}}rem, 0);">\n                                <li s-for="num in numbers">{{num}}</li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div>条新消息</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div>\n        <div s-if="wechatModal && wechat.account && (feature.wechat_1 || feature.wechat_2)" class="imlp-component-contactModal" on-touchstart="start" on-touchmove="move" on-touchend="end">\n            <div s-ref="imlpComponentContactModalIcon" class="imlp-component-contactModal-icon imlp-component-contactModal-icon--wechat {{cls}}" style="left:{{left}};top:{{top}}" on-click="clickPhoneModal($event,\'wechat\')">\n            </div>\n        </div>\n        <div s-else-if="phoneModal && contactNumber" class="imlp-component-contactModal" on-touchstart="start" on-touchmove="move" on-touchend="end">\n            <div s-ref="imlpComponentContactModalIcon" class="imlp-component-contactModal-icon imlp-component-contactModal-icon--phone {{cls}}" style="left:{{left}};top:{{top}};background-image:url({{phoneBg}})" on-click="clickPhoneModal($event,\'phone\')">\n            </div>\n        </div>\n        <div s-else-if="custom" class="imlp-component-contactModal" on-touchstart="start" on-touchmove="move" on-touchend="end">\n            <div s-ref="imlpComponentContactModalIcon" class="imlp-component-contactModal-icon imlp-component-contactModal-icon--custom {{cls}}" style="left:{{left}};top:{{top}};background-image:url({{custom.icon}})" on-click="clickPhoneModal($event, \'doctor\')">\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="show" class="imlp-component-sugSlider">\n        <div s-if="{{sugShow && sugRecommend.length}}" class="imlp-component-sugRecommend">\n            <template s-for="item,index in sugRecommend">\n                <div s-if="index < sugLimit" class="imlp-component-sug-item {{isLastItem(index) ? \'imlp-component-sug-item-last\' : \'\'}}" on-click="sendSug(item, index)">\n                    {{item.value | formatHighLight | raw}}\n                </div>\n            </template>\n        </div>\n        <div s-else class="imlp-component-sugSlider-box" s-ref="{{containerRefKey}}">\n            <template s-for="item, index in staticSuggest">\n                <div s-if="item.type === \'localPhone\'" s-ref="local-phone-sug-ref" on-click="showLocalPhoneCard($event)" class="imlp-component-sugSlider-box-item\n                        imlp-component-sugSlider-highlight-item\n                        imlp-component-sugSlider-box-item-local-phone">\n                    <div class="tip" s-if="tipsShow" style="bottom: {{bottom}}px">\n                        {{item.tips}}<span class="close" on-click="closeTips($event)"></span>\n                    </div>\n                    <span class="text">{{item.text}}</span>\n                </div>\n                <div s-else-if="(!item.from || item.from===\'nm\') && item.show" class="imlp-component-sugSlider-box-item\n                        {{item.highlight ? \'imlp-component-sugSlider-highlight-item\': \'\'}}\n                        {{slideTransition ? \'slideTransitionAnimation\' : \'\'}}" on-click="operate($event, item)">\n                    <i s-if="item.icon" class="c-icon">\n                        {{iconMap[item.icon]|raw}}\n                    </i>\n                    <div class="imlp-item-icon {{\'imlp-item-icon-\' + item.type}}"></div>{{item.text}}\n                </div>\n            </template>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="intensify-phone">\n        <div class="content" on-click="callPhone">\n            <div class="avatar">\n                <div class="avatar-img" style="background-image: url({{savatar}})">\n                </div>\n                <div class="animation-1"></div>\n                <div class="animation-2"></div>\n            </div>\n            <div class="descript">\n                <div class="descript-1">\n                    与客服电话沟通\n                </div>\n                <div class="descript-2">\n                    比打字沟通更方便~\n                </div>\n            </div>\n\n            <ui-phone-button s-ref="{{phoneButtonKey}}" class="phone-button" cur="IntensifyPhone"></ui-phone-button>\n\n            <div class="close" on-click="closeHandle">\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="show" class="imlp-component-sugSlider {{\'imlp-component-sugSlider-\' + robotServiceModel}} {{\'imlp-component-sugSlider-\' + hasClicked}}" on-animationend="changeShowStatus(hasClicked)">\n        <div class="imlp-component-sugSlider-selectionRobot-row">\n            <div s-for="reply in dynamic" class="imlp-component-sugSlider-selectionRobot-item {{\'imlp-component-sugSlider-selectionRobot-item-\' + reply.type}} {{\'imlp-component-sugSlider-selectionRobot-item-\' + (dynamic.length === 1 ? \'singleLine\' : \'\')}}" on-click="operate($event, reply)">\n                <div s-if="item.type !== \'text\'" class="imlp-component-sugSlider-selectionRobot-item-icon {{\'imlp-component-sugSlider-selectionRobot-item-icon-\' + reply.type}}"></div>\n                {{reply.text}}\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-popuptypebox\n            {{miuiFocused ? \'imlp-component-typeobx-miui\' : \'\'}}\n            {{isAndroidFirefox ? \'imlp-component-typeobx-android-firefox\' : \'\'}}\n            imlp-terminal-{{terminal}}">\n        <div class="imlp-component-popuptypebox-miui-back">\n            点击收起\n        </div>\n        <template>\n            <ui-dynamic-sugslider s-if="{{robotServiceModel === \'selectionRobot\'}}"></ui-dynamic-sugslider>\n            <ui-sug-slider class="imlp-component-ui-sug-slider" s-else></ui-sug-slider>\n        </template>\n        <div class="imlp-component-popuptypebox-typezone {{\'imlp-component-popuptypebox-typezone-\' + robotServiceModel}}" s-ref="imlp-component-popuptypebox-typezone">\n            <div s-if="contactNumber" class="imlp-component-popuptypebox-phonemune" on-click="makecontact"></div>\n            <div s-ref="imlp-component-popuptypebox-menu" class="imlp-component-popuptypebox-menu" on-click="moreClick($event)"></div>\n            <div s-if="showMenuMore" class="imlp-component-popuptypebox-more" style="bottom:calc({{bottom}});left:calc({{left}})">\n                <div class="imlp-component-popuptypebox-more-container">\n                    <div s-for="item, index in menu" class="imlp-component-popuptypebox-more-container-item">\n                        <a href="javascript:void(0)" on-click="operate($event, item)">\n                            <span>{{item.text}}</span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div s-if="inputMoreState !== false" class="imlp-component-popuptypebox-plus c-icon {{bottombox == \'emoji\' || bottombox == \'plus\' ? \'imlp-component-popuptypebox-plus--on\' : \'\'}}" on-click="toggleBox(\'plus\')"></div>\n            <div class="imlp-component-popuptypebox-textarea-container">\n                <textarea contenteditable="true" data-holdfocus="1" class="imlp-component-popuptypebox-textarea" s-ref="{{inputRefKey}}" on-click="toggleBox(\'input\')" on-focus="inputfocus" on-blur="inputBlur" on-input="updateText($event)" on-keydown="inputKeydown($event)" placeholder="{{placeholder}}"></textarea>\n                <span s-if="inputFaceState !== false" class="imlp-component-popuptypebox-emoji" on-click="toggleBox(\'emoji\')"></span>\n                <div s-if="\'H5-window\' === terminal && !inputFocus" on-touchstart="textareaEvent" on-touchend="textareaEvent" on-click="textareaEvent" class="imlp-component-popuptypebox-textarea-iosevent" data-holdfocus="1"></div>\n            </div>\n            <div class="imlp-component-popuptypebox-send" style="background: {{wholeColor}}" on-click="send($event, true)" data-holdfocus="1">\n                发送\n            </div>\n            <div style="display: {{consultBtnState ? \'block\' : \'none\'}}" class="imlp-component-popuptypebox-button-container" data-holdfocus="1">\n                <div class="imlp-component-popuptypebox-button">\n                    <div s-if="button" class="imlp-component-popuptypebox-button-icon"></div>\n                    <div class="imlp-component-popuptypebox-button-text">{{ button ? button.content[0].text : \'立即咨询\'}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="imlp-component-popuptypebox-bottom-box" style="display: {{bottombox ? \'block\' : \'none\'}}">\n            <div class="imlp-component-popuptypebox-emoji-box" s-if="bottombox == \'emoji\'">\n                <div class="imlp-component-popuptypebox-emoji-box-content">\n                    <ui-typebox-emoji></ui-typebox-emoji>\n                </div>\n                <div class="imlp-component-popuptypebox-emoji-box-category">\n                    <div class="imlp-component-popuptypebox-emoji-box-category-item emoji">\n                        <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-1"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="imlp-component-popuptypebox-plus-box" s-if="bottombox == \'plus\'">\n                <div class="imlp-component-popuptypebox-plus-box-item {{landpageurl && false ? \'imlp-component-popuptypebox-plus-box-item-order-1\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-popuptypebox-plus-box-item-icon imlp-component-popuptypebox-plus-box-item-icon-home" on-click="homepage">\n                    </div>\n                    <div class="imlp-component-popuptypebox-plus-box-item-desc">\n                        官网\n                    </div>\n                </div>\n                <div s-if="!feature.phone_plus_off" class="imlp-component-popuptypebox-plus-box-item {{contactNumber ? \'imlp-component-popuptypebox-plus-box-item-order-2\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-popuptypebox-plus-box-item-icon imlp-component-popuptypebox-plus-box-item-icon-phone" on-click="makecontact">\n                    </div>\n                    <div class="imlp-component-popuptypebox-plus-box-item-desc">\n                        电话\n                    </div>\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item {{sendImage ? \'imlp-component-popuptypebox-plus-box-item-order-3\' : plusBoxItemPlaceholderClass }}">\n                    <div class="imlp-component-popuptypebox-plus-box-item-icon imlp-component-popuptypebox-plus-box-item-icon-pic">\n                        <ui-uploader></ui-uploader>\n                    </div>\n                    <div class="imlp-component-popuptypebox-plus-box-item-desc">\n                        照片\n                    </div>\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item  {{feedbackURL ? \'imlp-component-popuptypebox-plus-box-item-order-4\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-popuptypebox-plus-box-item-icon imlp-component-popuptypebox-plus-box-item-icon-comment" on-click="feedback">\n                    </div>\n                    <div class="imlp-component-popuptypebox-plus-box-item-desc">\n                        评价\n                    </div>\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item  {{showBaozhangInfo ? \'imlp-component-popuptypebox-plus-box-item-order-5\' : plusBoxItemPlaceholderClass}}">\n                    <div class="imlp-component-popuptypebox-plus-box-item-icon imlp-component-popuptypebox-plus-box-item-icon-baozhang" on-click="baozhang">\n                    </div>\n                    <div class="imlp-component-popuptypebox-plus-box-item-desc">\n                        申请保障\n                    </div>\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item {{plusBoxItemPlaceholderClass}}">\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item {{plusBoxItemPlaceholderClass}}">\n                </div>\n                <div class="imlp-component-popuptypebox-plus-box-item {{plusBoxItemPlaceholderClass}}">\n                </div>\n            </div>\n        </div>\n        <template s-if="!iframe.on && missMessage.number > 0">\n            <ui-chat-miss-message-tip type="missMessTip" s-ref="imlp-chatview-miss-message-tip"></ui-chat-miss-message-tip>\n        </template>\n        <template s-if="phoneModal || wechatModal || customModal">\n            <ui-contact-modal></ui-contact-modal>\n        </template>\n        <div s-if="sessionState == sessionClosedState" class="imlp-component-popuptypebox-mask" on-click="openSessionClosedTip">\n        </div>\n    </div>\n'},function(t,e,a){},function(t,e){t.exports="\n    <div class=\"imlp-component-mask imlp-component-maskouter-{{child}}\n            {{show && !hideMask ? '': 'imlp-component-mask-none'}}\n            {{child == 'standardpopup' || child == 'menu' || child === 'city'? 'imlp-component-mask--clickable': ''}}\" on-click=\"operate($event, 'mask')\">\n        <template s-if=\"child == 'notice'\">\n            <ui-notice></ui-notice>\n        </template>\n        <template s-if=\"child == 'session-closure'\">\n            <ui-session-closure></ui-session-closure>\n        </template>\n        <template s-if=\"child == 'detention'\">\n            <ui-detention></ui-detention>\n        </template>\n        <template s-if=\"child == 'menu'\" s-ref=\"imlp-component-mask-popup\">\n            <ui-menu menu=\"{{menu}}\"></ui-menu>\n        </template>\n        <template s-if=\"child == 'captcha'\">\n            <ui-captcha></ui-captcha>\n        </template>\n        <template s-if=\"child == 'standardpopup'\">\n            <ui-standardcard></ui-standardcard>\n        </template>\n        <template s-if=\"child == 'city'\">\n            <ui-city></ui-city>\n        </template>\n        <template s-if=\"child == 'sms'\">\n            <ui-sms></ui-sms>\n        </template>\n        <template s-if=\"child == 'picture'\">\n            <ui-picture></ui-picture>\n        </template>\n        <template s-if=\"child == 'formgranted'\">\n            <ui-form-granted></ui-form-granted>\n        </template>\n        <template s-if=\"child == 'couponmask'\">\n            <ui-couponmask></ui-couponmask>\n        </template>\n        <template s-if=\"child == 'couponmaskSuccess'\">\n            <ui-couponmasksuccess></ui-couponmasksuccess>\n        </template>\n        <template s-if=\"child == 'couponmaskRule'\">\n            <ui-couponrule></ui-couponrule>\n        </template>\n        <template s-if=\"child == 'wechatText'\">\n            <ui-wechat-text></ui-wechat-text>\n        </template>\n        <template s-if=\"child == 'wechatImage'\">\n            <ui-wechat-image></ui-wechat-image>\n        </template>\n    </div>\n"},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-masknotice">\n        <div class="imlp-component-masknotice-title">\n            用户须知\n        </div>\n        <div s-if="appid !== \'xyl_ad\'" class="imlp-component-masknotice-content">\n            ada.baidu.com/imlp是在线沟通工具，商家或其员工言论仅代表其个人观点，不代表本站同意其说法，请谨慎参阅，本站不承担由此引起的法律责任。问题反馈邮箱：iimlp@baidu.com。\n        </div>\n        <div s-if="appid === \'xyl_ad\'" class="imlp-component-masknotice-content">\n            尊敬的用户您好，为便于您与医院进行线上沟通，本网站ada.baidu.com/site将提供在线沟通技术服务。特此，网站请您注意以下事项：1、由于网络沟通场景无法使医生明确了解您的真实情况，医生仅能根据您的描述内容为您提供咨询建议，但任何关于疾病的网络建议都不能替代医生的面对面诊断，因此请您完成咨询后选择线下就医。2、为了能够让医生给您提供更准确的建议，请您在线上沟通时务必如实陈述，若因您虚假陈述导致的后果，均与医院、医生及本站无关。3、本站仅提供技术服务，无法追踪、核查您与对方的沟通内容，网友、医生言论仅代表其个人观点，不代表本站立场，请谨慎参阅，本站不承担由此引起的法律责任。4、如果您在线上沟通过程中遇到问题，请您反馈至以下邮箱：iimlp@baidu.com。\n        </div>\n        <div class="imlp-component-masknotice-btn-verify" on-click="toggle">\n            关闭\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-maskSessionClosure">\n        <div class="imlp-component-maskSessionClosure-title">提示</div>\n        <div class="imlp-component-maskSessionClosure-content">您好，由于您长时间未发言，页面已经中断您此次的访问。若您想继续访问，请刷新页面重新建立连接。</div>\n        <div class="imlp-component-maskSessionClosure-buttons">\n            <div class="imlp-component-maskSessionClosure-button imlp-component-maskSessionClosure-button--cancel" on-click="hide">取消</div>\n            <div class="imlp-component-maskSessionClosure-line--split"></div>\n            <div class="imlp-component-maskSessionClosure-button imlp-component-maskSessionClosure-button--refresh" on-click="refresh">重新连接</div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="detention-container">\n        <div class="detention">\n            <div s-if="{{phoneExp}}" class="detention-common detention-phone">\n                <div class="detention-title">确定离开当前咨询吗?</div>\n                <div class="detention-subtitle">打字太麻烦，试试直接打电话</div>\n            </div>\n            <template s-else>\n                <div class="detention-image" s-if="{{detentionData.theme == 1}}">\n                    <div class="detention-title-withtip">\n                        {{detentionData.content.length ? \'确定离开吗？您可能还想问\' : \'确定离开当前咨询吗？\'}}\n                    </div>\n\n                    <div s-if="{{detentionData.content.length > 0}}" class="detention-item-container">\n                        <template s-for="item in detentionData.content">\n                            <div class="detention-item-text-img" on-click="send(item)">\n                                <div class="detention-item-text {{item.imageUrl ? \'item-text-withimg\' : \'\'}}">\n                                    <span class="detention-item-icon-{{item.hotText == \'1\' ? \'hot\' : \'ask\'}}-img">\n                                    </span>\n                                    <div class="title">\n                                        {{item.text}}\n                                    </div>\n                                </div>\n                                <img s-if="{{item.imageUrl}}" class="detention-item-img" src="{{item.imageUrl}}">\n                            </div>\n                        </template>\n                    </div>\n                    <div class="detention-content" s-else-if="{{!baiduboxapp}}">\n                        客服还能帮您解答更多问题哦\n                    </div>\n                    <div class="detention-content" s-else>\n                        如有疑问，可到私信再次咨询 <br> 「 百度APP - 我的 - 私信 」\n                    </div>\n                </div>\n                <div class="detention-common" s-else>\n                    <div class="detention-title">{{detentionData.content.length ? \'确定离开吗？您可能还想问\' : \'确定离开当前咨询吗？\'}}</div>\n\n                    <div s-if="{{detentionData.content.length > 0}}" class="detention-item-container">\n                        <template s-for="item in detentionData.content">\n                            <div class="detention-item" on-click="send(item)">{{item.text}}</div>\n                        </template>\n                    </div>\n                    <div class="detention-content" s-else-if="{{!baiduboxapp}}">\n                        客服还能帮您解答更多问题哦\n                    </div>\n                    <div class="detention-content" s-else>\n                        如有疑问，可到私信再次咨询 <br> 「 百度APP - 我的 - 私信 」\n                    </div>\n                </div>\n            </template>\n            <div class="detention-buttons">\n                <div class="detention-button" on-click="confirm">确定</div>\n                <div s-if="{{!phoneExp}}" class="detention-button" on-click="hide">取消</div>\n                <div s-else class="detention-button detention-button-primary" on-click="callUp">拨打电话</div>\n            </div>\n        </div>\n        <div s-if="{{phoneExp}}" class="detention-close-icon" on-click="hide"></div>\n    </div>\n'},function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-component-maskMenu">\n        <template s-if="feature.typebox || feature.typebox2">\n            <widget-legalstatement></widget-legalstatement>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-statement-wrapper">\n        <div class="imlp-mask-statement-title">\n            <div>详情</div>\n            <div class="imlp-mask-statement-close" on-click="operate($event,\'close\')">\n                <widget-close size="{{close}}"></widget-close>\n            </div>\n        </div>\n        <div class="imlp-component-mask-statement">\n            <div class="imlp-component-mask-statement-title">页面须知</div>\n            <div class="imlp-component-mask-statement-content">\n                <div class="imlp-component-mask-statement-tip">尊敬的用户您好，为便于您与商家进行线上沟通，请您注意以下事项:</div>\n                <div class="imlp-component-mask-statement-detail">\n                    <p>1、为节省您的时间、免收重复输入的困扰，您的搜索词将会在该页面上的输入框中展示，您可以自行选择是否向商家发送该信息，您也可以自行在输入框中修改该信息。若您确认发送，则代表您同意将该信息发送给提供咨询服务的商家；若您没有发送，则您的搜索词信息不会提供给商家。请您在发送之前仔细核查自己的输入信息，避免隐私泄露。</p>\n                    <p>2、为了方便您后续回访查看与商家沟通的消息记录，当您使用手机百度咨询时，您的对话内容将会同步到手机百度APP-我的-私信 里面。</p>\n                    <p>3、本站仅提供技术服务，无法追踪、核查您与商家的沟通内容，网友、商家言论仅代表其个人观点，不代表本站立场，请谨慎参阅，本站不承担由此引起的法律责任。</p>\n                    <p s-if="xyl">4、如果您咨询医疗相关问题，由于网络沟通场景无法使医生明确了解您的真实情况，医生仅能根据您的描述内容为您提供咨询建议，但任何关于疾病的网络建议都不能替代医生的面对面诊断，因此请您完成咨询后选择线下就医。为了能够让医生给您提供更准确的建议，请您在线上沟通时务必如实陈述，若因您虚假陈述导致的后果，均与医院、医生及本站无关。</p>\n                </div>\n            </div>\n            <div class="imlp-component-mask-statement-title">服务声明</div>\n            <div class="imlp-component-mask-statement-content">\n                <div class="imlp-component-mask-statement-detail">\n                    <p>本服务是由商家和第三方咨询软件向百度用户提供，其中，咨询服务是由{{imTypeNames[imType]}}提供，咨询内容均由{{title}}提供，商家对本服务信息内容、数据资料及其运营行为等的真实性、合法性及有效性承担全部责任。百度向商家和第三方咨询软件提供技术支持服务。如果用户提供数据给服务提供方，适用服务提供方隐私政策，请联系服务提供方索取相关信息。</p>\n                </div>\n            </div>\n        </div>\n        <widget-messagebox></widget-messagebox>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-standardpopup-consult">\n        <div class="imlp-mask-standardpopup-consult-area">\n            <div class="imlp-mask-standardpopup-consult-savatar" style="background-image: url({{savatar}})" on-click="operate($event,\'savatar\')">\n                <div s-if="missMessage.number > 0" class="imlp-mask-standardpopup-consult-missnum">\n                    {{(missMessage.number || 10) | maxNum(99)}}\n                </div>\n            </div>\n            <div class="imlp-mask-standardpopup-consult-message" on-click="operate($event, \'message\')">\n                <div class="imlp-mask-standardpopup-message-layer">\n                    <ul class="imlp-mask-standardpopup-message-list" style="transform: translate3d(0, -{{totalConsultHeight}}, 0);">\n                        <li s-for="message in scrollMessage" class="imlp-mask-standardpopup-message-item">{{message.content | raw}}</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class="imlp-mask-standardpopup-consult-button" on-click="operate($event, \'consult\')">{{button}}</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-widget-captcha">\n        <div class="imlp-widget-captcha-title">提示</div>\n        <div class="imlp-widget-captcha-content">抱歉,目前接待访客较多,需输入正确的验证码后方可联通客服</div>\n        <div class="imlp-widget-captcha-verification">\n            <span class="imlp-widget-captcha-pic" on-click="getCaptcha">\n                <template s-if="base64">\n                    <img src="{{base64}}">\n                </template>\n                <template s-else>{{captcha | raw}}</template>\n            </span>\n            <span class="imlp-widget-captcha-equal">=</span>\n            <input on-blur="blur" s-ref="{{inputRef}}" class="imlp-widget-captcha-input" placeholder="答案">\n        </div>\n        <div class="imlp-widget-captcha-buttons">\n            <div class="imlp-widget-captcha-button imlp-widget-captcha-button--confirm" on-click="confirm">确认</div>\n            <div class="imlp-widget-captcha-line--split"></div>\n            <div class="imlp-widget-captcha-button imlp-widget-captcha-button--cancel" on-click="cancel">取消</div>\n        </div>\n    </div>\n'},function(t,e){t.exports='\n    <svg width="{{width}}" height="{{height}}" viewBox="0 0 66 66" version="1.1">\n        <g id="关闭图标" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <g id="编组">\n                    <g/>\n                    <line x1="10" y1="10" x2="55.9619408" y2="55.9619408" id="路径(borders:GC38)" stroke="#666666" stroke-width="5" stroke-linejoin="round"/>\n                    <line x1="55.9619408" y1="10" x2="10" y2="55.9619408" id="路径(borders:GC38)" stroke="#666666" stroke-width="5" stroke-linejoin="round"/>\n                </g>\n                <rect id="图标" x="0" y="0" width="66" height="66"/>\n            </g>\n        </g>\n    </svg>\n'},function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-component-maskCaptcha">\n        <template>\n            <widget-captcha></widget-captcha>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-standardpopup-wrapper\n        imlp-mask-standardpopup-wrapper-optimize\n        {{\'imlp-mask-standardpopup-wrapper-optimize-\' + type}}\n        imlp-mask-standardpopup-{{data.style}}\n        imlp-mask-standardpopup-theme{{data.theme}}">\n        <div class="imlp-mask-standardpopup-title {{\'imlp-mask-standardpopup-title-\' + data.type}}">\n            <div>{{title}}</div>\n            <div class="imlp-mask-standardpopup-close--optimize" on-click="operate($event,\'close\')">\n                <widget-close size="{{close}}"></widget-close>\n            </div>\n        </div>\n        <widget-cardlist s-if="isCardListContainer" data="{{data.value}}"></widget-cardlist>\n        <template s-elif="{{data.type == \'popupForm\'}}">\n            <widget-tabscard s-if="{{data.content.type == \'tabs\'}}" data="{{data.content}}" from="standardpopup"></widget-tabscard>\n            <widget-popup-form s-elif="{{data.content.type == \'getPrice\'}}" data="{{data.content}}" from="standardpopup"></widget-popup-form>\n        </template>\n        <template s-else>\n            <div class="imlp-mask-standardpopup imlp-mask-standardpopup--optimize">\n                <div class="imlp-standard-widgetlist">\n                    <template s-for="item, widgetindex in list">\n                        <div class="imlp-standard-widget">\n                            <widget-detailbase s-if="item.type == \'detailBase\'" s-ref="widget{{widgetindex}}" card="{{type}}" data="{{item}}" display="{{true}}" combined="{{combined}}" cardindex="{{cardindex}}" source="standardpopup"></widget-detailbase>\n                            <widget-slide-image s-if="item.type == \'slider\'" s-ref="widget{{widgetindex}}" data="{{item}}"></widget-slide-image>\n                            <widget-image s-if="item.type == \'image\'" data="{{item}}"></widget-image>\n                            <widget-subtitle s-if="item.type == \'subtitle\'" data="{{item}}"></widget-subtitle>\n                            <widget-tagtext s-if="item.type == \'tagText\'" data="{{item}}" index="{{widgetindex}}" display="{{true}}" source="standardpopup"></widget-tagtext>\n                            <widget-description s-if="item.type == \'description\' && item.text" data="{{item}}" index="{{widgetindex}}" display="{{true}}" source="standardpopup"></widget-description>\n                            <widget-score s-if="item.type == \'rank\'" data="{{item}}"></widget-score>\n                            <widget-tags s-if="item.type == \'tags\'" data="{{item}}"></widget-tags>\n                            <widget-price s-if="item.type == \'price\'" data="{{item.value}}"></widget-price>\n                            <widget-tabscard s-if="item.type == \'tabs\'" data="{{item}}" from="standardpopup"></widget-tabscard>\n                        </div>\n                    </template>\n                </div>\n            </div>\n            <widget-messagebox></widget-messagebox>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="slide-image" on-click="click">\n        <div s-for="item,index in data.list" class="slide-image-item" style="{{item ? \'background-image:url(\' + item + \')\' : \'\'}}"></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="list-card">\n        <div s-if="{{showFstLoading || showListEmpty}}" class="list-card-loading">\n            <span s-if="{{showListEmpty}}" class="list-card-loading-text-empty">暂时无法获取订单</span>\n            <span s-if="{{showFstLoading}}" class="list-card-loading-text">加载中</span>\n        </div>\n        <template s-else s-for="item in cardList">\n            <span s-if="{{item.type===\'systemLoadingMore\'}}" class="list-card-system">正在加载更多...</span>\n            <span s-else-if="{{item.type===\'systemLoaded\'}}" class="list-card-system">已经到底啦～</span>\n            <div s-else class="list-card-wrapper" on-click="sendCardMsg($event, item)">\n                <ui-order data="{{item}}"></ui-order>\n            </div>\n        </template>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="order-card">\n        <div class="order-card-header">\n            <span class="order-card-header-text">{{data.time}}</span>\n            <span class="order-card-header-text">订单号：{{data.orderid}}</span>\n        </div>\n        <div class="order-card-content">\n            <div class="order-card-content-left">\n                <img src="{{data.image}}" class="order-card-content-img">\n            </div>\n            <div class="order-card-content-info">\n                <div class="order-card-content-info-title">\n                    <span class="order-card-content-info-title-text">{{data.title}}</span>\n                </div>\n                <div class="order-card-content-info-data">\n                    <div class="order-card-content-info-data-item">\n                        <span style="color: #858585;">共{{data.num}}件商品</span>\n                    </div>\n                    <div class="order-card-content-info-data-item">\n                        <span style="color: #1f1f1f;">合计</span>\n                        <span class="order-card-content-info-data-item-price">¥{{data.price}}</span>\n                    </div>\n                    <div class="order-card-content-info-data-item order-card-content-info-data-status"><span>{{data.status}}</span></div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-maskcity">\n        <div class="imlp-component-maskcity-selected">\n            <template s-if="path.length > 0">\n                <div s-for="item, index in path" class="imlp-component-maskcity-selected-tab {{current === item.code && \'imlp-component-maskcity-selected-current\'}}" on-click="reSelectedHandler(item, index)">\n                    {{item.name | textEllipsis}}\n                </div>\n            </template>\n            <div class="imlp-component-maskcity-selected-tab imlp-component-maskcity-selected-current" s-else>请选择</div>\n            <div class="imlp-component-maskcity-close" on-click="closeHandler">\n                <ui-close size="{{close}}"></ui-close>\n            </div>\n        </div>\n        <div class="imlp-component-maskcity-scroll">\n            <div class="imlp-component-maskcity-scroll-tips">选择省份/地区</div>\n            <template s-for="item, index in scrollList">\n                <div class="imlp-component-maskcity-scroll-item {{current === item.code && \'imlp-component-maskcity-scroll-selected\'}}" on-click="selectedHandler(item, index)">\n                    <span class="imlp-component-maskcity-scroll-text">{{item.name}}</span>\n                    <span class="imlp-component-maskcity-scroll-icon">\n                        <ui-selected></ui-selected>\n                    </span>\n                </div>\n            </template>\n        </div>\n    </div>\n'},function(t,e){t.exports='\n    <svg width="16px" height="11px" viewBox="0 0 49 34">\n        <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="选择地点弹层" transform="translate(-1132.000000, -1715.000000)" fill="#4E6EF2" fill-rule="nonzero">\n                <g id="编组-2" transform="translate(0.000000, 1233.000000)">\n                    <g id="编组-3" transform="translate(60.000000, 339.000000)">\n                        <g id="Group-3" transform="translate(1059.000000, 124.000000)">\n                            <path d="M17.9315757,34.5005451 L29.6044382,46.1747416 L56.5161164,19.2638889 L61.2650455,24.012818 L34.1307656,51.147098 C31.6870787,53.5907849 27.7588196,53.6450891 25.2491516,51.3100104 L25.0802702,51.147098 L13.1826465,39.2494743 L17.9315757,34.5005451 Z" id="路径"/>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </svg>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-masksms">\n        <div class="imlp-component-masksms-close" on-click="closeHandler">\n            <ui-close size="{{close}}"></ui-close>\n        </div>\n        <div class="imlp-component-masksms-title">{{maskData.title}}</div>\n        <div class="imlp-component-masksms-tel">{{telTips + antiData.telno}}</div>\n        <div class="imlp-component-masksms-captcha-container">\n            <div class="imlp-component-masksms-input-container">\n                <input class="imlp-component-masksms-input" on-input="updateCode($event)" placeholder="请输入手机验证码" value="{{code | setInputValue}}">\n            </div>\n            <div class="imlp-component-masksms-getcode" on-click="getCode">{{codeText}}</div>\n        </div>\n        <div class="imlp-component-masksms-submit {{code.length > 0 ? \'imlp-component-masksms-submit-enabled\' : \'\'}}" on-click="submitCode">提交</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-maskpicture">\n        <div class="imlp-component-maskpicture-close" on-click="closeHandler">\n            <ui-close size="{{close}}"></ui-close>\n        </div>\n        <div class="imlp-component-maskpicture-title">请输入验证码</div>\n        <div class="imlp-component-maskpicture-captcha-container">\n            <div class="imlp-component-maskpicture-input-container">\n                <input class="imlp-component-maskpicture-input" on-input="updateCode($event)" placeholder="验证码" value="{{code | setInputValue}}">\n            </div>\n            <div class="imlp-component-maskpicture-picture" on-click="getCaptcha">\n                <img s-if="captcha" src="data:image/png;base64,{{captcha}}">\n            </div>\n        </div>\n        <div class="imlp-component-maskpicture-submit {{code.length > 0 ? \'imlp-component-maskpicture-submit-enabled\' : \'\'}}" on-click="submitCaptcha">提交</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-maskgranted">\n        <div class="imlp-component-maskgranted-close" on-click="closeHandler">\n            <ui-close size="{{close}}"></ui-close>\n        </div>\n        <div class="imlp-component-maskgranted-title">个人信息授权与隐私政策</div>\n        <div class="imlp-component-maskgranted-text">\n            尊敬的用户，您选择使用“自动输入历史信息”功能，您同意本平台在法律允许的范围内，收集您输入的信息，您已知晓并同意在您浏览使用本平台建站服务搭建的页面时，我们会帮您预先填写上次输入的历史信息，您的历史信息仅用于页面的预填充，且只有您点击提交按钮之后信息才会传递给商家使用。本平台非常重视用户信息的保护，详见\n            <span class="imlp-component-maskgranted-privacy" on-click="privacyHandler">《隐私政策》</span>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-couponMask imlp-component-couponMask-{{(couponMaskData.captcha.type === \'sms\' || couponMaskData.captcha.type === \'picture\') ? \'hasCaptcha\':\'\'}}">\n        <div class="imlp-component-mask-header">\n            <div class="imlp-component-header-border">\n                <div class="imlp-component-header-border-top"></div>\n                <div class="imlp-component-header-border-bottom"></div>\n                <div class="imlp-component-header-solutionName">{{couponMaskData.couponName}}</div>\n                <div class="imlp-component-header-storeName">{{couponMaskData.storeName}}</div>\n                <div class="imlp-component-header-hotShow" s-if="couponMaskData.hotShow">已有{{couponMaskData.takeNum}}人领取</div>\n                <div class="imlp-component-storeLogo" style="background-image:url(\'{{couponMaskData.storeLogo}}\')"></div>\n            </div>\n        </div>\n        <div class="imlp-component-bottom">\n            <div class="imlp-component-bottom-info">\n                <input type="input" placeholder="请输入您的手机号" class="imlp-component-bottom-info-input imlp-component-bottom-info-number-input" s-ref="phoneNumber">\n                <div class="imlp-component-captcha" s-if="{{couponMaskData.captcha.type === \'sms\'}}">\n                    <input type="input" placeholder="请输入验证码" class="imlp-component-bottom-info-input" s-ref="captcha">\n                    <span class="imlp-component-captcha-submit imlp-component-captcha-{{isGettingCaptcha ? \'time\' : \'\'}}" on-click="getCaptcha">{{captchaBtnStatus}}</span>\n                </div>\n                <div class="imlp-component-captcha" s-if="{{couponMaskData.captcha.type === \'picture\'}}">\n                    <input type="input" placeholder="请输入验证码" class="imlp-component-bottom-info-input" s-ref="captcha">\n                    <div class="imlp-component-captcha-picture-box">\n                        <img class="imlp-component-captcha-picture" src="data:image/png;base64,{{couponMaskData.captcha.imageBase64}}" on-click="getCaptchaPic">\n                    </div>\n                </div>\n\n                <div class="imlp-component-bottom-info-btn" on-click="getCoupon">立即领取</div>\n                <div class="imlp-component-bottom-info-rule" on-click="getCouponRule">卡券使用规则</div>\n                <div class="imlp-component-couponmask-close" on-click="closeMask"></div>\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-coupon-success">\n        <div class="imlp-coupon-success-title">\n            <span class="imlp-coupon-success-abstract">领取成功</span>\n            <span class="imlp-coupon-success-view">可前往手百app“我的-卡券包”查看</span>\n        </div>\n        <div class="imlp-coupon-success-triangle-right"></div>\n        <div class="imlp-coupon-success-info">\n            <div class="imlp-coupon-success-circle imlp-coupon-success-circle-left"></div>\n            <div class="imlp-coupon-success-border"></div>\n            <div class="imlp-coupon-success-circle imlp-coupon-success-circle-right"></div>\n            <div class="imlp-coupon-success-info-top">\n                <div class="imlp-coupon-success-storeLogo" style="background-image:url(\'{{couponMaskData.storeLogo}}\')"></div>\n                <div class="imlp-coupon-success-storeName">{{couponMaskData.storeName}}</div>\n            </div>\n            <div class="imlp-coupon-success-solutionName">{{couponMaskData.couponName}}</div>\n            <div class="imlp-coupon-success-useTime">{{couponMaskData.couponUseTime}}</div>\n        </div>\n        <div class="imlp-coupon-success-triangle-left"></div>\n        <div class="imlp-coupon-success-rule" on-click="getCouponRule">卡券使用规则</div>\n        <div class="imlp-coupon-success-close" on-click="closeMask"></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-coupon-rule">\n        <div class="imlp-mask-coupon-rule-title">卡券使用规则</div>\n        <div class="imlp-mask-coupon-rule-content" s-if="couponRuleList.length">\n            <div s-for="item, index in couponRuleList">\n                <span>{{item}}</span>\n            </div>\n        </div>\n        <div class="imlp-mask-coupon-rule-split"></div>\n        <div class="imlp-mask-coupon-rule-bottom" on-click="close">我知道了</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-wechat-text">\n        <div class="imlp-mask-wechat-top">\n            <div class="imlp-mask-wechat-top-img"></div>\n            <div class="imlp-mask-wechat-top-close" on-click="close"></div>\n        </div>\n        <div class="imlp-mask-wechat-copy">复制成功</div>\n        <div class="imlp-mask-wechat-info">\n            <span>{{accountInfo}}</span>\n            <span>{{data.guideWriter}}</span>\n        </div>\n        <div class="imlp-mask-wechat-open" on-click="openWechat">{{data.type === \'normal\' ? \'知道了\' : \'打开微信\'}}</div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-mask-wechat-image">\n        <div class="imlp-mask-wechat-image-close" on-click="close"></div>\n        <div class="imlp-mask-wechat-image-title">{{data.guideWriter}}</div>\n        <div class="imlp-mask-wechat-image-image" style="background-image: url({{data.imageUrl}});"></div>\n        <div s-if="saveImgResStatus" class="imlp-mask-wechat-image-saved-info">{{saveImgResStatus}}</div>\n        <div s-if="extraMsg" class="imlp-mask-wechat-image-extra-info">{{extraMsg}}</div>\n        <div class="imlp-mask-wechat-image-btn" on-click="doClick">{{btnInfo}}</div>\n        <div class="imlp-mask-wechat-image-progress"></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-widget-toast-group {{list.length > 0 && \'imlp-widget-toast-group--block\'}}">\n        <div s-for="item in list">\n            <div class="imlp-widget-toast">\n                <div class="imlp-widget-toast-icon" s-if="item.icon"><i class="c-icon">{{item.icon |raw}}</i></div>\n                {{item.text|raw}}\n            </div>\n        </div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div class="imlp-component-iframe-box {{loaded ? \'imlp-component-iframe-box--loaded\' : \'\'}}">\n        <div class="imlp-component-iframe-fix-container">\n            <iframe s-ref="imlp-component-iframe" class="imlp-component-iframe\n                {{iframe.on ? \'imlp-component-iframe-show\' : \'\'}}" src="{{iframe.src}}" frameborder="0" allowfullscreen>\n            </iframe>\n        </div>\n        <div class="imlp-component-iframe-back {{(iframe.on && iframe.loaded) ? \'imlp-component-iframe-back-show\' : \'\'}}" on-click="hideIframe($event)">\n            <div s-if="missMessage.number > 0" class="imlp-component-ifame-message-num">\n                {{ missMessage.number | maxNum(99)}}\n            </div>\n            返回咨询\n        </div>\n    </div>\n'},function(t,e,a){},function(t,e){t.exports='\n    <div s-if="data.src && data.src" class="imlp-widget-imagepreview {{computed ? \'imlp-widget-imagepreview--computed\' : \'\'}}" on-click="hide">\n        <img s-ref="{{refKey}}" style="width:{{width}}px;height:{{height}}px" class="imlp-widget-imagepreivew-image" src="{{data.src}}" on-load="loadHandler($event)">\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports='\n    <div s-if="showBaozhangBar" class="imlp-component-topcontent" on-click="clickHandle($event)">\n        <div class="imlp-component-topcontent-icon"></div>\n        <div class="imlp-component-topcontent-text {{advancedPromise ? \'imlp-component-topcontent-text-black\' : \'\'}}">\n            <div s-if="promiseList.length > 0" s-ref="promiseWrapper" class="imlp-component-topcontent-wrapper">\n                <div s-for="item in promiseList" class="imlp-component-topcontent-list">\n                    <img src="{{img}}">\n                    <div>{{ item.iconname || item.content }}</div>\n                </div>\n            </div>\n            <template s-else>\n                {{ baozhangText }}\n            </template>\n        </div>\n        <div s-if="!isHideBaozhang" class="imlp-component-topcontent-arrow"></div>\n    </div>\n'},function(t,e,a){t.exports={rpx:"0.01rem",rpxValue:"0.01",rpxUnit:"rem",heightMessageBoxConsultValue:"120"}},function(t,e){t.exports="\n    <div class=\"{{prefix}}\n            {{isNoScrollStyle1 ? prefix + '-noscroll-style1' : ''}}\n            {{isNoScrollStyle2 ? prefix + '-noscroll-style2' : ''}}\">\n        <div s-for=\"item, index in coreNavigation.buttons\" class=\"{{foldPrefix + '-item'}}\n                {{showAnimation ? foldPrefix + '-animation' : foldPrefix + '-animation-none'}}\" style=\"animation-delay: {{index * 0.05}}s;\" on-click=\"click($event, item)\">\n            <img class=\"{{foldPrefix+ '-item-icon'}}\" src=\"{{imgNameFormat(item.buttonType)}}\">\n            <div class=\"{{foldPrefix+ '-item-name'}}\">{{item.buttonText}}</div>\n        </div>\n    </div>\n"},function(t,e,a){},function(t,e){t.exports='\n    <div class="imlp-popup-small-message">\n        <div class="imlp-popup-small-message-avatar" style="background-image: url({{savatar}});">\n            <div s-if="sessionState===1" class="imlp-popup-small-message-online"><span>在线</span></div>\n            <div s-if="unreadMessageCount" class="imlp-popup-small-message-unreadcount"><span>{{unreadMessageCount}}</span></div>\n        </div>\n        <div class="imlp-popup-small-message-content">\n            <div class="imlp-popup-small-message-list" style="transform: translate(0, {{moveY}}px)">\n                <div s-for="item in list" class="imlp-popup-small-message-item">\n                    <div class="imlp-popup-small-message-text">{{item.content | raw}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},function(t,e){t.exports=function(t){return t}},function(t,e,a){var n=a(419);t.exports=function(t,e,a){var i=t.length;return a=void 0===a?i:a,!e&&a>=i?t:n(t,e,a)}},function(t,e,a){var n=a(1155),i=a(1156),s=a(1157),o=s&&s.isRegExp,r=o?i(o):n;t.exports=r},function(t,e,a){var n=a(225),i=a(233);t.exports=function(t){return i(t)&&"[object RegExp]"==n(t)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,a){(function(t){var n=a(390),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i&&n.process,r=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=r}).call(this,a(389)(t))},function(t,e,a){var n=a(1159),i=a(532),s=a(1160);t.exports=function(t){return i(t)?s(t):n(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){t.exports=function(t){return t.split("")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.r(e);a(80),a(109),a(63),a(64),a(192),a(193),a(72),a(86),a(156);var n=a(124),i=a.n(n),s=a(238),o=a.n(s),r=a(7),c=a.n(r),d=(a(10),a(12),a(26),a(42),a(381),a(113),a(19),a(6),a(159),a(17),a(160),a(195),a(18),a(840),a(20),a(25),a(52),a(53),a(123),a(0)),l=(a(308),a(21)),p=a(33),u={logXh:function(t,e,a){a({type:"xh",from:"imlp",content:e})},logXhModal:function(t,e,a){a({type:"xhModal",from:"imlp",content:JSON.stringify(e)})},triggerYxtCardFromKefu:function(t,e,a){a({type:"yxt",from:"imlp",content:e})},logSwipeInfo:function(t,e,a){t.getState("feature").track&&e&&e.type&&a({type:"track",from:"imlp",content:{type:e.type,value:e.content}})},logCommon:function(t,e,a){a(e)},popupInvite:function(t,e,a){a({type:"popupInvite",from:"manual"===e.type?"service":"imlp",content:e})},cardPopupLog:function(t,e,a){a({type:e.type,from:e.from,content:{number:e.number}},t)}},m=a(135),h=a(178),g=a(3),f=a(67),v=a(136),x=a(56),b=a(13),y=a(5),w=a(41),k=a(91),S=a(180),C=a(137),T=a(645),M=a.n(T),I=(a(37),a(65),{"68446-1":"newPopupSmall","68744-1":"newPopupSmall"}),B={};function P(t,e,a){a.forEach((function(a){"postMessage"===e?t.postMessage(a.key,a.value):"dispatch"===e&&d.store.dispatch(a.key,a.value)}))}B.newPopupSmall={popupChangeState:{open:{postMessage:[{key:"uiComponent",value:{consultBtn:{display:"none"}}}],dispatch:[{key:"changePopupSmallMessageState",value:!1},{key:"updateState",value:{key:"consultBtnState",value:!1}},{key:"updateState",value:{key:"inputState",value:!0}}]},small:{postMessage:[{key:"uiComponent",value:{inputContainer:{display:"none"},consultBtn:{display:"block"}}}],dispatch:[{key:"changePopupSmallMessageState",value:!0},{key:"updateState",value:{key:"consultBtnState",value:!0}},{key:"updateState",value:{key:"inputState",value:!1}}]}},popupChangeStateEnd:{open:{postMessage:[{key:"uiComponent",value:{inputContainer:{display:"block"}}}]}}},B.newPopupSmall.popupChangeState.close=B.newPopupSmall.popupChangeState.open,B.newPopupSmall.popupChangeStateEnd.close=B.newPopupSmall.popupChangeStateEnd.open;var L=function(t,e,a){a=a||{};var n=d.store.getState("abTest"),i=(B[I[n]]||{})[e];if(i){var s=i;"popupChangeStateEnd"!==e&&"popupChangeState"!==e||(s=i[a.state]),function(t,e){if(!e)return;for(var a in e)P(t,a,e[a])}(t,s)}},D=a(206),O="H5-window",E="客服在线为您服务",_={terminal:O,postMessage:j},R=null;function N(){if(R&&"open"===d.store.getState("popupState")){D.a.init(!0);var t=R;R=null,d.store.dispatch("updateConnectStep",l.c.entrySiteStart),window.BcpSdk.init(t.options),t.eventBindHandle&&t.eventBindHandle(window.BcpSdk),t.sdkEventHandler&&t.sdkEventHandler(window.BcpSdk)}}function j(t,e){window.parent.postMessage({type:t,data:e},"*")}_.init=function(t){if(t&&t.terminal===O&&window.parent!==window.self){this.terminal=O;t.title;var e=t.presetMessage||{};j("pageInfo",{pageTitle:E,presetMessage:e.message,inputText:"",topNewMessage:0,contactNumber:t.contactNumber,serviceAvatar:t.service.avatar,welcomeWord:t.welcomeWord}),window.addEventListener("message",(function(t){var e=t.data;if(e&&e.type){var a,n,i=e.type,s=e.data;"popupChangeStateEnd"===i?function(t){var e=t.state;"open"!==e&&d.store.dispatch("UpdateTypeBoxInputFocusState",!1);d.store.dispatch("ToggleTypeBoxBottomBox",""),d.store.dispatch("updatePopupState",t),d.store.dispatch("clearPopupUnreadMessage");var a=d.store.getState("connectStep");"open"===e&&a===l.c.entrySiteEnd&&d.store.dispatch("entrySiteHandle",{payload:null,getState:d.store.getState,dispatch:d.store.dispatch});"open"===e&&N()}(s):"emitImlpClick"===i?function(t){var e=null;switch(t){case"inputPhone":d.store.dispatch("emitPhoneClick","input");break;case"inputMore":d.store.dispatch("ToggleTypeBoxBottomBox","plus");break;case"inputFocus":d.store.dispatch("UpdateTypeBoxInputFocusState",!0);break;case"faceClick":d.store.dispatch("ToggleTypeBoxBottomBox","emoji");break;case"sendClick":d.store.dispatch("emitSendButtonClick");break;case"topNewMessage":console.log("topNewMessage");break;case"consultBtn":d.store.dispatch("UpdateTypeBoxInputFocusState",!0),e=d.store.getState("button")?Object.assign({copyType:"recommend",type:"popupBtnExp"},d.store.getState("button.content[0].log")):{copyType:"default",type:"popupBtnExp"};break;default:console.log("other clickType: "+t)}d.store.dispatch("popupSmallClick",e||t)}(s):"popupShowInvite"===i?(a=s,(n=d.store.getState("connectStep"))>l.c.notConnect&&n<l.c.connectStart&&(d.store.dispatch("sendInvite",{from:"csdk",type:a.type,content:a.content}),d.store.dispatch("popupInvite",a),d.store.dispatch("updatePopupSmallMessage",a))):"dialogButtonClick"===i?function(t){if(!t)return;var e=t.type,a=t.data||{},n=(a.dialogId,a.buttonType);"dialogButtonClick"===e&&"confirm"===n&&window.location.reload()}(e):"changePageParams"===i?d.store.dispatch("changePageParams",s):"setConnectType"===i?d.store.dispatch("setConnectType",s):"popupChangeState"===i&&d.store.dispatch("updatePopupStateStart",s),L(_,i,s)}})),d.store.addAction("popupUnreadMessageUpdata",(function(t){var e=t.unreadMessage||[],a=t.newMessage||[];0!==a.length&&j("unreadMessage",{count:e.length,abTest:d.store.getState("abTest"),unread:a})})),d.store.addAction("popupKefuMessage",(function(t){j("kefuMessage",t)})),d.store.addAction("popupInviteMessage",(function(t){j("invite",t)})),d.store.addAction("inputFocusCallPopup",(function(t){j("inputFocus",t),d.store.dispatch("setPopInputFocus",!0),"small"===d.store.getState("popupState")&&d.store.dispatch("popupSmallClick","inputFocus")})),d.store.addAction("inputTouchStartCallPopup",(function(t){j("inputTouchStart",t)})),d.store.addAction("inputClickNoFocus",(function(t){j("inputClickNoFocus",t)})),d.store.dispatch("updateConnectStep",t.connectStep),d.store.addAction("sdkInitParamsCallPopup",(function(t){R=t,N()})),function(){var t={kefuInputStatus:0,contactNumber:1};function e(t,e){if("kefuInputStatus"===t)j("pageInfo",{pageTitle:E,kefuInputStatus:e});else if("contactNumber"===t){var a={};a[t]=e,j("pageInfo",a)}}d.store.listen((function(a){if(a instanceof Array)for(var n=0;n<a.length;n++){var i=a[n];if(i&&i.target){var s=i.target.join(".");t[s]&&e(s,i.newValue)}}}))}(),j("imlpLifetime","created")}};var U=_,V=a(100),H=(a(8),a(70),a(90),a(54),a(1)),F=a(171),A=a(50),z=a.n(A),X=a(212),W=a.n(X),G=a(172);function q(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw s}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function K(t){if(t){var e,a;Object(G.a)(t);var n=t.searchObj;t.connectStep=l.c.pageDataEnd,t.baiduboxapp=navigator.userAgent&&navigator.userAgent.indexOf("baiduboxapp")>-1,t.baiduboxSwanApp=t.baiduboxapp&&navigator.userAgent&&navigator.userAgent.indexOf("swan")>-1,t.prerender=t.baiduboxapp&&!!t.prerender,t.blockScrollMsg=n&&"1"===n.preview&&"h5"===n.plat,t.bfid=n&&n.bfid||"",t.fid=n&&n.fid||"",t.imlpTrade=t.imlpTrade||(null==n?void 0:n.imlpTrade),t.wsid=b.a.createWsid(t.pvKey),t.iuid=b.a.updateIuid(),t.session.state=y.a.defaultState;var s=(function(){var t=decodeURIComponent(window.location.href),e=W()(t,"?").length>1?W()(t,"?")[1]:null;if(!e)return null;var a={},n=W()(e,"&");return z()(n,(function(t){var e=W()(t,"="),n=i()(e,2),s=n[0],o=void 0===s?"":s,r=n[1],c=void 0===r?"":r;a[o]=c})),a}()||{}).wid,o=void 0===s?"":s;t.wjzWid=o,(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/HeyTapBrowser/i.test(navigator.userAgent)&&(t.isHideHomeBtn=!1,t.isHideLocalPhone=!1,t.isHideHeaderTitle=!1),t.robotPreview={preview:n.preview,conversationFlowId:n.conversationFlowId},n.preview===H.q&&n.solutionId&&(t.couponPreviewId=n.solutionId),t.appid=t.appid||"",t.client=t.terminal||"H5",t.historyKey=(t.content_provider||[])[0],n.preview===H.q&&n.messagePreviewText&&(t.messagePreviewText=n.messagePreviewText),0===parseInt(t.shopid,10)&&(t.shopid=""),t.user_id=t.user_id||t.aduserid,t.typeboxtext="",t.cancelEntrySite=!t.user_id||t.review;var r=x.a.isPt();r&&c()(t,"x.pt",r);var d=t.feature,p=t.disables||[],u=t.enables||[];p.length&&(t.feature=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={},s=0,o=Object.entries(t);s<o.length;s++){var r=i()(o[s],1)[0];n[r]=!(e.indexOf(r)>-1)}var c,d=q(a);try{for(d.s();!(c=d.n()).done;){var l=c.value;n.hasOwnProperty(l)||(n[l]=!0)}}catch(t){d.e(t)}finally{d.f()}return n}(d,p,u));var m=t.expParamsList;t.expParam=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return t.forEach((function(t){t.params.forEach((function(a){e["".concat(t.module_name,"_").concat(a.name)]=a.value}))})),e}(m),t.theme=t.theme||{},t.k=t.pvKey.slice(0,16),t.iv=t.pvKey.slice(16,32),t.isXhHitted=t.feature.safe_number,t.yxt=n.yx,t.yxtTitle=n.yxtTitle&&decodeURIComponent(n.yxtTitle),t.sdk="sdk"===n.from||n.rebound,t.n=parseInt(w.a.rn(),10),t.xiaohao=n.xiaohao,(t.xiaohao||t.rebound)&&(t.cancelCard=!0,t.message=[]);var h=null==t||null===(a=t.message)||void 0===a?void 0:a.findIndex((function(t){return"titleCard"===(null==t?void 0:t.type)}));if(h>-1&&(t.titleCard=t.message[h],t.message.splice(h,1)),t.originUrl=t.imlpUrl||g.a.formatUrl(location.href),t.wjzPageId&&(t.clientSourceExt=t.clientSourceExt||{},t.clientSourceExt.pageId=t.wjzPageId),"smart-app"===t.terminal&&C.a.isXcx()){t.smartprogram=!0;t.cancelEntrySite=t.cancelEntrySite||["home","list"].indexOf(t.clientSource)>-1;var T=S.a.apps||{},M=S.a.appKeyMap||{},I=T.cip&&T.cip.key===t.appKey;t.needBackH5=t.sdk&&("ad"===t.clientSource||I),t.needBackXcx=T.bcp.key===t.appKey&&t.clientSourceExt&&t.clientSourceExt.path&&t.clientSourceExt.appKey&&!M[t.clientSourceExt.appkey],t.needBack=t.needBackH5||t.needBackXcx,t.needBack&&(t.slideTags=t.slideTags||{},t.slideTags.position="viewBottom",t.slideTags.items=t.slideTags.items||[]);var B=function(){var t=["setting"],e=g.a.formatUrlSearch(document.referrer),a={};return t.forEach((function(t){var n=e[t];n&&(a[t]=n)})),a}();t.originUrl=g.a.formatUrl(t.imlpUrl||location.href,B,!0);var P=n.setting||k.a.encode(t.setting),L={},D=!1;["bfid","fid","ch","zjopen","setting"].forEach((function(e){var a=n[e];"setting"===e&&P?(t[e]=P,L[e]=P,D=!0):a&&(L[e]=a,D=!0)})),D&&(t.landpageurl=g.a.formatUrl(t.landpageurl,L),t.slideTags)}t.xiaohao=n.xiaohao,t.passBack="pass"===n.back,(t.xiaohao||t.passBack)&&(t.xhinfo.scene=f.b.BACK),t.slideTags&&t.slideTags.items&&Y(t.slideTags),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.source=4005===t.type||"4005"===t.type?t.source:"system",t.tag="card_sync"}))}(t.message),(t.xiaohao||t.passBack||t.rebound)&&(t.cancelCard=!0,t.message=[]);var O=t.feature.baozhang;t.showBaozhangInfo=O&&t.baozhangUrl,t.xyl=t.appid&&(0===t.appid.indexOf("xyl_ad")||0===t.appid.indexOf("xyl_cip")),t.zhidao=t.appid&&"ext_zhidao"===t.appid,t.popupSmallMessageList=[],t.welcomeWord&&t.popupSmallMessageList.push({type:"welcomWord",content:t.welcomeWord}),t.zhidao&&t.message&&t.message.length&&t.message.splice(1,0,w.a.getWelcomeInfo(t.welcomeWord)),t.feature.baozhang_btn=t.feature.baozhang_btn&&t.feature.huanran,t.baozhangUrlPlus=t.baozhangUrlPlus||t.baozhangUrl,t.feature.huanran||(t.baozhangUrlPlus=t.baozhangUrl),t.showBaozhangInfo&&(t.terminal!==U.terminal||t.feature.baozhang_btn?t.topData={text:b.a.getBaozhangBarInfo(t.feature),type:"baozhang"}:t.message.unshift(b.a.getBaozhang())),t.video&&t.message.unshift({type:"video",fixed:1,data:t.video,source:"system"}),t.light=t.baiduboxapp&&navigator.userAgent&&navigator.userAgent.indexOf("light")>-1,(t.switch&&t.light||t.terminal===U.terminal)&&(t.switch=t.switch||{},t.switch.Header=0);var E=history.pushState&&(!t.light||t.light&&history.length>1)&&(!t.smartprogram||t.needBackH5)&&0!==parseInt(n.detain,10)&&(!t.config||t.config&&0!==parseInt(t.config.detain,10));t.needDetentionModal=E;var _=t.contactNumber;t.contactNumber=g.a.formatContactNumber(_);var R=v.a.checkXhEnable(t.contactNumber);t.xhUseable=R;var N=t.feature.xhtest&&t.smartprogram;t.isXhTest=N,t.xhUseableAndIsXhTest=R&&N,t.logininback=n.logininback,t.rebound=n.hasOwnProperty("rebound")&&n.rebound||!1;var j=t.message||[],V=j[0]||{};if(t.tips){var F=b.a.getSystemMsgInfo({text:t.tips});t.message.unshift(F)}V.num=1,V.fixed=1,t.session.initMsg=j.length,t.session.total=j.length,t.fixedRefPrefix="imlp-chatview-fixed",t.fixed=!!t.video,t.isNeedScrollToBottom=!t.fixed;var A=g.a.getStorageInfo();t.cipTrack=function(t){var e,a="session",n=-1!==location.href.indexOf("storage=local")?"local":a,i=t&&t[n]?t[n]:{},s="imlp_csdk_paramsdata",o="";try{e=(e=(e=JSON.parse(i[s])).ext||{}).data||{}}catch(t){e=""}e&&(o=e.doctor||e.examination||e.title||"");return o}(A),n.mockUrl&&(n.mockUrl=decodeURIComponent(n.mockUrl),t.landpageurl=n.mockUrl,Y(t.slideTags,n.mockUrl)),n.mockBcpserver&&(t.bcpserver=n.mockBcpserver,t.xhinfo.url=n.mockBcpserver+"/static/xcx/index.html"),t.historySeq=history.length,t.initTime=(new Date).getTime(),t.kefuInputStatus=0;var X=t.manual_connect_strategy;X&&"string"==typeof X&&(t.autoConnectSource={auto:!0,send:!0},t.autoConnectSource[X]=!0),t.robotServiceModel=function(t){var e,a,n=g.a.formatLocationSearch(),i="";"2"===n.preview&&(i=n.conversationFlowType);switch(parseInt(i||(null==t||null===(e=t.cop_config_value)||void 0===e?void 0:e.conversationFlowType),10)){case 1:a=H.o.SELECTION_ROBOT;break;case 0:a=H.o.CONVERSATION_ROBOT;break;default:a=H.o.NORMAL}return a}(t.robot),t.typeboxConfig=function(t){var e,a,n,i,s,o,r,c,d=(null===(e=t.typeboxConfig)||void 0===e||null===(a=e.inputSuggest)||void 0===a?void 0:a.static)||[],l=[];null!==(n=t.weixin)&&void 0!==n&&n.solutionid&&l.push({type:"wechat",text:(null===(r=t.weixin)||void 0===r?void 0:r.buttonMessage)||"企业微信",highlight:!0,isOfficaleWechat:!0,show:!0,value:{type:"wechat",solutionid:null===(c=t.weixin)||void 0===c?void 0:c.solutionid}});null!=t&&null!==(i=t.expParam)&&void 0!==i&&i.imlp_imlp_order&&"H5"===t.client&&l.push({type:"popForm",text:"立即预约",highlight:!1,value:{type:"order"}});var p=-1;d.some((function(t,e){if("tel"===t.type)return p=e})),d.splice.apply(d,[p+1,0].concat(l));var u="1";null!==(s=t.typeboxConfig)&&void 0!==s&&s.inputSuggest&&(null==t||null===(o=t.expParam)||void 0===o?void 0:o.imlp_core_nav)===u&&"H5"===t.client&&(t.typeboxConfig.inputSuggestBackup={static:d},t.typeboxConfig.inputSuggest.static=[]);return t.typeboxConfig}(t),t.phoneInfo=function(){var e,a,n=(null===(e=t.typeboxConfig)||void 0===e||null===(a=e.inputSuggest)||void 0===a?void 0:a.static)||[];if(n)return n.find((function(t){return"tel"===t.type}))}()}}function Y(t,e){(t.items=t.items&&t.items.filter((function(t){return!!t})),e&&t)&&((t||{}).items||[]).forEach((function(t){"url"===t.type&&(t.value=e)}))}function J(t){var e;!t.isLiteBox&&Object(F.a)(),K(t),function(t){d.store.raw=t;var e=d.store._dispatch;d.store._dispatch=function(t,a,n){e.call(d.store,t,a,n),p.a.logFromStore(d.store,t,a)}}(t),function(t,e){p.a.init(t,e)}(t,u),p.a.logPageShow(),h.a.init(),m.a.initH5Action(),U.init(t);var a=new M.a;(null===(e=window.performance)||void 0===e?void 0:e.mark)&&window.performance.mark("beforeAttach"),a.attach(document.getElementById("app")),function(){if(performance&&performance.now){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,a=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);p.a.logPageDone(o()(d.store.getState("pageInfo"),{prefetch:!!d.store.getState("prefetch"),prerender:!!d.store.getState("prerender"),ios:a,android:e}))}}();var n=d.store.getState("baiduboxapp");!d.store.getState("baiduboxSwanApp")&&n&&function(){try{var t={type:"firstScreen",data:{firstScreenTime:(new Date).getTime()}},e=encodeURIComponent(JSON.stringify(t));window.location.href="baiduboxapp://performance/customFirstScreen?params="+e}catch(t){}}(),V.a.init(t.user_id);var i,s=d.store.getState("prerender");(p.a.log({type:"pv-before",from:"imlp",ext:{prerender:s,isPageInit:d.store.getState("page.init"),isLite:t.isLiteBox}}),s)?window.addEventListener("message",(function(t){var e=t.data||{};if(e.event){var a=d.store.getState("page.init");"prerender-page-active"===e.event&&(d.store.dispatch("prerender","active"),!a&&m.a.init())}})):(null!==(i=navigator)&&void 0!==i&&i.userAgent&&t.isHideLocalPhone&&(t.performanceLogRatio=1),function(t){var e,a=t.logRatio,n=t.serviceAvatar;null===(e=window.performance)||void 0===e||!e.getEntriesByName||Math.random()>a||window.addEventListener("load",(function(){setTimeout((function(){if(!(window.performance.getEntriesByType("paint").length<2)){var t=window.performance.timing;if("function"==typeof window.PerformanceNavigationTiming)try{var e=performance.getEntriesByType("navigation")[0];e&&(t=e)}catch(t){}var a=t,i={fetchStart:a.fetchStart,requestStart:a.requestStart,responseStart:a.responseStart,responseEnd:a.responseEnd,domInteractive:a.domInteractive,domContentLoadedEventEnd:a.domContentLoadedEventEnd,loadEventStart:a.loadEventStart,transferSize:a.transferSize},s=function(t){return performance.getEntriesByName(t)[0].startTime};i.layout=s("layout"),i.init=s("init"),i.beforeAttach=s("beforeAttach"),i.ChatViewAttached=s("ChatViewAttached"),i.AppAttached=s("AppAttached"),i.FP=performance.getEntriesByType("paint")[0].startTime,i.FCP=performance.getEntriesByType("paint")[1].startTime;var o={},r=/\/([\w~]+).(bundle|chunk).min/,c=/imlpstyle.(\w+).min/,d=/img\/(common\/)?([\w-]+)./,l=[];performance.getEntriesByType("resource").forEach((function(t){var e=t.transferSize,a=t.fetchStart,i=t.responseEnd;if("script"===t.initiatorType&&r.test(t.name)){var s=r.exec(t.name)[1];"commons"===s&&(s="common"),o["js_".concat(s)]={transferSize:e,fetchStart:a,responseEnd:i}}else if("link"===t.initiatorType&&t.name.includes("css/imlpstyle")){var p=c.exec(t.name)[1];"commons"===p&&(p="common"),o["css_".concat(p)]={transferSize:e,fetchStart:a,responseEnd:i}}else if(t.name.includes("//imlp-static.cdn.bcebos.com/img/")){var u=d.exec(t.name)[2];t.imgName=u,l.push(t)}else t.name===n&&(o.service_avatar={transferSize:e,fetchStart:a,responseEnd:i})}));var u=0,m=0,h=0,g=l.map((function(t){return u+=t.transferSize,m+=t.fetchStart,h+=t.responseEnd,t.imgName})),f=l.length,v={transferSize:u/f,fetchStart:m/f,responseEnd:h/f,imgName:g};p.a.log({type:"performance",from:"imlp",content:i}),p.a.log({type:"performance_resource",from:"imlp",content:o,ext:{img:v}})}}),2e3)}))}({logRatio:t.performanceLogRatio||Number(d.store.getState("expParam.imlp_performance_log_ratio"))||.01,serviceAvatar:t.service.avatar}),m.a.init())}a(345);var Q,Z=a(47);(null===(Q=window.performance)||void 0===Q?void 0:Q.mark)&&window.performance.mark("init"),window.imlpapp=function(t){J(t)},Object(Z.a)(J)}]),[[1381,1,0]]]);