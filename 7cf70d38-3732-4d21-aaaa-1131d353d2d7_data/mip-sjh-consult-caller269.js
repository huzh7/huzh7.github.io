!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["mip-sjh-consult-caller"]=e():(t.groot=t.groot||{},t.groot["mip-sjh-consult-caller"]=e())}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=3902)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,c){var u,s="function"==typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=u):o&&(u=c?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var l=s.render;s.render=function(t,e){return u.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:s}}n.d(e,"a",(function(){return r}))},1:function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/([A-Z])/g,"".concat(e,"$1")).toLowerCase()}},105:function(t,e,n){"use strict";e.a={computed:{pageId:function(){return(this.$loki.getData("pageConfig")||{}).pageid||null}}}},108:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return l}));var r="mip-sjh-consult-caller-half-screen-status-change",o="ym_dz_consult_event",i={NORMAL_LOG:"sendNormalLog",COV_LOG:"sendConversionLog",UNREAD:"receiveUnreadMessage",SHOW_MSG:"showMessage",CLOSE_MSG:"closeMessage",MESSAGE_BAR_INTERACTICE_LOG:"messageBarInteractive"},a={INVITE_MSG:"inviteMessage",UNREAD_MSG:"unreadMessage",FIXED_INVITE_MSG:"fixedInviteMessage"},c={IMAGE:"clickImage",CONTENT:"clickContent",BUTTON:"clickButton"},u="mip-sjh-consult-caller-message-bar-manual-close",s={AUTO_HIDDEN:"sjh-consult-black-notice-auto-hidden",SHOW:"sjh-consult-black-notice-show",CLOSE:"sjh-consult-black-notice-close",CLICK:"sjh-consult-blank-imlp-black-notice-click"},l={IMLP_STATE_OPEN:"open",IMLP_STATE_CLOSE:"close",IMLP_STATE_SMALL:"small"}},11:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(6),o=n(1),i=n(12);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).reduce((function(n,r){var i=Object(o.a)(r);if(!t.hasOwnProperty(r)&&!t.hasOwnProperty(i)){var a=e[r],c="function"==typeof a.default?a.default():a.default;n[i]=c}return n}),{});return c(c({},n),t)},l=function(t){if(t&&"[object Object]"===t.toString()){var e={};for(var n in t)t.hasOwnProperty(n)&&(/^[a-zA-Z]/.test(n)?(e[Object(r.a)(n)]=t[n],e[Object(o.a)(n)]=t[n],e[n]=t[n]):e[n]=t[n]);return e}return t||{}};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{mixins:[Object(i.a)(e)],props:{properties:{type:Object,default:function(){return{}}}},computed:{$properties:function(){return l(s(this.properties,t))}},methods:{$getLocalProperties:function(e){var n=this,i=function(e){var i=Object(r.a)(e),a=Object(o.a)(e);if(n.properties.hasOwnProperty(a))return n.properties[a];if(n.properties.hasOwnProperty(i))return n.properties[i];if(t.hasOwnProperty(i)){var c=t[i].default;return"function"==typeof c?c():c}return null};return"string"==typeof e?i(e):e instanceof Array?e.map((function(t){return i(t)})):void 0}}}}},111:function(t,e,n){"use strict";function r(t){return(t=t||"").indexOf("urlType")>-1||t.indexOf("ada.baidu.com")>-1}n.d(e,"a",(function(){return r}))},118:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var r={expInfo:{expId:"95489-1",debugParam:"globalDetain",expStageParam:"95489_params"},userEmail:"litingting17",desc:"挽留弹窗优化",startTime:"20221027",endTime:"20221127"},o={expInfo:{expId:"95495-1",debugParam:"localProductCta",expStageParam:"95495_params"},userEmail:"litingting17",desc:"本地产品页CTA",startTime:"20221011",endTime:"20221111"},i={expInfo:{expId:"96188-1",debugParam:"ctaAndConsult",expStageParam:"96188_params"},userEmail:"litingting17",desc:"CTA与咨询邀请展现频次",startTime:"20221027",endTime:"20221127"}},12:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(t){return{computed:o({},(e=t,n={},e?(e instanceof Array&&(n=e.reduce((function(t,e){return t[e]=function(){var t=null;return this.$properties&&this.$properties.hasOwnProperty(e)?t=this.$properties[e]:this.properties&&this.properties.hasOwnProperty(e)&&(t=this.properties[e]),t},t}),{})),n):n))};var e,n}},120:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u}));var r=4e3,o={0:"hao",1:"hao",2:"hao",3:"feed",4:"fc",5:"baiyi",6:"feed",7:"other",12:"other",255:"other",50:"bjh",51:"jmy_seo_list",52:"bd_map",54:"dasou_seo",48:"jmy_seo1",49:"dxx",43:"kaiping",63:"bd_my_banner",64:"push",65:"feed_yunying",66:"bd_my_notify",67:"dxx_daren",68:"search_huichang",69:"in_station"},i={smallHalf:"89765-1",onlySmallHalf:"89765-2"},a={expInfo:{expId:i.smallHalf,debugParam:"smallHalf",expStageParam:i.smallHalf.replace("-1","_params")},userEmail:"zhangzhenlin01",desc:"咨询新半屏",startTime:"20220804",endTime:"20221031"},c={expInfo:{expId:i.onlySmallHalf,debugParam:"smallHalf",expStageParam:i.onlySmallHalf.replace("-2","_params")},userEmail:"zhangzhenlin01",desc:"咨询新半屏-只有收起态",startTime:"20220804",endTime:"20221031"},u={none:0,show:1}},125:function(t,e,n){"use strict";n.d(e,"o",(function(){return r})),n.d(e,"n",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"q",(function(){return s})),n.d(e,"p",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"j",(function(){return v})),n.d(e,"a",(function(){return y})),n.d(e,"s",(function(){return b})),n.d(e,"r",(function(){return w})),n.d(e,"k",(function(){return I}));var r=2,o=4,i="mip-sjh-trans-form-blank",a="mip-sjh-coupon",c="mip-sjh-clue-bar",u="mip-sjh-trans-fixed-bar-blank-common",s="mip-sjh-phone",l="mip-sjh-consult-blank",f="mip-store-ads-fixed-bar",d="mip-sjh-wechat",p="GtLocalH5ClueBar",h=["gt-jmy-h5-consult-bubble","gt-jmy-h5-consult-bullet-screen",l],m=[i,s,a,c,f,p].concat(h),g="local_head_image_viewer_close_to_cta",v="detentionPopupEvent",y="closeLevel5LayerFromDetain",b="sjh-form-new-adaptive",w="sjh-form-adaptive",I=["sjh-form-basic","sjh-form-calculator","sjh-form-dialog","sjh-form-pay","sjh-form-two","sjh-form-one","sjh-form-three","sjh-form-four",b,w]},138:function(t,e,n){"use strict";e.a={computed:{appId:function(){return this.$loki.getData("pageConfig").appid||null}}}},14:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r="SITE_COMP_CLICK",o="SITE_COMP_SHOW",i=["SITE_BAR_CLICK",r,"SITE_TO_IMLP","SITE_REQ_RECV",o,"SITE_ACTIVITY_CLICK","SITE_PAGE_SHOW"],a={SITE_BAR_CLICK:"SITE_BAR_CLICK",SITE_COMP_CLICK:r,SITE_TO_IMLP:"SITE_TO_IMLP",SITE_REQ_RECV:"SITE_REQ_RECV",SITE_COMP_SHOW:o}},142:function(t,e,n){"use strict";e.a=function(t,e){var n=(t.getData("pageConfig")||{}).siteConfig;return n&&n.pageStyle&&n.pageStyle.theme?n.pageStyle.theme[e]:null}},147:function(t,e,n){"use strict";e.a={computed:{siteId:function(){return(this.$loki.getData("pageConfig")||{}).siteid||null}}}},16:function(t,e,n){"use strict";e.a={computed:{isEditor:function(){var t=this.$loki,e=t.getData("pageConfig")||{},n=e.siteid,r=e.pageid,o="editor"===(t.getData("env")&&t.getData("env").platform)||0===n&&0===r;return o}}}},161:function(t,e,n){"use strict";function r(t){return t.getServiceSync&&t.getServiceSync("jmy-layer-controller")?t.getServiceSync("jmy-layer-controller"):t.getData("layerControllerInstance")}n.d(e,"a",(function(){return r}))},18:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"u",(function(){return i})),n.d(e,"p",(function(){return a})),n.d(e,"q",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"t",(function(){return s})),n.d(e,"m",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"r",(function(){return d})),n.d(e,"n",(function(){return p})),n.d(e,"s",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"B",(function(){return v})),n.d(e,"A",(function(){return y})),n.d(e,"g",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"o",(function(){return I})),n.d(e,"i",(function(){return O})),n.d(e,"j",(function(){return j})),n.d(e,"y",(function(){return _})),n.d(e,"x",(function(){return E})),n.d(e,"w",(function(){return S})),n.d(e,"k",(function(){return P})),n.d(e,"v",(function(){return x})),n.d(e,"z",(function(){return L})),n.d(e,"a",(function(){return T}));var r=375,o=16,i=",",a="https://fe-resource.cdn.bcebos.com/groot/modulesComp/pc-article-list-empty.png",c=5,u="exp",s="revert",l="imlp-sdk-init",f="IMLP_SDK_GLOBAL_OPTIONS",d="release_lock",p="lock_layer",h=1e3,m="consult-unread-and-invite-message",g="consult-will-show-message",v="66013-1",y="ym_consult_bar_3.0",b={HORIZONTAL:"horizontal",VERTICAL:"vertical"},w="contentCenterBtnBubble",I=[539,544,661,662,663,664,31478,1522],O=/(.*?)=(.*)/,j={PC:"https://baozhang.baidu.com/",H5:"https://baozhang.baidu.com/guarantee-wise/#/home?from=JMY"},_="touchstart",E="touchmove",S="touchend",P="imgType",x="textType",L="widgetsAnimationEvent",T="aiuxChildComPlayEvent"},188:function(t,e,n){"use strict";e.a={computed:{templateId:function(){return(this.$loki.getData("pageConfig")||{}).templateId||null}}}},19:function(t,e,n){"use strict";var r=n(25);e.a={computed:{query:function(){return this.$loki.router&&this.$loki.router.route&&this.$loki.router.route.query||{}}},methods:{$getQuery:function(t){var e=this;if(Array.isArray(t)){var n={};return t.map((function(t){n[t]=e.$getQuery(t)})),n}return this.$loki.router&&this.$loki.router.route&&this.$loki.router.route.query&&this.$loki.router.route.query[t]||""},$getDecodeQuery:function(t){return Object(r.a)(this.$getQuery(t))}}}},2:function(t,e,n){"use strict";function r(t){if(!t)return{};for(var e={},n=(t.startsWith("?")?t.replace("?",""):t).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");e[o[0]]=o[1]}return e}n.d(e,"a",(function(){return r}))},21:function(t,e,n){"use strict";var r=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function p(){}function h(){}function m(){}var g={};s(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&n.call(y,a)&&(g=y);var b=m.prototype=p.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){var r;this._invoke=function(i,a){function c(){return new e((function(r,c){!function r(i,a,c,u){var s=f(t[i],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==o(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(d).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}(i,a,r,c)}))}return r=r?r.then(c,c):c()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=m,s(b,"constructor",m),s(m,"constructor",h),h.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(I.prototype),s(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){a(i,r,o,c,u,"next",t)}function u(t){a(i,r,o,c,u,"throw",t)}c(void 0)}))}}e.a={computed:{ACTION_MAPS:function(){return r.b}},methods:{$addLog:function(t,e){var n=arguments,o=this;return c(i().mark((function a(){var c,u,s,l,f,d,p,h,m,g,v;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c=n.length>2&&void 0!==n[2]?n[2]:1,u=n.length>3&&void 0!==n[3]?n[3]:"",o.$loki&&o.$loki.getLogger&&"function"==typeof o.$loki.getLogger){i.next=4;break}return i.abrupt("return",Promise.reject("this.$loki.getLogger is not a function"));case 4:if(t||"workspace"!==o.$loki.getData("env")){i.next=6;break}return i.abrupt("return",Promise.reject("widgetInfoId in $addLog is required"));case 6:return i.next=8,o.$loki.getLogger(t);case 8:s=i.sent,l=s.addUserDefinedLog,f=s.configOfLogAction,d=s.addTelLog,p=s.addImlpLog,h=s.addCustomFirstScreenLog,m=s.addSmsLog,g=s.addConsultLog,v=s.addFormLog,"consult"===u&&p(e),"imlp"===u&&g(e),"book"===u?v(e):"callback"===u||"phone"===u?d(e):"fmp"===u?h():"sms"===u?m():l({actionId:f.actionIdForDeveloper[r.a[c]],userExtra:e||{}});case 13:case"end":return i.stop()}}),a)})))()},$sendLog:function(t){var e=this;return c(i().mark((function n(){var o,a,c,u,s,l,f,d,p,h;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.widgetInfoId,a=t.actionId,c=void 0===a?r.c:a,u=t.compTargetId,s=void 0===u?"":u,l=t.userExtra,f=void 0===l?{}:l,d=t.kind,p=void 0===d?"":d,h=r.a.indexOf(c),s&&(f.compTargetId=s),n.abrupt("return",e.$addLog(o,f,h,p));case 4:case"end":return n.stop()}}),n)})))()}}}},24:function(t,e,n){"use strict";function r(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[],n=0;n<t;n++)e.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return e.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(new Date).valueOf().toString();return["4b534c47",r(4),"4"+r(3),r(4),t.substring(0,12)].join("-")}},25:function(t,e,n){"use strict";e.a=function(t){try{return decodeURIComponent(t)}catch(e){return t}}},26:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function p(){}function h(){}function m(){}var g={};s(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&n.call(y,a)&&(g=y);var b=m.prototype=p.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){var o;this._invoke=function(i,a){function c(){return new e((function(o,c){!function o(i,a,c,u){var s=f(t[i],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==r(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(d).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}(i,a,o,c)}))}return o=o?o.then(c,c):c()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=m,s(b,"constructor",m),s(m,"constructor",h),h.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(I.prototype),s(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)}))}}e.a={methods:{$addCustomErrorLog:function(){var t=arguments,e=this;return s(o().mark((function n(){var r,i,c,u,s,l,f,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:"",i=t.length>1&&void 0!==t[1]?t[1]:{},n.next=4,e.$loki.getLogger(r);case 4:c=n.sent,u=i.errorKey,s=i.error,l=i.userExtra,f={id:"lack-widget-id",name:"lack-widget-id",type:"lack-widget-id",title:"lack-widget-id"},d={errorKey:u,error:s,userExtra:void 0===l?{}:l},r||(d=a(a({},f),d)),c.addCustomErrorLog(d);case 10:case"end":return n.stop()}}),n)})))()}}}},3902:function(t,e,n){t.exports=n(6947)},5:function(t,e,n){"use strict";function r(t,e){return"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/".concat(t).concat(e,".js")}n.d(e,"a",(function(){return f}));var o=["offline","preonline","online","local"],i=o[0],a=o[1],c=o[2],u=o[3],s={"preview-sjh-offline.baidu.com":i,"sjh-offline.baidu.com":i,"sjh-preonline.baidu.com":a,"offline.wejianzhan.com":i,"wttest.baidu.com":i,"dev.wttest.baidu.com":i,"preview-sjh-preonline.baidu.com":a,"preonline.wejianzhan.com":a,"preview-sjh.baidu.com":c,"isite.baidu.com":c,"sjh.baidu.com":c,"wutong.baidu.com":c,localhost:u,"fmtest.baidu.com":i,"kaidian-offline.baidu.com":i,"kaidian-preonline.baidu.com":a,"kaidian.baidu.com":c,"audit-sjh-offline.baidu.com":i,"audit-sjh-preonline.baidu.com":a,"audit-sjh.baidu.com":c,"groupoffline.wejianzhan.com":i,"grouppreonline.wejianzhan.com":a};function l(t,e){var n=new RegExp(t+"=([^?&=]*)").exec(e);return n&&decodeURIComponent(n[1])}function f(t,e){var n=document.location||{},f=n.port,d=n.search,p=function(t,e){var n=l("mockEnv",e);return n&&o.includes(n)?n:s[t]}(n.hostname,d);return document.children&&document.children[0]&&""===document.children[0].getAttribute("sp")?"./".concat(t,".js"):p===i?function(t,e){return"https://duzhanread.bj.bcebos.com/jianzhan_widget/loki/".concat(t).concat(e,".js")}(t,e):p===a?function(t,e){return"https://duzhanread.bj.bcebos.com/jianzhan_widget_lokijs/online_head/".concat(t).concat(e,"/").concat(t).concat(e,".js")}(t,e):p===c?r(t,e):p===u||+f>80?function(t,e,n){return e=e||window.location.hostname,n=n||8858,"http://".concat(e,":").concat(n,"/").concat(t,"/").concat(t,".js")}(t,l("m_widgetEnv",d)||l("mockHost",d),l("mockPort",d)):r(t,e)}},507:function(t,e,n){"use strict";e.a={computed:{widget:function(){var t=this;if(!this.widgetInfoId)return{};var e=this.$loki.getData("pageConfig").widgets;return e&&e.length&&e.filter((function(e){return e.widgetInfoId===t.widgetInfoId}))[0]||{}}}}},51:function(t,e,n){"use strict";e.a={computed:{userId:function(){return this.$loki.getData("userid")||null},userid:function(){return this.userId}}}},514:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return l}));var i=["xyl_cip","cip","zsyx","wjz","zcm","service_mall","local","ym_yxy"],a=[15,8],c="xyl_cip",u="cip",s="bdxd";function l(t){if(!t)return{};var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.appid===s||(a.includes(e.appid)?e.appid=c:i.includes(e.appid)||(e.appid=u)),e}},6:function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=new RegExp("\\".concat(e,"([a-zA-Z])"),"g");return t.replace(n,(function(t,e){return e.toUpperCase()}))}},60:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(21),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{mixins:[r.a],methods:{$hasHitExp:function(e){if(!this.$loki.getServiceSync)return this.$sendLog({widgetInfoId:this.widgetInfoId,compTargetId:"abtest_get_service_func_err"}),!1;var n=this.$loki.getServiceSync("jmy-abtest-controller");if(!n)return this.$sendLog({widgetInfoId:this.widgetInfoId,compTargetId:"abtest_get_service_value_err"}),!1;var r=n.registerExp(t,this)[e];return r?this.$loki.getServiceSync("jmy-abtest-controller").hasHitExp(r,e):(console.log("未在名单内，请检查参数"),!1)}}}}},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c}));var r="9000 !important",o="10000 !important",i="12000 !important",a="13000 !important",c={L1:r,L2:o,L3:"11000 !important",L4:i,L5:a,L6:"14000 !important"}},6947:function(t,e,n){"use strict";n.r(e);var r=n(7),o=n(11),i=n(507),a=n(21),c=n(138),u=n(51),s=n(147),l=n(105),f=n(188),d=n(16),p=n(60),h=n(19),m=n(26),g=n(111);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n={};for(e.push({target:t,res:n});e.length;){var r=e.pop(),o=r.target,i=r.res;for(var a in o)"object"===v(o[a])?(i[a]={},e.push({target:o[a],res:i[a]})):i[a]=o[a]}return n},b=n(142),w=n(18),I=n(108),O=n(120),j=n(118),_=n(96),E=function(){return{solutionId:{type:String,default:""}}},S=[{expInfo:{expId:w.B,debugParam:w.A},userEmail:"renhao02",desc:"医美3.0咨询交互试验",startTime:"20210322",endTime:"20300101"},j.a,O.d,O.e,j.b],P=[269,299],x=[48,51],L=["aisite.wejianzhan.com","sjh.baidu.com","isite.baidu.com","qianhu.wejianzhan.com"],T=n(2);function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imUrl,n=void 0===e?"":e,r=Object(T.a)(n.split("?")[1]),o=t.imid||r.imid;return!!o}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imUrl,n=void 0===e?"":e,r=n.split("?").length>1?n.split("?")[1]:"",o=Object(T.a)(r);return t.imid||o.imid},M=function(t){var e=t.imid,n=t.level1,r=void 0===n?"":n,o=t.level2,i=void 0===o?"":o,a=t.level3,c=void 0===a?"":a,u=t.im_type,s=void 0===u?"":u;return[e||$(t)||"",r,i,c,s].join("_")},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=t.$sendLog,o=t.$properties,i=t.widget,a=t.imParam,c=t.parentWidgetMoldName,u=o.url,s=o.solutionId,l=o.solutionType,f=a.adviceType,d=a.imlpAccessId,p=e.compTargetId,h=e.mergeWidgetName;r({widgetInfoId:n,kind:"consult",userExtra:{target:u,solutionId:s,solutionType:l,compTargetId:h?"".concat(i.name,"-").concat(p):p,adviceType:f,imlpId:d,parentWidgetMoldName:c}})};function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var G=function(t,e){var n=e.getData("showTopNotifyBar");return t&&n&&"object"===H(t)&&(t.inviteSwitch=1),t},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=void 0===n?"":n,o=e.params,i=void 0===o?{}:o;t.$addCustomErrorLog(r,{errorKey:"consult-blank-call-imlp-error",userExtra:{params:i}})},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=void 0===n?"":n,o=e.params,i=void 0===o?{}:o;t.$addCustomErrorLog(r,{errorKey:"consult-caller-imlp-init-error",userExtra:{params:i}})},U=n(161),z=/<.*?>/gi;var F=n(125);function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"btn",r=e.isShallowAction,o=void 0===r||r,i=e.isDeepAction,a=void 0!==i&&i,c=e.isDetained,u=void 0!==c&&c,s=e.widgetInfoId,l=void 0===s?"":s,f=e.solutionId,d=void 0===f?"":f;t.emitEvent(F.j,!0,{type:"consult",isShallowAction:o,isDeepAction:a,isDetained:u,widgetInfoId:l,solutionId:d,extra:{actionSource:n}})};function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q={},X=[],Z=!1,tt=null,et=null,nt=!1,rt=1,ot=0;function it(t,e,n,r,o,i,a,c){var u=r(w.B)&&e.getData("pageConfig").widgets.findIndex((function(t){return"mip-ym-trans-fixed-bar"===t.type}))>-1,s=r(j.a.expInfo.expId);if(Z)return Z;var l=function(t){var n={action:I.c.UNREAD,imlpAccessId:e.getData("currentHalfConsult"),count:+t>99?"99+":String(t)};Z.unLockEvent(n),e.emitEvent(I.b,!1,n)},f=function(){e.emitEvent(I.b,!1,{action:I.c.CLOSE_MSG})},d=function(){clearTimeout(tt),clearTimeout(et),tt=null,et=null},p=function(t){var n;t.message=(n=t.message)&&"string"==typeof n?n.replace(z,""):n,e.emitEvent(I.b,!1,{action:I.c.SHOW_MSG,msg:J(J({},t),{},{unreadCount:ot})})},h=function(t){var n=t.isHasNotifyBar,r=t.isHasMessageBar,o=t.layerInstance,i=t.isHasCta,a=t.msg;n||r||o.checkShowLayerCondition()?p(a):(i&&(o.closeGlobalModal(4,!0),e.emitEvent(w.r,w.c),p(a)),setTimeout((function(){X=[].concat(X,a),d()}),0))},m=function(t){var n=(t||{}).messageType,r=!!document.getElementById("message-bar"),o=!!document.getElementById("notify-bar"),i=document.getElementsByClassName("cta-trans-container")[0],a={isHasNotifyBar:o,isHasMessageBar:r,layerInstance:Object(U.a)(e),isHasCta:i,msg:t};if(s&&n!==I.f.UNREAD_MSG){var c=(e.getServiceSync("animationFlow")||{}).checkCurAnimationFlow,u=c&&c({compName:"GtJmyH5ConsultTopNotifyBar",durationTime:5e3,isLimitTimes:!0}),l=u.show,f=u.delay;l?setTimeout((function(){h(a)}),f):p(J(J({},t),{},{hideInviteAnimate:!0}))}else h(a)},g=function(){return e.getData("currentHalfConsult")||e.getData("currentPageConsult")},v=e.getData("showTopNotifyBar");return Z={unLockEvent:function(t){Q[JSON.stringify(t)]=!0},isEventUnlock:function(t){return Q[JSON.stringify(t)]},lockEvent:function(t){Q[JSON.stringify(t)]=!1},pushMessage:function(t){X=[].concat(X,t)},sendUnreadMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r&&(nt=r),d(),!X.length||e.getData(I.e)>=3||(n&&(t=0),tt||(tt=setTimeout((function(){m(X[0]),nt?X.splice(0,1):X=[],n||(et=setTimeout((function(){d(),f(),Z.sendUnreadMessage(5e3)}),5e3))}),t)))},clearUnreadMessage:function(){X=[],nt=!1,d(),f(),l(0)}},t.on("imlpState",(function(t){4==+t&&Z.clearUnreadMessage()})),t.on("unreadMessage",(function(t){nt=!1;var n=t.count,r=void 0===n?0:n,o=t.unread,i=void 0===o?[]:o;r&&c({compTargetId:"imlp_unread_trigger_log",unreadCount:r}),X=(X=i.map((function(t){return{message:"image"===t.content_type?"[图片]":t.content,showTopNotifyBar:v,messageType:I.f.UNREAD_MSG,imlpAccessId:g()}}))).filter((function(t){return"string"==typeof t.message})),u?e.emitEvent(I.h,!0,{type:"unread",msg:X}):(Z.sendUnreadMessage(0),l(r))})),t.on("inviteMessage",(function(t){if(t&&t.content){if(X=[{message:t.content,showTopNotifyBar:v,messageType:I.f.INVITE_MSG,imlpAccessId:g()}],u)return e.emitEvent(I.h,!0,{type:"manual",msg:X,manualSeq:rt}),void rt++;Z.sendUnreadMessage(0)}})),t.on("popupStateChange",(function(t){var n=e.getData("currentHalfConsult");if(n){var r=null;"small"===t.state?(r={action:I.c.NORMAL_LOG,compTargetId:"sjh-consult-blank-imlp-half-scree-small",imlpAccessId:n},u?e.emitEvent(I.h,!0,{type:"hs_small"}):Z.clearUnreadMessage()):"open"===t.state?(Y(e,{widgetInfoId:i,solutionId:a},"open"),r={action:I.c.NORMAL_LOG,compTargetId:"sjh-consult-blank-imlp-half-scree-open",imlpAccessId:n},u?e.emitEvent(I.h,!0,{type:"hs_open"}):Z.clearUnreadMessage()):"close"===t.state&&(r={action:I.c.NORMAL_LOG,compTargetId:"sjh-consult-blank-imlp-half-scree-close",imlpAccessId:n},u?e.emitEvent(I.h,!0,{type:"hs_close"}):Z.sendUnreadMessage(5e3)),r&&(Z.unLockEvent(r),e.emitEvent(I.b,!1,r))}})),t.on("entrySiteSuccess",(function(t){o(t)})),e.onEvent(I.b,(function(t){t.action===I.c.UNREAD&&(ot=t.count),t&&t.action===I.c.MESSAGE_BAR_INTERACTICE_LOG&&t.imlpAccessId&&Z.unLockEvent(t)})),e.onEvent(w.r,(function(t){t!==w.b&&setTimeout((function(){u||Z.sendUnreadMessage(0)}),w.s)})),Z}var at=n(66),ct=n(24),ut=n.n(ct),st=n(514);function lt(t){if(window.document.referrer.match(/^https:\/\/m.baidu.com\/baidu.php\?[sc.|url=].*/i))return localStorage.removeItem("imChannel"),localStorage.setItem("imChannel","fc"),"fc";var e=localStorage.getItem("imChannel");return t?"fc":e||"other"}function ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.userId,r=e.channel,o=e.fid,i=e.ch,a=e.localPageType,c=e.shopId,u=e.merchantId,s=e.spuId,l=e.productId,f=e.appid,d=e.tradeid,p=e.clientSource,h=e.wid,m=t.split("?")[0],g=Object(T.a)(t.split("?")[1]),v={level1:g.exUserId,level2:g.siteId,level3:g.groupId,adviceType:g.adviceType,im_type:g.adviceType,imlpAccessId:ut()(),channel:r?O.a[r]||"other":"",imUrl:"".concat(m,"?imid=").concat(g.imid),appid:f,ucid:n,fid:o,ch:i,localPageType:a,shopId:c,merchantId:u,spuId:s,productId:l,clientSource:p,wid:h};return(v=Object(st.a)(v)).channel||(v.channel=lt(e.bd_vid)),void 0!==d&&(v.tradeid=d),v}var dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.guide,r=void 0===n?{}:n,o=t.fixed,i=void 0===o?{}:o,a=r.show,c=i.type,u="right"===c,s="bottom"===c,l=!!t.fixed&&(u||s);return a?s?0:1:l?s?2:3:e?4:5},pt={"mip-sjh-consult-blank":function(t){return Object(g.a)(t.url)?{url:t.url,solutionId:t.solutionId||t["solution-id"],rank:dt(t,!0)}:null},GtJmyH5ConsultBubble:function(t){return Object(g.a)(t.url)?{url:t.url,solutionId:t.solutionId||t["solution-id"],rank:dt(t,!0)}:null},GtJmyH5ConsultBulletScreen:function(t){return Object(g.a)(t.url)?{url:t.url,solutionId:t.solutionId||t["solution-id"],rank:dt(t,!0)}:null},"mip-sjh-trans-fixed-bar-blank-common":function(t){var e=(t.consult instanceof Array?t.consult:[]).filter((function(t){return Object(g.a)(t.url)&&t.show}));return e.length?{url:e[0].url,solutionId:e[0].solutionId,rank:dt(t)}:null},"mip-sjh-clue-bar":function(t){var e=t.datasource.filter((function(t){return"consult"===t.type&&t.data&&Object(g.a)(t.data.url)}));return e.length?{url:e[0].data.url,solutionId:e[0].data.solutionId,rank:dt(t)}:null},"mip-ym-trans-fixed-bar":function(t){var e=t["data-arr"].filter((function(t){return"consult"===t.type&&t.url&&Object(g.a)(t.url)}));return e.length?{url:e[0].url,solutionId:e[0]["solution-id"],rank:dt(t)}:null},"gt-jmy-h5-consult-half-bottom":function(t){return Object(g.a)(t.url)?{url:t.url,solutionId:t.solutionId||t["solution-id"],rank:dt(t,!0)}:null}};function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=null;function yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at.c,r=arguments.length>3?arguments[3]:void 0,o=mt(mt({},t.imlpBaseOptions),{},{jointExpTag:"jmy-half-screen",theme:t.theme,openType:{type:1,multiIM:!0,switch:{phoneLayer:!1,unreaessage:!1},zIndex:+String(n).split(" ")[0],initDelay:r?0:e,initState:"small",stateConfig:{close:{disable:!0,bottom:0},small:{disable:!0,bottom:r?-400:0},open:{disable:!0,bottom:0}},noSmall:r}});return o}function bt(t,e,n,r,o,i){var a=null,c=null,u=null;if(r){var s=r.autoEjectAble,l=r.autoEjectTime,f=void 0===l?0:l,d=r.defaultConsult,p=void 0===d?{}:d;a=s,c=f,u=p&&p.imlpUrl}else if(1117==+n.templateId);else{var h=e.getData("pageConfig");a=h.extData.consultStyle.autoOpen||i,c=i?0:h.extData.consultStyle.stayTime;var m=function(t){return t.widgets.reduce((function(t,e){var n=pt[e.name]?pt[e.name](e.properties):null;return n?t?n.rank<t.rank?n:t:n:t}),null)}(h)||{};u=m.url}var g,v,y,b,w,I,O=(g=n.ch,y=(null===(v=location)||void 0===v?void 0:v.host)||"",b=K(x,2),w=b[0],I=b[1],L.includes(y)&&g>=w&&g<=I);if(a&&u&&!O){var j=ft(u,n),_=G(j,e),E=gt({},j.imlpAccessId,{imParam:_}),S=yt(n,1e3*c,at.c,i);vt.autoOpenConsult=new Promise((function(n,r){t.on("ready",(function(){t.init(E,S,j.imlpAccessId),e.setData({currentHalfConsult:j.imlpAccessId}),o(E),n({imParam:j,consultUrl:u})}))}))}}function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt={name:"mip-sjh-consult-caller",mixins:[Object(o.b)(E(),Object.keys(E())),Object(r.a)({"mip-sjh-imlp-sdk":{filename:"mip-sjh-imlp-sdk",appid:99}}),c.a,u.a,s.a,l.a,f.a,a.a,h.a,d.a,i.a,Object(p.a)(S),m.a],props:{widgetInfoId:{type:[Number,String],default:0},properties:{type:Object,default:function(){return{}}},customConsultGlobalConfig:{type:Object,default:null}},computed:{isHalfScreen:function(){var t=this.customConsultGlobalConfig;if(t&&t.isHalfScreen)return!0;if(1117==+this.templateId){var e=this.$loki.getData("pageConfig").widgets.filter((function(t){return"mip-medical-fix-trans-bar"===t.name}))[0];return!!(e&&e.properties["__biz-type__"]&&e.properties["__biz-type__"].indexOf(3001)>-1)}var n=this.$loki.getData("pageConfig").extData;return!(!n||!n.consultStyle)&&("half_screen"===n.consultStyle.type||void 0===n.consultStyle.type)},imlpBaseOptions:function(){return{thirdTrack:!0,openType:0,pageId:this.pageId}},imlpBaseInitParam:function(){var t,e=Object(b.a)(this.$loki,"--groot-ui-color-brand-7")||(null==this||null===(t=this.customConsultGlobalConfig)||void 0===t?void 0:t.themeColor),n=this.properties||{},r=n.localPageType,o=n.shopId,i=n.merchantId,a=n.spuId,c=n.productId,u=n.appid,s=n.clientSource,l=n.wid,f={appid:u||this.appId,userId:this.userId,siteId:this.siteId,templateId:this.templateId,bd_vid:this.query.bd_vid,channel:this.query.ch,imlpBaseOptions:this.imlpBaseOptions,theme:e?{wholeColor:e}:void 0,fid:this.query.fid||"",ch:this.query.ch||"",hitNewHalfScreentf:!1,hitNewHalfScreenTfDz:!1,clientSource:s,localPageType:r,shopId:o,merchantId:i,spuId:a,productId:c,wid:l};return 15===this.appId&&(f.tradeid="ym"),f},isYmConsultTemp:function(){return!this.isHalfScreen&&this.isYmConsultExp},parentWidgetMoldName:function(){var t=this;try{var e=this.$loki.getData("pageConfig").widgets.filter((function(e){return e.widgetInfoId===t.widgetInfoId}))[0];return(null==e?void 0:e.widgetMoldName)||""}catch(t){return""}}},data:function(){return{imlpInited:!1,imlpCalled:!1,mountedBeforeSdkLoaded:!1,isYmConsultExp:this.$hasHitExp(w.B)&&this.$loki.getData("pageConfig").widgets.findIndex((function(t){return"mip-ym-trans-fixed-bar"===t.type}))>-1,isHitGlobalDetain:this.$hasHitExp(j.b.expInfo.expId)}},mounted:function(){this.sdk?this.initImlp(this.sdk):this.mountedBeforeSdkLoaded=!0,this.$loki.onEvent(I.b,this.handleEvnetImlpEvents)},beforeDestroy:function(){this.$loki.offEvent(I.b,this.handleEvnetImlpEvents)},methods:{sdkLoaded:function(t){this.sdk=t,this.mountedBeforeSdkLoaded&&this.initImlp(t)},initImlp:function(t){var e=this,n=Object(_.a)((function(t,n,r){Y(e.$loki,{widgetInfoId:e.widgetInfoId,solutionId:e.solutionId},"inputFocus")}),600),r=Object(_.a)((function(){e.passiveSendLog({compTargetId:"imlp_invite_trigger_log",timeStamp:Date.now()})}),100);window.addEventListener("message",(function(t){var o=t.data||{},i=o.type,a=o.data,c="invite"===i&&"inviteMessage"===(null==a?void 0:a.inviteName);c&&r(),("pageInfo"===i||"kefuMessage"===i||c)&&e.$emit(i,a),"inputFocus"===i&&n(e.$loki,{},"inputFocus")})),t.on("imlpState",(function(t){4==+t&&e.$emit("kefuConnect")})),this.setShowTopNotifyBar(),this.eventController=it(t,this.$loki,this.isEditor,this.$hasHitExp,this.entrySiteLog,this.widgetInfoId,this.solutionId,this.passiveSendLog);var o=this.properties.url;if(!this.isEditor&&"string"==typeof o&&Object(g.a)(o))if(this.isHalfScreen)this.controller=function(t,e,n,r,o,i){var a=i(O.b.smallHalf)||i(O.b.onlySmallHalf);return vt||(vt={autoOpenConsult:null,init:function(r,i){var c=function(){r.imParam=ft(i,n);var c=G(r.imParam,e),u=gt({},r.imParam.imlpAccessId,{imParam:c}),s=yt(n,0,at.d,a);try{t.on("ready",(function(){t.init(u,s),r.inited(),e.setData({currentHalfConsult:r.imParam.imlpAccessId}),o(u)}))}catch(t){R(r,{params:{imData:u}}),console.error("imlpInit Error: ",t)}};vt.autoOpenConsult?vt.autoOpenConsult.then((function(t){var e=t.imParam;t.consultUrl===i?(r.imParam=e,r.inited()):c()})):c()},open:function(n,r){t.openIM(n,r),e.setData({currentHalfConsult:n.imlpAccessId})}},bt(t,e,n,r,o,a),vt)}(t,this.$loki,this.imlpBaseInitParam,this.customConsultGlobalConfig,this.initLog,this.$hasHitExp),this.controller.init(this,this.properties.url);else try{this.imParam=ft(this.properties.url,this.imlpBaseInitParam);var i=G(this.imParam,this.$loki);t.on("ready",(function(){var n=Ot({},e.imParam.imlpAccessId,{imParam:i,options:e.imlpBaseOptions});t.init(n),e.inited(),e.initLog(n),e.$loki.setData({currentPageConsult:e.imParam.imlpAccessId})}))}catch(t){R(this,{params:{initParams:initParams}}),console.error("imlpInit Error: ",t)}},inited:function(){var t=this;if(this.$emit("inited",!0),this.imlpInited=!0,this.imlpCalled){var e=this.imlpCalled.userExtra;this.imlpCalled=!1,setTimeout((function(){t.callImlp(e)}),200)}},callImlp:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.imParam&&this.sdk)if(this.imlpInited){this.conversionLog();var r={ext:{url:window.location.href,title:document.title},xst:(this.$loki.getData(w.l)||{}).xst||""};t&&Object.assign(r.ext,t);var o=this.properties||{},i=o.visitParamExt;i&&Object.assign(r.ext,i);var a=this.sdk,c=this.imParam,u=this.imlpBaseOptions,s=this.controller;if(k(c))try{a.on("ready",(function(){Y(e.$loki);var t=JSON.parse(localStorage.getItem("userTrack"))||{};if(a.track(t,!0),e.isHalfScreen)if(e.$hasHitExp(O.b.smallHalf)||e.$hasHitExp(O.b.onlySmallHalf)){var o=e.$loki.getData("smallHalfData");if(o&&n)s.open(o.imParam,o.visitParam,e);else{var i=y({imParam:c,visitParam:r});e.$loki.setData({smallHalfData:i}),s.open(c,r,e)}}else s.open(c,r,e);else e.isHitGlobalDetain?e.$loki.getServiceAsync("retain_show").then((function(t){(0,t.isGlobalRetainShown)().then((function(t){a.openIM(c,r,It(It({},u),{},{wid:e.query.wid||"",is_global_retain_shown:t?O.c.show:O.c.none}))})).catch((function(t){a.openIM(c,r,u)}))})):a.openIM(c,r,u)}))}catch(t){B(this,{params:c})}}else this.imlpCalled={userExtra:t}},conversionLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"imlp-consult-click",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];N(this,{compTargetId:t,mergeWidgetName:e})},normalLog:function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=t.ACTION_MAPS,o=t.$sendLog,i=t.properties,a=e.compTargetId,c=e.messageType,u=e.clickArea;o({widgetInfoId:n,actionId:r.SITE_COMP_CLICK,userExtra:{target_info:i.url,compTargetId:a,messageType:c,clickArea:u}})}(this,t)},initLog:function(t){this.isEditor||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=t.ACTION_MAPS,o=t.$sendLog,i=t.$loki,a=e.initParams;for(var c in a)if(a.hasOwnProperty(c)){var u=a[String(c)],s=u.imParam;if(!k(s))return;var l=M(s),f=i.getData("IMLPSDK_INIT_KEY")||[];if(f.includes(l))return;var d=JSON.parse(JSON.stringify(f));d.push(l),i.setData({IMLPSDK_INIT_KEY:d}),o({widgetInfoId:n,actionId:r.SITE_REQ_RECV,compTargetId:"imlp-sdk-init",userExtra:{imid:$(s),imParam:s}})}}(this,{initParams:t})},entrySiteLog:function(t){this.isEditor||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=t.ACTION_MAPS,o=t.$sendLog,i=e.imParams,a=e.extData,c=void 0===a?{}:a,u=Object.values(i);u.forEach((function(t){var e=t.imParam;o({widgetInfoId:n,actionId:r.SITE_REQ_RECV,compTargetId:"imlp-entry-site-success",userExtra:A({imid:$(e),imParam:e},c)})}))}(this,{imParams:t})},passiveSendLog:function(t){this.isEditor||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.widgetInfoId,r=t.$sendLog;r({widgetInfoId:n,userExtra:A({},e)})}(this,t)},handleEvnetImlpEvents:function(t){if(this.imParam&&this.eventController.isEventUnlock(t)||this.isYmConsultTemp){var e=t.action,n=t.compTargetId,r=t.imlpAccessId,o=t.count,i=t.extData,a=t.messageType,c=t.clickArea;if(e!==I.c.UNREAD){if(r===this.imParam.imlpAccessId||this.isYmConsultTemp)if(this.eventController.lockEvent(t),e===I.c.NORMAL_LOG)this.normalLog({compTargetId:n});else if(e===I.c.COV_LOG)this.conversionLog(n,!1);else if(e===I.c.MESSAGE_BAR_INTERACTICE_LOG&&(this.normalLog({compTargetId:n,messageType:a,clickArea:c}),n===I.g.CLICK)){if(this.isYmConsultTemp&&i){var u=i.inviteType,s=i.inviteText,l=i.inviteSeq;this.imParam.inviteType=u,s&&(this.imParam.inviteText=s),l&&(this.imParam.inviteSeq=l)}this.callImlp()}}else n&&n!==this.imParam.compTargetId||this.$emit("unread",o)}},addInviteMessage:function(t,e){var n=this;if(this.eventController&&(this.imParam||this.isEditor)||this.isYmConsultExp&&this.isHalfScreen){var r=this.imParam?this.imParam.imlpAccessId:this.$loki.getData("currentHalfConsult");t=t.map((function(t){return{message:t,imlpAccessId:n.isEditor?"editor":r,showTopNotifyBar:!1,messageType:I.f.FIXED_INVITE_MSG}})),this.isYmConsultExp&&t.length?this.$loki.emitEvent(I.h,!0,{type:"smart",msg:t,manualSeq:e}):(this.eventController.pushMessage(t),this.eventController.sendUnreadMessage(3e3,!0))}},setShowTopNotifyBar:function(){var t=this.isCommonAppId();this.$loki.setData({showTopNotifyBar:t})},isCommonAppId:function(){return P.includes(this.appId)}}},_t=n(0),Et=Object(_t.a)(jt,(function(){var t=this._self._c;return t("div",{on:{click:this.callImlp}},[t("mip-sjh-imlp-sdk",{attrs:{"widget-info-id":this.widgetInfoId},on:{loaded:this.sdkLoaded}}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);e.default=Et.exports},7:function(t,e,n){"use strict";var r=n(5),o=n(2),i=n(8);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"registedAsyncComponentError",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;window.postMessage({name:"js动态注册报错",type:n,error:e,url:t,retryDelayTime:r},"*")}function l(t,e){return window.widgetAsyncLoader(t,e).then((function(){return t})).catch((function(t){throw new Error(t)}))}e.a=function(t){var e={};return Object.keys(t).forEach((function(n){var c=null,f=null;"string"==typeof t[n]?(c=t[n],f=269):"object"===u(t[n])&&(c=t[n].filename,f=t[n].appid),c&&f&&(e[n]=function(t,e){try{var n=Object(r.a)(c,f),u=window.widgetAsyncLoader&&"function"==typeof window.widgetAsyncLoader,d=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};window.groot[c]?(r(),t(window.groot[c].default)):(o(),s(n,"资源已加载，但组件注册失败！"),e())};if(u){if(window.groot[c])return void t(window.groot[c].default);l(n,{isLoaded:function(t){var e=t&&"string"==typeof t&&t.split("/").pop();if(/^https\:\/\/duzhanread.(cdn|bj).bcebos.com\/(jianzhan_widget|jianzhan_widget_lokijs)\/(online_loki|online_head|loki)\//.test(t)&&e){var n=e.replace(/[0-9]*\.js/g,"");return!!window.groot[n]}return!0}}).then((function(){d()})).catch((function(t){var r=function(t){return"script.onerror=".concat(JSON.stringify(t))};s(n,r(t));var a=Object(o.a)(document.location.search),c=Object(i.a)(),u=a.debugRetryDelayTime||c;setTimeout((function(){l("".concat(n,"?timestamp=").concat((new Date).getTime())).then((function(){d((function(){s(n,"重试成功！","resource_retry_success",c)}))})).catch((function(t){s(n,r(t),"resource_retry_fail",c),e()}))}),u)}))}else{var p=a(document.getElementsByTagName("script")).filter((function(t){return t.src===n}))[0];if(p)if(window.groot[c])d();else{var h=p.onload;p.onload=function(){d(),"function"==typeof h&&h()}}else{var m=document.getElementsByTagName("head")[0],g=document.createElement("script");g.type="text/javascript";n.indexOf("duzhanread.cdn.bcebos.com")>-1&&g.setAttribute("crossorigin","anonymous"),g.src=n,g.onload=function(){d()},g.onerror=function(t){s(n,"script.onerror=".concat(JSON.stringify(t)))},m.appendChild(g)}}}catch(t){s(Object(r.a)(c,f),t)}})})),{components:e}}},8:function(t,e,n){"use strict";e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=(e-t)/n,o=Math.floor(Math.random()*r),i=t+o*n;return i}},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){var n=null;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.call.apply(t,[r].concat(i))}),e)}}}})}));