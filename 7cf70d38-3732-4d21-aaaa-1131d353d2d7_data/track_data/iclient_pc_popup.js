(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{101:function(t,e){t.exports=_vendor_cfd795},1296:function(t,e,i){},1297:function(t,e){t.exports='\n    <div class="imlp-app-container {{responsive ? \'imlp-app-container--responsive\' : \'\'}}">\n        <ui-toast></ui-toast>\n        <div class="imlp-app-container-header">\n            <ui-header data="{{header}}"></ui-header>\n        </div>\n        <div class="imlp-app-container-chatview">\n            <ui-chat-miss-message-tip type="up"></ui-chat-miss-message-tip>\n            <ui-chatview emptyRefKey="{{emptyRefKey}}" typeboxRef="{{typeboxRefKey}}" fixedRefPrefix="{{fixedRefPrefix}}" s-ref="{{chatviewRefKey}}">\n            </ui-chatview>\n        </div>\n        <div class="imlp-app-container-typebox">\n            <ui-typebox sugSliderRefKey="{{sugSliderRefKey}}" s-ref="{{typeboxRefKey}}"></ui-typebox>\n        </div>\n        <template>\n            <ui-mask>\n            </ui-mask>\n        </template>\n        <template s-if="preview && preview.on && preview.src">\n            <ui-widget-preview data="{{preview}}"></ui-widget-preview>\n        </template>\n    </div>\n'},1298:function(t,e,i){},1299:function(t,e){t.exports='\n    <div class="pc-imlp-component-header">\n        <div s-if="data.icon" class="pc-imlp-component-header-logo" style="background-image:url({{data.icon}})">\n        </div>\n        <div class="pc-imlp-component-header-content">\n            <div s-if="data.title\'" class="pc-imlp-component-header-title">{{data.title}}</div>\n        </div>\n        <div s-if="foldable" class="pc-imlp-component-header-btn--fold" on-click="fold($event)">\n            <i class="c-icon">{{\'\'|raw}}</i>\n        </div>\n    </div>\n'},1300:function(t,e,i){},1301:function(t,e){t.exports='\n    <div class="imlp-widget-toast-group">\n        <template s-for="item in list">\n            <div class="imlp-widget-toast {{item.nowrap ? \'imlp-widget-toast--nowrap\' : \'\'}}">\n                <div class="imlp-widget-toast-icon" s-if="item.icon"><i class="c-icon">{{item.icon |raw}}</i></div>\n                {{item.text|raw}}\n            </div>\n        </template>\n    </div>\n'},1302:function(t,e,i){},1303:function(t,e){t.exports='\n    <div class="imlp-component-iframe-box {{loaded ? \'imlp-component-iframe-box--loaded\' : \'\'}}">\n        <div class="imlp-component-iframe-header">\n            <div class="imlp-component-iframe-title">\n                内容详情\n                <span class="imlp-component-iframe-header-close" on-click="hideIframe($event)">\n                </span>\n            </div>\n            <div class="imlp-component-iframe-detail">\n                <span class="notice"></span>\n                页面为嵌入式移动端页面，操作需在移动端才能进行\n            </div>\n        </div>\n        <div class="imlp-component-iframe-fix-container">\n            <iframe s-ref="imlp-component-iframe" class="imlp-component-iframe\n                {{iframe.on ? \'imlp-component-iframe-show\' : \'\'}}" src="{{iframe.src}}" frameborder="0" allowfullscreen>\n            </iframe>\n        </div>\n        <div class="imlp-component-iframe-mask" on-click="showIframeMask($event)"></div>\n        <div s-if="{{iframeMask}}" class="imlp-component-iframe-mask-layer">\n            <div class="imlp-component-iframe-mask-qrcode" s-if="{{iframeMask}}">\n                <div class="imlp-component-iframe-mask-qrcode-title">\n                    扫描二维码进行操作\n                    <span class="imlp-component-iframe-mask-qrcode-close" on-click="hideIframeMask($event)"></span>\n                </div>\n                <div class="imlp-component-iframe-mask-qrcode-desc">您发起的功能服务需要在移动端才能生效需在手机中进行操作，扫码进入移动端</div>\n                <div class="imlp-component-iframe-mask-qrcode-img">\n                    <widgets-ui-qrcode type="url" value="{{iframe.src}}" w="160" h="160">\n                    </widgets-ui-qrcode>\n                </div>\n            </div>\n        </div>\n    </div>\n'},1304:function(t,e,i){},1305:function(t,e){t.exports='\n    <div class="imlp-widget-qrcode">\n        <div s-ref="{{qrcodeElemRef}}"></div>\n    </div>\n'},1306:function(t,e,i){},1307:function(t,e){t.exports='\n    <div s-if="data.src && data.src" class="imlp-widget-imagepreview {{computed ? \'imlp-widget-imagepreview--computed\' : \'\'}}" on-click="hide">\n        <img s-ref="{{refKey}}" style="width:{{width}}px;height:{{height}}px" class="imlp-widget-imagepreivew-image" src="{{data.src}}" on-load="loadHandler($event)">\n    </div>\n'},1308:function(t,e,i){},1309:function(t,e){t.exports='\n    <div class="pc-imlp-component-chatview {{cls}}">\n        <div class="pc-component-chatview-wrapper" style="min-height: {{minHeight}}" s-ref="{{wrapperRef}}">\n            <template>\n                <ui-declare data="{{notification}}"></ui-declare>\n            </template>\n            <template s-for="m, index in message">\n                <template s-if="index == missMessage.index">\n                    <ui-chat-empty index="{{index}}" s-ref="{{emptyRefKey}}"></ui-chat-empty>\n                </template>\n                <template s-if="m.fixed">\n                    <ui-chat-empty index="{{index}}" s-ref="{{fixedRefPrefix + \'-\' + index}}"></ui-chat-empty>\n                </template>\n\n                <template s-if="m.type == \'wakeup\'">\n                    <ui-chat-wakeup s-ref="{{\'pc-imlp-component-chatview-\' + index}}"></ui-chat-wakeup>\n                </template>\n\n                <template s-if="m.type == \'leavetel\'">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-leavetel>\n                            </ui-leavetel>\n                        </div>\n                    </ui-chat-base>\n                </template>\n\n                <template s-if="m.type == \'leaveword\'">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-leaveword>\n                            </ui-leaveword>\n                        </div>\n                    </ui-chat-base>\n                </template>\n\n                <template s-if="m.type == \'1\' || m.type == \'text\'">\n                    <div s-ref="{{m.msgid}}">\n                        <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                            <div slot="bubble-inner">\n                                <ui-chat-text text="{{m|highLight}}"></ui-chat-text>\n                            </div>\n                        </ui-chat-base>\n                    </div>\n                </template>\n\n                <template s-if="m.type == \'8003\'">\n                    <ui-chat-base history="{{m.history}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}" fullWidth="true">\n                        <div slot="bubble-inner">\n                            <ui-chat-leaveword-card content="{{m.content}}" msgid="{{m.msgid}}"></ui-chat-leaveword-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n\n                <template s-if="m.type == \'2\' || m.type == \'image\'">\n                    <div s-ref="{{m.msgid}}">\n                        <ui-chat-image source="{{m.source}}" history="{{m.history}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" content="{{m.content}}"></ui-chat-image>\n                    </div>\n                </template>\n                <template s-if="m.type == \'P0003\' || m.type == \'P0006\'">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-tab-card source="{{m.source}}" history="{{m.history}}" type="{{m.type}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" content="{{m.content}}"></ui-tab-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n                <template s-if="\n                    m.type == \'P0001\' ||\n                    m.type == \'P0002\' ||\n                    m.type == \'P0004\' ||\n                    m.type == \'P0005\' ||\n                    m.type == \'P0007\' ||\n                    m.type == \'P0008\' ||\n                    m.type == \'P0009\' ||\n                    m.type == \'P0010\' ||\n                    m.type == \'P0011\' ||\n                    m.type == \'P0012\' ||\n                    m.type == \'P0013\' ||\n                    m.type == \'P0014\'\n                    ">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-base-card ref="{{\'pc-imlp-component-chatview-\' + index}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" type="{{m.type}}" source="{{m.source}}" content="{{m.content}}"></ui-base-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n                <template s-if="m.type == \'8000\'">\n                    <ui-notification-card s-ref="{{\'pc-imlp-component-chatview-\' + index}}" content="{{m.content}}"></ui-notification-card>\n                </template>\n                <template s-if="m.name === \'standard\' && m.style">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-standard-card ref="{{\'pc-imlp-component-chatview-\' + index}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" type="{{m.type}}" source="{{m.source}}" data="{{m}}"></ui-standard-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n                <template s-if="m.name === \'combined\' && m.style">\n                    <ui-chat-base s-ref="{{\'pc-imlp-component-chatview-\' + index}}" history="{{m.history}}" source="{{m.source}}" status="{{m.status}}" type="{{m.type}}">\n                        <div slot="bubble-inner">\n                            <ui-combined-card ref="{{\'pc-imlp-component-chatview-\' + index}}" s-ref="{{\'pc-imlp-component-chatview-\' + index}}" type="{{m.type}}" source="{{m.source}}" data="{{m}}"></ui-combined-card>\n                        </div>\n                    </ui-chat-base>\n                </template>\n            </template>\n        </div>\n    </div>\n'},1310:function(t,e,i){var a=i(2);i(1311);var n=i(1312),s=i(601).default;t.exports=i(601),t.exports.default=a(s,n,[])},1311:function(t,e,i){},1312:function(t,e){t.exports='\n    <div class="imlp-component-chattime">\n        {{ms| getTime()}}\n    </div>\n'},1313:function(t,e,i){},1314:function(t,e){t.exports='\n    <div class="imlp-component-chatviewwakeup">\n        <div class="c-row">\n            <div class="c-span1"></div>\n            <div class="c-span10">\n                <div class="imlp-component-chatviewwakeup-content">\n                    您的对话将会同步至百度APP-"我的"-"常用功能"-"私信"\n                </div>\n            </div>\n            <div class="c-span1"></div>\n        </div>\n    </div>\n'},1315:function(t,e,i){},1316:function(t,e){t.exports='\n    <div class="imlp-component-text">\n        {{text | emoji | raw}}\n    </div>\n'},1317:function(t,e,i){},1318:function(t,e){t.exports="\n    <div class=\"pc-chatviewbase\n        {{source == 'service' || source == 'system' ? 'chat-in' : 'chat-out'}}\">\n        <div class=\"pc-chatviewbase-avatar-container\">\n            <slot name=\"avatar\">\n                <div class=\"pc-chatviewbase-avatar\" style=\"background-image: url({{\n                        source == 'service' || source == 'system' ? savatar : uavatar\n                    }});margin: {{\n                        source == 'service' || source == 'system' ? '0 8px 0 12px' : '0 12px 0 8px'\n                    }}\">\n                </div>\n            </slot>\n        </div>\n        <div class=\"pc-chatviewbase-bubble-container {{type == '1' || type == 'text' ? 'pc-chatviewbase-bubble-container--text' : ''}}\">\n                <div class=\"{{type == 1 || type == 'text'? 'pc-chatviewbase-bubble' : ''}} \n                            {{source == 'service' || source == 'system' ? 'left-chatviewbase-bubble' : 'right-chatviewbase-bubble'}}\">\n                    <slot name=\"bubble-inner\"></slot>\n                </div>\n        </div>\n    </div>\n"},1319:function(t,e,i){},1320:function(t,e){t.exports='\n    <div class="imlp-component-chatviewleaveword">\n        <div>{{content.title}}</div>\n        <template s-if="content.contactMeImList">\n            <div>\n                您可以\n                <template s-for="item in content.contactMeImList">\n                    <template s-if="item.type == \'tel\'">\n                        <a href="tel:{{item.value}}">电话咨询: {{item.text}}</a>\n                    </template>\n                    或\n                </template>\n                留下您的联系方式,我会尽快联系您。\n            </div>\n        </template>\n        <div class="c-gap-top-small">\n            <div class="c-flexbox imlp-component-chatviewleaveword_form">\n                <div class="imlp-component-chatviewleaveword_imselect">\n                    <select>\n                        <option value="phone">电话</option>\n                        <option value="wechat">微信</option>\n                        <option value="qq">QQ</option>\n                        <option value="email">邮箱</option>\n                    </select>\n                    <i s-if="isIOS" class="c-icon imlp-component-chatviewleavework_arrow" style="position: absolute;top: 0;right: 3px;">{{\'\'|raw}}</i>\n                </div>\n                <div class="imlp-component-chatviewleaveword_input">\n                    <input placeholder="请输入联系方式">\n                </div>\n            </div>\n            <a on-click="submit($event)" href="javascript:void(0)" class="c-gap-top-small c-blocka imlp-component-chatviewleaveword_submit">\n                提交\n            </a>\n        </div>\n    </div>\n'},1321:function(t,e,i){},1322:function(t,e){t.exports='\n    <div class="imlp-component-chatviewImage imlp-component-chatviewbase \n                {{source == \'service\' || source == \'system\' ? \'chat-in\' : \'chat-out\'}}">\n        <div class="imlp-component-chatviewbase-avatar-container">\n            <slot name="avatar">\n                <div class="imlp-component-chatviewbase-avatar" style="background-image: url({{\n                        source == \'service\' ? savatar : uavatar\n                    }});margin: {{\n                        source == \'service\' ? \'0 8px 0 17px\' : \'0 17px 0 8px\'\n                    }}">\n                </div>\n            </slot>\n        </div>\n        <div s-if="!imageList[content.uuid].uuid && content.image_url" class="imlp-component-chatview-pic-readed-box" style="width:{{imageWidth}}px;height:{{imageHeight}}px;">\n            <img class="imlp-component-chatview-pic-readed" src="{{content.image_url}}" style="width:{{imageWidth}}px;height:{{imageHeight}}px" on-click="preview(content.image_url)" on-error="loadHandler($event, false)" on-load="loadHandler($event, true)">\n        </div>\n        <div s-if="imageList[content.uuid].uuid" class="imlp-component-chatview-pic-out-box" style="width:{{outImageWidth}}px;height:{{outImageHeight}}px">\n            <img s-if="imageList[content.uuid].tempSrc" class="imlp-component-chatviewImage-pic" src="{{imageList[content.uuid].tempSrc}}" on-click="preview(imageList[content.uuid].tempSrc)">\n            <div class="imlp-component-chatviewImage-loading\n              {{imageList[content.uuid].progress === 100 ? \'imlp-component-chatviewImage-loaded\' : \'\'}}">\n              <div class="imlp-component-chatviewImage-mask">\n                  <div class="imlp-component-chatviewImage-loading-wrap">\n                      <div class="imlp-component-chatviewImage-loading-right-part">\n                          <div class="imlp-component-chatviewImage-loading-right" style="{{(imageList[content.uuid].progress * 3.6) <= 180 ? \'transform:rotate(\'+(imageList[content.uuid].progress*3.6-180)+\'deg);\' : \'transform:none;\'}}"></div>\n                          <div class="imlp-component-chatviewImage-loading-r-shadow"></div>\n                      </div>\n                      <div class="imlp-component-chatviewImage-loading-left-part">\n                          <div class="imlp-component-chatviewImage-loading-left" style="{{(imageList[content.uuid].progress * 3.6) <= 180 ? \'background:#000;\' : \'background:#fff;transform:rotate(\'+ (imageList[content.uuid].progress*3.6-360)+\'deg);\'}}"></div>\n                          <div class="imlp-component-chatviewImage-loading-l-shadow"></div>\n                      </div>\n                      <span class="imlp-component-chatviewImage-loading-progress">{{imageList[content.uuid].progress + \'%\'}}</span>\n                  </div>\n              </div>\n            </div>\n        </div>\n        <i s-if="imageList[content.uuid].status === -1" class="c-icon imlp-component-chatviewImage-failed" style="line-height:{{imageList[content.uuid].drawHeight}}px"></i>\n    </div>\n'},1323:function(t,e,i){},1324:function(t,e){t.exports='\n    <div class="imlp-chatview-empty"></div>\n'},1325:function(t,e,i){},1326:function(t,e){t.exports='\n    <div class="imlp-basecard\n            imlp-basecard-splitline{{content.splitLine}}\n            {{\'imlp-basecard-\' + type}}" on-click="operate($event, action)" data-s-226a8d14>\n        <div s-if="content.header.left || content.header.right" class="imlp-basecard-header" data-s-226a8d14>\n            <div class="imlp-basecard-header-line" data-s-226a8d14></div>\n            <div class="imlp-basecard-header-title" data-s-226a8d14>{{content.header.left}}</div>\n            <div class="imlp-basecard-header-btn" on-click="operate($event, content.header.right)" data-s-226a8d14>{{content.header.right.text}}</div>\n        </div>\n        <div class="imlp-basecard-content" data-s-226a8d14>\n            <div class="imlp-basecard-title" s-if="content.title" data-s-226a8d14>{{content.title}}</div>\n            <div class="imlp-basecard-widgetlist" data-s-226a8d14>\n                <template s-for="item, widgetindex in content.list" data-s-226a8d14>\n                    <div class="imlp-basecard-widget {{content.showCount && content.showCount<=widgetindex?\'imlp-basecard-widget-hide\':\'\'}}" data-s-226a8d14>\n                        <template s-if="item.name == \'buttonGroup\'" data-s-226a8d14>\n                            <widget-buttongroup s-ref="widget{{widgetindex}}" widget="{{item|widgetFormat}}" data-s-226a8d14></widget-buttongroup>\n                        </template>\n                        <template s-if="item.name == \'detailBase\'" data-s-226a8d14>\n                            <widget-detailbase s-ref="widget{{widgetindex}}" card="{{type}}" data="{{item|widgetFormat}}" display="{{content.showCount && content.showCount>widgetindex}}" data-s-226a8d14></widget-detailbase>\n                        </template>\n                        <template s-if="item.name == \'notification\'" data-s-226a8d14>\n                            <widget-notification s-ref="widget{{widgetindex}}" data="{{item|widgetFormat}}" display="{{content.showCount && content.showCount>widgetindex}}" data-s-226a8d14></widget-notification>\n                        </template>\n                        <template s-if="item.name == \'slide\'" data-s-226a8d14>\n                            <widget-carousel s-ref="widget{{widgetindex}}" data="{{item.data|widgetFormat}}" data-s-226a8d14></widget-carousel>\n                        </template>\n                        <template s-if="item.name == \'lists\'" data-s-226a8d14>\n                            <widget-list s-ref="widget{{wixwdgetindex}}" data="{{item.data|widgetFormat}}" data-s-226a8d14></widget-list>\n                        </template>\n                    </div>\n                </template>\n            </div>\n            <a s-if="content.more" class="imlp-basecard-morelink" data-s-226a8d14>展开全部</a>\n            <a s-if="content.tip.status" class="imlp-basecard-tip" data-s-226a8d14>{{content.tip.text}}</a>\n        </div>\n    </div>\n'},1327:function(t,e,i){},1328:function(t,e){t.exports='\n    <div class="imlp-widget-buttongroup\n                imlp-basecard-fullwidth\n                {{widget.more?\'imlp-basecard-bottomfull\':\'\'}}\n                imlp-widget-buttongroup-theme{{widget.theme}}" data-s-337d2a1c>\n        <template s-if="widget.title" data-s-337d2a1c>\n            <div class="imlp-widget-buttongroup-title" data-s-337d2a1c>{{widget.title}}</div>\n        </template>\n        <div class="imlp-widget-buttongroup-buttonlist" data-s-337d2a1c>\n            <template s-for="rowitem, rowindex in widget.listTemp" data-s-337d2a1c>\n                <div class="imlp-widget-buttongroup-buttonrow {{widget.row && widget.row <= rowindex? \'imlp-widget-buttongroup-hidelist\':\'\'}}" data-s-337d2a1c>\n                    <template s-for="item in rowitem" data-s-337d2a1c>\n                        <template s-if="widget.theme === 0 || widget.theme === 1" data-s-337d2a1c>\n                            <template s-if="item.type !== \'blank\'" data-s-337d2a1c>\n                                <a href="{{item.value}}" class="imlp-widget-buttongroup-button imlp-widget-buttongroup-button--visible" on-click="operate($event, item)" data-s-337d2a1c>{{item.text}}</a>\n                            </template>\n                            <template s-if="item.type === \'blank\'" data-s-337d2a1c>\n                                <a class="imlp-widget-buttongroup-button imlp-widget-buttongroup-button--hidden" data-s-337d2a1c>{{item.text}}</a>\n                            </template>\n                        </template>\n                        <template s-if="widget.theme === 2" data-s-337d2a1c>\n                            <template s-if="item.type !== \'blank\'" data-s-337d2a1c>\n                                <a href="{{item.value}}" class="imlp-widget-buttongroup-imgbutton" on-click="operate($event, item)" data-s-337d2a1c>\n                                    <img src="{{item.imgSrc}}" data-s-337d2a1c>\n                                    <span class="imlp-widget-buttongrounp-imgbutton-text" data-s-337d2a1c>{{item.text}}</span>\n                                </a>\n                            </template>\n                            <template s-if="item.type === \'blank\'" data-s-337d2a1c>\n                                <a class="imlp-widget-buttongroup-imgbutton imlp-widget-buttongroup-imgbutton--hidden" data-s-337d2a1c></a>\n                            </template>\n                        </template>\n                    </template>\n                </div>\n            </template>\n        </div>\n        <template s-if="widget.more" data-s-337d2a1c>\n            <a class="imlp-widget-buttongroup-showmore" href data-s-337d2a1c>展开</a>\n        </template>\n    </div>\n'},1329:function(t,e,i){},1330:function(t,e){t.exports='\n    <div class="widget-media {{cls}} {{data.around ? \'widget-media--around\' : \'\'}}" on-click="operate($event, data.action)" data-track="{{track}}">\n        <div s-if="data.title" class="widget-media-title">\n            {{data.title}}\n        </div>\n        <div class="widget-media-content">\n            <div s-if="data.image && data.image.src" on-click="preview(data.image.src)" class="widget-media-avatar\n                 {{data.image.round ? \'widget-media-avatar--round\' : \'\'}}\n                 {{(!data.image.width && !data.image.width) ? \'widget-media-avatar--hidden\' : \'\'}}" style="background-image:url({{data.image.src}});width:{{data.image.width}}px;height:{{data.image.height}}px">\n                    \x3c!--<img src="{{data.image.src}}"/>--\x3e\n            </div>\n            <div class="widget-media-main">\n                <div s-for="item, index in data.info">\n                    <div s-if="item.type==\'subtitle\' && item.text" class="widget-media-subtitle {{item.nowrap ? \'widget-media-subtitle--nowrap\' : \'\'}}" style="font-size:{{item.size}}px;\n                            line-height:{{item.size + 10}}px;\n                            color:{{item.color}}">\n                        {{item.text}}\n                    </div>\n                    <div s-if="item.type==\'tags\' && item.value && item.value.length" class="widget-media-tags">\n                        <div class="widget-media-tag" s-for="tag in item.value">\n                            {{tag}}\n                        </div>\n                    </div>\n                    <div s-if="item.type==\'image\' && item.value" class="widget-media-image" on-click="preview(item.value)" style="{{item.value ? \'background-image:url(\' + item.value + \')\' : \'\'}}">\n                        \x3c!--<img src="{{item.value}}" />--\x3e\n                    </div>\n                    <div s-if="item.type==\'tagText\' && item.text" class>\n                        <template>\n                            <ui-text-ellipise-box s-ref="{{\'ellipise\' + index}}" ref="{{\'ellipise\' + index}}" display="{{display}}" cls="{{\'size\' + item.size}}" color="{{item.color}}" data="{{item}}"></ui-text-ellipise-box>\n                        </template>\n                    </div>\n                    <div s-if="item.type==\'assist\' && item.text" class="widget-media-assist">\n                        {{item.text}}\n                    </div>\n                    <div s-if="item.type==\'slider\'" class="widget-media-carousel">\n                        <template>\n                            <ui-carousel s-ref="{{\'carousel\' + index}}" ref="{{\'carousel\' + index}}" data="{{item}}" card="{{card}}"></ui-carousel>\n                        </template>\n                    </div>\n                    <div s-if="item.type==\'rank\'">\n                        <template>\n                            <ui-score data="{{item}}"></ui-score>\n                        </template>\n                    </div>\n                    <div s-if="item.type==\'imgList\'">\n                        <template>\n                            <ui-imglist card="{{card}}" data="{{item}}"></ui-imglist>\n                        </template>\n                    </div>\n                </div>\n            </div>\n            <div s-if="data.tip.status" class="widget-media-tip">{{data.tip.text}}</div>\n        </div>\n    </div>\n'},1331:function(t,e,i){},1332:function(t,e){t.exports="\n    <div class=\"widget-text-ellipsis-box\n        {{computed ? 'widget-text-ellipsis-box--visible' : ''}}\n        {{cls ? 'widget-text-ellipsis-box--' + cls : ''}}\">\n        <div class=\"widget-text-ellipsis-text {{data.maxHeight ? 'widget-text-ellipsis-text--maxHeight' : ''}}\" style=\"{{styleText}}{{';color:' + color}}\" s-html=\"{{data.currentTextStr || ''}}\"></div>\n        <div class=\"widget-text-ellipsis-text widget-text-ellipsis-placeholder\n            {{data.lineNumber!==0 ? 'widget-text-ellipsis-placeholder--maxline' : ''}}\n            {{data.maxHeight ? 'widget-text-ellipsis-placeholder--maxHeight' : ''}}\n            {{computed ? 'widget-text-ellipsis-placeholder--computed' : ''}}\" s-ref=\"widget-text-ellipsis-placeholder\"></div>\n        <div s-if=\"computed && data.lineNumber && data.more\" class=\"widget-text-ellipsis-more {{moreStatus ? 'widget-text-ellipsis-more--folded' : ''}}\" on-click=\"toggleMore($event)\">\n            <i class=\"c-icon\">{{''|raw}}</i>\n        </div>\n        <div s-if=\"computed && data.maxHeight && data.more\" class=\"widget-text-ellipsis-more--maxHeight\" on-click=\"toggleMore($event)\">\n            {{moreStatus ? '收起' : '展开'}}\n        </div>\n    </div>\n"},1333:function(t,e,i){},1334:function(t,e){t.exports="\n    <div class=\"imlp-widget-carousel\n        {{data.list.length ? 'imlp-widget-carousel--show' : ''}}\n        {{data.reverse ? 'imlp-widget-carousel--reverse' : ''}}\">\n        <div class=\"imlp-widget-carousel-content\">\n            <div s-for=\"item,index in data.list\" class=\"imlp-widget-carousel-item\n                {{data.active === index ? 'imlp-widget-carousel-item--active' : ''}}\n                {{data.prev === index ? 'imlp-widget-carousel-item--prev' : ''}}\" style=\"{{item ? 'background-image:url(' + item + ')' : ''}}\"></div>\n        </div>\n        <div class=\"imlp-widget-carousel-guide\">\n            <div s-for=\"item,index in data.list\" class=\"imlp-widget-carousel-dot\n                {{data.active === index ? 'imlp-widget-carousel-dot--active' : ''}}\"></div>\n                \x3c!--{{(data.total - data.active - 1) === index ? 'imlp-widget-carousel-dot&#45;&#45;active' : ''}}\"></div>--\x3e\n        </div>\n    </div>\n"},1335:function(t,e,i){},1336:function(t,e){t.exports='\n    <div class="imlp-widget-score-wrap">\n        <div class="imlp-widget-score-wrap-star">{{data.score | star | raw}}</div>\n        <div class="imlp-widget-score-wrap-score">{{data.score}}</div>\n        <div s-if="data.num" class="imlp-widget-score-wrap-comment">（{{data.num}}人参与评价）</div>\n    </div>\n'},1337:function(t,e,i){},1338:function(t,e){t.exports='\n    <div class="imlp-widget-imgList {{\'imlp-widget-imgList--card\' + card}}">\n        <div>\n            <div s-for="imgUrl in data.value" class="imlp-widget-imgList-item" on-click="preview(imgUrl)" style="background-image:url({{imgUrl}})"></div>\n        </div>\n    </div>\n'},1339:function(t,e,i){},1340:function(t,e){t.exports='\n    <div s-if="data" class="widget-notification {{\'widget-notification--\' + data.category}}">\n        <div class="widget-notification-inner">\n            <div s-if="data.title" class="widget-notification-title">{{data.title}}</div>\n            <span s-if="data.text" class="widget-notification-content">\n                <span>\n                    <span>{{data.text}}</span>\n                    <span s-if="data.btnText" class="widget-notification-btn" on-click="operate($event, data)">\n                        {{data.btnText}}\n                    </span>\n                </span>\n            </span>\n        </div>\n    </div>\n'},1341:function(t,e,i){},1342:function(t,e){t.exports='\n    <div class="imlp-widget-list {{\'imlp-widget-list--theme\' + data.theme}} {{spread ? \'imlp-widget-list--spread\' : \'\'}}">\n        <div s-if="data.header && data.header.length" class="imlp-widget-list-row imlp-widget-list-row--header">\n            <div s-for="headerItem in data.header" class="imlp-widget-list-row-item">\n                {{headerItem}}\n            </div>\n        </div>\n        <div s-if="data.content && data.content.length" class="imlp-widget-list-content {{data.header && data.header.length ? \'\' : \'imlp-widget-list-content--noborder\'}}">\n            <div s-for="row, rowIndex in data.content" class="imlp-widget-list-row {{(rowIndex + 1) > data.showCount ? \'imlp-widget-list-row--hidden\' : \'\'}}">\n                <div s-for="item in row" class="imlp-widget-list-row-item {{item.type === \'zixun\'? \'imlp-widget-list-row-item--zixun\' : \'\'}}" style="color:{{item.color}}; {{item.action ? \'cursor:pointer;\' : \'\'}}" on-click="itemHandler($event, item, row.name)">\n                    {{item.value}}\n                </div>\n            </div>\n        </div>\n        <div s-if="data.more && (data.content.length > data.showCount)" class="imlp-widget-list-more" on-click="toggle">\n            <span s-if="!spread">展开全部</span>\n            <span s-if="spread">收起</span>\n        </div>\n    </div>\n'},1343:function(t,e,i){},1344:function(t,e){t.exports='\n    <div class="imlp-tabcard {{\'imlp-tabcard-\' + type}}">\n        <div class="imlp-tabcard-tabs">\n            <widget-tabs cardType="{{type}}" data="{{content.data}}"></widget-tabs>\n        </div>\n    </div>\n'},1345:function(t,e,i){},1346:function(t,e){t.exports='\n    <div class="imlp-widget-tabs">\n        <div class="imlp-widget-tabs-header">\n            <a href="javascript:void(0);" s-for="tab, index in data" on-click="change($event, index)" class="imlp-widget-tabs-header-item\n                {{active == index ? \'imlp-widget-tabs-header-item--actived\' : \'\'}}\n                {{index > 4 ? \'imlp-widget-tabs-header-item--hidden\' : \'\'}}">{{tab.text}}</a>\n        </div>\n        <div class="imlp-widget-tabs-content">\n            <div s-if="data[active] && data[active].type == \'card\'">\n                <ui-base-card type="{{cardType}}" content="{{detail}}"></ui-base-card>\n            </div>\n        </div>\n    </div>\n'},1347:function(t,e,i){},1348:function(t,e){t.exports="\n    <div class=\"imlp-notification  {{!visible ? '' : 'imlp-notification--show'}}\">\n        <template>\n            <widget-notification data=\"{{content}}\"></widget-notification>\n        </template>\n    </div>\n"},1349:function(t,e,i){},1350:function(t,e){t.exports='\n    <div class="pc-imlp-component-chatview-declare">\n        {{data.text ? data.text : \'咨询服务软件由百度商桥提供，以上内容均由商家提供。\'}}\n        <a class="pc-imlp-component-chatview-declare-link" on-click="showMask">\n            《须知》\n        </a>\n    </div>\n'},1351:function(t,e,i){},1352:function(t,e){t.exports='\n    <div class="pc-imlp-component-leaveword">\n        <div class="leaveword-invite">{{invitewords}}</div>\n        <div class="leaveword-content">\n            <div class="leaveword-item">\n                <span class="label">您的姓名：</span>\n                <input type="text" class="name-input" placeholder="请输入您的姓名">\n            </div>\n            <div class="leaveword-item">\n                <span class="label tel-input-label">手机号码：</span>\n                <input type="text" class="tel-input {{isError ? \'error\' : \'\'}}" placeholder="请输入您的电话号码" on-focus="clearError($event)">\n                <span s-if="{{isError}}" class="error-close" on-click="clearError($event)"></span>\n            </div>\n            <div s-if="{{isError}}\'" class="leaveword-item">\n                <span class="label"></span>\n                <span class="tel-notice">请输入正确的电话号码</span>\n            </div>\n            <div class="leaveword-item">\n                <span class="label textarea-label">留言内容：</span>\n                <textarea class="leaveword-textarea" placeholder="请输入您的留言"></textarea>\n            </div>\n            <div class="leaveword-item">\n                <span class="label submit-label"></span>\n                <button class="leaveword-submit" on-click="submit($event)">提交</button>\n            </div>\n        </div>\n    </div>\n'},1353:function(t,e,i){},1354:function(t,e){t.exports='\n    <div class="pc-imlp-component-leavetel">\n        <div class="leavetel-invite">请输入您的电话号码，稍后将立即给您回电，通话免费。</div>\n        <div class="leavetel-content">\n            <input class="leavetel-input {{isError ? \'error\' : \'\'}}" placeholder="请输入你的电话号码" on-focus="clearError($event)">\n            <button class="leavetel-callback" type="button" on-click="submit($event)">免费回电</button>\n            <span s-if="{{isError}}" class="error-close" on-click="clearError($event)"></span>\n        </div>\n        <div s-if="{{isError}}\'" class="tel-notice">请输入正确的电话号码</div>\n    </div>\n'},1355:function(t,e,i){},1356:function(t,e){t.exports='\n    <div class="pc-imlp-component-typebox">\n        <ui-sugslider s-ref="{{sugSliderRefKey}}" padding="24"></ui-sugslider>\n        <div class="pc-imlp-component-typebox-tool">\n            <span class="typebox-tool-item typebox-tool-emoji" on-click="toggleBox(\'emoji\')">\n                <logo-emoji s-ref="{{emojiBtnRefKey}}"></logo-emoji>\n            </span>\n            <span class="typebox-tool-item typebox-tool-uploader">\n                <ui-uploader></ui-uploader>\n            </span>\n            <span s-if="menu && menu.length" class="typebox-tool-item  typebox-tool-menu">\n                <ui-menu></ui-menu>\n            </span>\n            <div s-if="bottombox == \'emoji\'" class="imlp-component-emoji-box">\n                <ui-typebox-emoji s-ref="{{emojiBoxRefKey}}"></ui-typebox-emoji>\n            </div>\n        </div>\n        <div class="pc-imlp-component-typebox-container">\n            <textarea contenteditable="true" class="imlp-component-typebox-input pc-imlp-component-typebox-input" s-ref="{{inputRefKey}}" on-click="toggleBox(\'input\')" on-focus="inputfocus" on-blur="inputBlur" on-input="updateText($event)" on-keydown="keydown" placeholder="{{placeholder}}"></textarea>\n        </div>\n        <div class="imlp-component-typebox-send-btn\n            pc-imlp-component-typebox-send\n            {{!text ? \'pc-imlp-component-typebox-send--disable\' : \'\'}}" on-click="send($event, true)">发送</div>\n        <template s-if="!iframe.on">\n            <ui-chat-miss-message-tip type="missMessTip" s-ref="imlp-chatview-miss-message-tip"></ui-chat-miss-message-tip>\n        </template>\n        <div s-if="sessionState == sessionClosedState" class="imlp-component-typebox-mask" on-click="openSessionClosedTip">\n        </div>\n        <div class="imlp-component-typebox-clearfix"></div>\n    </div>\n'},1357:function(t,e,i){},1358:function(t,e){t.exports='\n    <div class="imlp-component-typeboxemoji swipe" id="slider">\n        <div class="imlp-component-typeboxemoji-slide-row swipe-wrap">\n            <div class="imlp-component-typeboxemoji-slide">\n                <div class="imlp-component-typeboxemoji-slide-items">\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-1" data-text="[微笑]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-2" data-text="[调皮]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-3" data-text="[色]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-4" data-text="[睡]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-5" data-text="[疑问]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-6" data-text="[流泪]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-7" data-text="[汗]">\n                    </div>\n                </div>\n                <div class="imlp-component-typeboxemoji-slide-items">\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-8" data-text="[晕]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-9" data-text="[撇嘴]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-10" data-text="[惊恐]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-11" data-text="[尴尬]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-12" data-text="[害羞]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-13" data-text="[委屈]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-14" data-text="[大笑]">\n                    </div>\n                </div>\n                <div class="imlp-component-typeboxemoji-slide-items">\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-15" data-text="[大哭]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-16" data-text="[可爱]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-17" data-text="[再见]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-18" data-text="[偷笑]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-19" data-text="[乖]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-icon-20" data-text="[难过]">\n                    </div>\n                    <div class="imlp-component-typeboxemoji-slide-item imlp-component-typeboxemoji-slide-item-delete">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},1359:function(t,e,i){},1360:function(t,e){t.exports='\n    <div class="imlp-image-uploader">\n        <div s-if="supportFiles">\n            <label class="imlp-image-uploader-mask imlp-component-typebox-plus-box-upload-mask" on-click="triggerInput">\n                <logo-uploader></logo-uploader>\n            </label>\n            <input class="imlp-image-uploader-entry imlp-component-typebox-plus-box-upload-entry" type="file" enctype="multipart/form-data" accept="image/*" multiple="multiple" s-ref="uploadElem" on-change="handleInputChange">\n        </div>\n        <div s-if="!supportFiles">\n            <form s-ref="{{uploadFormRefKey}}" enctype="multipart/form-data">\n                <label class="imlp-image-uploader-mask imlp-component-typebox-plus-box-upload-mask" on-click="triggerInput">\n                    <logo-uploader></logo-uploader>\n                </label>\n                <input class="imlp-image-uploader-entry imlp-component-typebox-plus-box-upload-entry" type="file" s-ref="uploadElem" name="file" accept="image/*" on-change="formUpload">\n            </form>\n        </div>\n        <input type="file" class="imlp-image-uploader-input--hidden" s-ref="{{hiddenInputRefKey}}">\n    </div>\n'},1361:function(t,e,i){},1362:function(t,e){t.exports='\n    <div class="imlp-component-menu">\n        <div class="imlp-component-menu-icon" on-click="moreClick($event)"><logo-menu></logo-menu></div>\n        <div s-if="showMenuMore" class="imlp-component-menu-box">\n            <div class="imlp-component-menu-box-container">\n                <div s-for="item, index in menu" class="imlp-component-menu-box-container-item">\n                    <a href="javascript:void(0)" on-click="operate($event, item)">\n                        <span>{{item.text}}</span>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n'},1363:function(t,e,i){},1364:function(t,e){t.exports='\n    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="pc-icon-menu-default" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <path d="M18.8461539,16.684817 C19.4834055,16.684817 20,17.1828547 20,17.7972153 C20,\n                    18.411576 19.4834055,18.9096137 18.8461539,18.9096137 L6.15384616,18.9096137 C5.51659453,\n                    18.9096137 5.00000001,18.411576 5.00000001,17.7972153 C5.00000001,17.1828547 5.51659453,\n                    16.684817 6.15384616,16.684817 L18.8461539,16.684817 Z M1.25,16.3887362 C1.94035594,16.3887362 2.5,\n                    16.9483803 2.5,17.6387362 C2.5,18.3290922 1.94035594,18.8887362 1.25,18.8887362 C0.559644063,\n                    18.8887362 1.91180405e-13,18.3290922 1.91180405e-13,17.6387362 C1.91180405e-13,\n                    16.9483803 0.559644063,16.3887362 1.25,16.3887362 Z M1.25000002,8.69436812 C1.94035597,\n                    8.69436812 2.50000004,9.25401218 2.50000004,9.94436812 C2.50000004,10.6347241 1.94035597,\n                    11.1943681 1.25000002,11.1943681 C0.55964409,11.1943681 4.18569563e-08,10.634724 4.18569563e-08,\n                    9.94436812 C4.18569563e-08,\n                    9.2540122 0.55964409,8.69436812 1.25000002,8.69436812 Z M18.8461539,8.84240849 C19.4834055,\n                    8.84240849 20,9.3404462 20,9.95480686 C20,10.5691675 19.4834055,11.0672052 18.8461539,\n                    11.0672052 L6.15384619,11.0672052 C5.74161666,11.0672052 5.36070085,10.8551833 5.15458608,\n                    10.5110061 C4.94847131,10.1668288 4.94847131,9.74278492 5.15458608,9.39860766 C5.36070085,\n                    9.05443041 5.74161666,8.84240849 6.15384619,8.84240849 L18.8461539,8.84240849 Z M1.25,\n                    1 C1.94035594,1 2.5,1.55964406 2.5,2.25 C2.5,2.94035594 1.94035594,3.5 1.25,\n                    3.5 C0.559644063,3.5 6.45927756e-13,2.94035594 6.45927756e-13,2.25 C6.45927756e-13,\n                    1.55964406 0.559644063,1 1.25,1 Z M18.8461538,1 C19.4834055,1 20,\n                    1.49803771 20,2.11239837 C20,2.72675902 19.4834055,3.22479673 18.8461538,3.22479673 L6.15384616,\n                    3.22479673 C5.51659452,3.22479673 5,2.72675902 5,2.11239837 C5,1.49803771 5.51659452,1 6.15384616,\n                    1 L18.8461538,1 Z" id="导航-默认备份" fill="#888A90" fill-rule="nonzero"/>\n        </g>\n    </svg>\n'},1365:function(t,e,i){},1366:function(t,e){t.exports='\n    <div class="pc-imlp-component-mask {{show ? \'\': \'imlp-component-mask-none\'}}">\n        <div class="pc-imlp-component-mask-container">\n            <template s-if="child == \'declare\'">\n                <ui-declare>\n                </ui-declare>\n            </template>\n            <template s-if="child == \'qrcode\'">\n                <ui-qrcode data="{{data}}">\n                </ui-qrcode>\n            </template>\n            <template s-if="child == \'qrcode-scaled\'">\n                <ui-qrcode-scaled>\n                </ui-qrcode-scaled>\n            </template>\n            <template s-if="child == \'session-closure\'">\n                <ui-session-closure></ui-session-closure>\n            </template>\n            <template>\n                <ui-detention s-if="child == \'detention\'"></ui-detention>\n            </template>\n            <template>\n                <ui-captcha s-if="child == \'captcha\'"></ui-captcha>\n            </template>\n        </div>\n    </div>\n'},1367:function(t,e,i){},1368:function(t,e){t.exports='\n    <div class="imlp-component-maskdeclare">\n        <div>\n            <div class="imlp-component-maskdeclare-title">\n                须知\n                <span class="imlp-component-maskdeclare-close" on-click="toggle"></span>\n            </div>\n            <h5 class="imlp-component-maskdeclare-section">\n                页面须知：\n            </h5>\n            <div class="imlp-component-maskdeclare-content">\n                尊敬的用户您好，为便于您与商家进行线上沟通，请您注意以下事项：\n                <p>1.为节省您的时间、免收重复输入的困扰，您的搜索词将会在该页面上的输入框中展示，您可以自行选择是否向商家发送该信息，您也可以自行在输入框中修改该信息。若您确认发送，则代表您同意将该信息发送给提供咨询服务的商家；若您没有发送，则您的搜索词信息不会提供给商家。请您在发送之前仔细检查自己的输入信息，避免隐私泄露。</p>\n                <p>2.为了方便您后续回访查看与商家沟通的消息记录，当您使用手机百度咨询时，您的对话内容将会同步到手机百度APP-我的-私信 里面。</p>\n                <p>3.本站仅提供技术服务，无法追踪、核查您与商家的沟通内容，网友、商家言论仅代表其个人观点，不代表本站立场，请谨慎参阅，本站不承担由此引起的法律责任。</p>\n                <p>4.如果您咨询医疗相关问题，由于网络沟通场景无法使医生明确了解您的真实情况，医生仅能根据您的描述内容为您提供咨询建议，但任何关于疾病的网络建议都不能替代医生的面对面诊断，因此请您完成咨询后选择线下就医。为了能够让医生给您提供更准确的建议，请您在线上沟通时务必如实陈述，若因您虚假陈述导致的后果，均与医院、医生及本站无关。</p>\n                <p>5.如果您在线上沟通过程中遇到问题，请您反馈至以下邮箱：iimlp@baidu.com</p>\n            </div>\n            <h5 class="imlp-component-maskdeclare-section">\n                服务须知：\n            </h5>\n            <div class="imlp-component-maskdeclare-content">\n                本服务是由商家和第三方咨询软件向百度用户提供，其中，咨询服务是由{{imName}}提供，咨询内容均由{{name}}提供，商家对本服务信息内容、数据资料及其运营行为等的真实性、合法性及有效性承担全部责任。百度向商家和第三方咨询软件提供技术支持服务。如果用户提供数据给服务提供方，适用服务提供方隐私政策，请联系服务提供方索取信息。\n            </div>\n            <div class="imlp-component-maskdeclare-btn-wrapper">\n                <div class="imlp-component-maskdeclare-btn-verify" on-click="toggle">\n                    知道了\n                </div>\n            </div>\n        </div>\n    </div>\n'},1369:function(t,e,i){},1370:function(t,e){t.exports='\n    <div class="imlp-component-maskqrcode">\n        <div class="imlp-component-maskqrcode-app">\n            百度APP/微信等扫码后拨打电话\n            <span class="imlp-component-maskqrcode-close" on-click="toggle"></span>\n        </div>\n        <div class="imlp-component-maskqrcode-customer">\n            客服电话：\n            <span class="imlp-component-maskqrcode-telnumber">{{phone}}</span>\n        </div>\n        <div class="imlp-component-maskqrcode-notice">温馨提示：将由专属客服接听电话为您服务</div>\n        <div class="imlp-component-maskqrcode-img">\n            <template>\n                <widgets-ui-qrcode type="tel" value="{{phone}}" w="160" h="160">\n                </widgets-ui-qrcode>\n            </template>\n        </div>\n    </div>\n'},1371:function(t,e,i){},1372:function(t,e){t.exports='\n    <div class="imlp-component-maskqrcode--scaled">\n        <span class="imlp-component-maskqrcode-close" on-click="toggle"></span>\n        <div class="imlp-component-maskqrcode-tip">移动端沟通更安全</div>\n        <div class="imlp-component-maskqrcode-pic">\n            <template>\n                <widgets-ui-qrcode w="260" h="260">\n                </widgets-ui-qrcode>\n            </template>\n        </div>\n    </div>\n'},1373:function(t,e,i){},1374:function(t,e){t.exports='\n    <div class="imlp-component-maskSessionClosure">\n        <div class="imlp-component-maskSessionClosure-close" on-click="hide"></div>\n        <div class="imlp-component-maskSessionClosure-title">提示</div>\n        <div class="imlp-component-maskSessionClosure-content">\n            您好，由于您长时间未发言，页面已经中断您此次的访问。若您想继续访问，请刷新页面重新建立连接。\n        </div>\n        <div class="imlp-component-maskSessionClosure-buttons">\n            <span class="imlp-component-maskSessionClosure-button\n                imlp-component-maskSessionClosure-button--refresh" on-click="refresh">重新连接</span>\n            <span class="imlp-component-maskSessionClosure-button\n                imlp-component-maskSessionClosure-button--cancel" on-click="hide">取消</span>\n        </div>\n    </div>\n'},1375:function(t,e,i){},1376:function(t,e){t.exports='\n    <div class="imlp-component-maskDetention">\n        <div class="imlp-component-maskDetention-close" on-click="hide"></div>\n        <div class="imlp-component-maskDetention-title">提示</div>\n        <div class="imlp-component-maskDetention-content">\n            确定要离开当前咨询页吗？\n        </div>\n        <div class="imlp-component-maskDetention-buttons">\n            <div class="imlp-component-maskDetention-button\n            imlp-component-maskDetention-button--confirm" on-click="confirm">确定</div>\n            <div class="imlp-component-maskDetention-button\n            imlp-component-maskDetention-button--cancel" on-click="hide">取消</div>\n        </div>\n    </div>\n'},1377:function(t,e,i){},1378:function(t,e){t.exports='\n    <div class="imlp-component-maskCaptcha">\n        <template>\n            <widget-captcha></widget-captcha>\n        </template>\n    </div>\n'},1379:function(t,e,i){},1380:function(t,e){t.exports='\n    <div class="imlp-widget-captcha {{errMsg? \'imlp-widget-captcha--error\' : \'\'}}">\n        <div class="imlp-component-captcha-close" on-click="cancel"></div>\n        <div class="imlp-widget-captcha-tip">提示</div>\n        <div class="imlp-widget-captcha-title">抱歉,目前接待访客较多<br>需输入正确的验证码后方可联通客服</div>\n        <div class="imlp-widget-captcha-content">\n            <span class="imlp-widget-captcha-pic" on-click="getCaptcha">\n                <template s-if="base64">\n                    <img src="{{base64}}">\n                </template>\n                <template s-else>{{captcha | raw}}</template>\n            </span>\n            <span class="imlp-widget-captcha-equal">=</span>\n            <input s-ref="{{inputRef}}" class="imlp-widget-captcha-input" on-input="inputHandle($event)" on-keydown="keydown($event)" placeholder="请输入答案">\n        </div>\n        <div class="imlp-widget-captcha-errMsg">{{errMsg}}</div>\n        <div class="imlp-widget-captcha-buttons">\n            <div class="imlp-widget-captcha-button\n                imlp-widget-captcha-button--confirm\n                {{!code ? \'imlp-widget-captcha-button--disable\' : \'\'}}" on-click="confirm">确认</div>\n            <div class="imlp-widget-captcha-button imlp-widget-captcha-button--cancel" on-click="cancel">取消</div>\n        </div>\n    </div>\n'},1383:function(t,e,i){"use strict";i.r(e);var a=i(75),n=i.n(a),s=i(7),o=i.n(s),c=(i(19),i(6),i(18),i(42),i(26),i(10),i(159),i(17),i(20),i(25),i(0)),d=(i(308),i(33)),r={},l=i(24),p=i.n(l),u=i(4),m=i.n(u),h=i(263),g=i.n(h),f=i(50),v=i.n(f),x=i(60),w=i.n(x),b=i(264),y=i.n(b),k=(i(70),i(90),i(8),i(65),i(61)),M=i(21),T=i(22),S=i(5),I=i(125),C=i.n(I),B=i(108),R=i(164);function E(t,e){t.on("disconnect",(function(t){"user"!==t.from&&(c.store.dispatch("updateSessionStatus",S.a.stateMap.closed),c.store.dispatch("setMask",{show:!0,childcomponent:"session-closure"}))})),t.on("message",(function(t){var e=c.store.getState("pcPopup");t=T.a.formatMsgList(t),e||window.parent.postMessage({type:"unreadMessage",from:"imlp-popup",data:{count:t.length,unread:t}},"*"),t.forEach((function(i){var a;c.store.dispatch("AddMessageToChatView",{name:i.name,log:i.log,style:i.style,type:i.content_type,source:i.source,content:i.content,msgid:i.message_id,msgtime:i.message_time,status:0,tag:i.tag,xhwake:i.xhwake,isCloseMsg:i.isCloseMsg,ext:i.ext||{}}),c.store.dispatch("sendServiceTipToChatView",i),e||c.store.dispatch("updateMissMessageUpList",{on:!1,msgid:i.message_id}),c.store.dispatch("updateMessageCountForDynamicSug",i);var n,s=T.a.formatInputSuggest(i),o=(null==i||null===(a=i.ext)||void 0===a?void 0:a.input_suggest_from)||"",d=c.store.getState("expParam.imlp_kefu_recommend");if(M.d.imlp_kefu_recommend.includes(d)&&o===M.b&&s)return s[0].msgContent=(null===(n=t[0])||void 0===n?void 0:n.content)||"",void c.store.dispatch("updateSugReplies",s);s&&o!==M.b?c.store.dispatch("updateSugReplies",s):i.isQuestion&&setTimeout((function(){c.store.dispatch("getRecommendReply",{msgid:i.message_id,content:i.content})}))}))})),t.on("inviteMessage",(function(t){c.store.dispatch("AddMessageToChatView",t)})),e.on("sendFail",(function(t){c.store.dispatch("updateFailMessages",t),c.store.dispatch("updateSendStatus",Object.assign({},t,{sendState:"1"}))})),t.on("error",(function(t){var i=t.result,a=t.type,n=t.data;"connect"===a&&setTimeout((function(){c.store.dispatch("ConnectNet")}),1e3),"entrySite"===a&&c.store.dispatch("entrySiteHandle"),"send"===a&&(e.emit("sendFail",[n]),c.store.dispatch("logSdk",{type:"send_failed",message:i.data})),"taskbegin"===a&&(11===i.status?c.store.dispatch("antiBlock"):(c.store.dispatch("updateSessionStatus",S.a.stateMap.failed),c.store.dispatch("showLeaveWord"))),"antiCheck"===a&&e.emit("antiCheckResult",[i]),"checkAntiCaptcha"===a&&e.emit("checkCaptchaResult",[i])})),t.onInit((function(){t.getHistroy((function(t){e.emit("history",[t])}))})),t.on("card",(function(t){t.forEach((function(t){t=Object(B.a)(t),c.store.dispatch("AddMessageToChatView",{name:t.name,log:t.log,style:t.style,type:t.type,cid:t.cid,source:4005===t.type?t.source:"system",content:t.content,msgid:t.message_id,msgtime:(new Date).getTime(),status:0,tag:"card_async"})}))})),e.on("history",(function(t){var e=y()(t),i={user:0,service:0},a=w()(i);v()(e,(function(t){var e=t.source;g()(a,e)&&o()(i,e,m()(i,e)+1),c.store.dispatch("updateHistoryLenAction",i),"9"!==(t.content_type+"")[0]&&(T.a.formatImageMsg(t),c.store.dispatch("AddMessageToChatView",{name:t.name,log:t.name,style:t.style,type:t.content_type,source:t.source,content:t.content,contenttext:t.contenttext,msgid:t.message_id||t.msgid,msgtime:t.message_time,status:0,history:1}))}))})),t.on("taskbegin",(function(t){var e=t.ssid,i=t.status,a=t.awake,n=void 0===a?"0":a,s=t.shopid,o=t.aduserid,d=t.im_type,r=t.robot_status,l=t.artificial_status,u=0===parseInt(r,10),m=1===parseInt(l,10);c.store.dispatch("sendChatTip",{isRobot:u}),c.store.dispatch("updateRobot",u&&m),p()(s)||0===parseInt(s,10)||c.store.dispatch("updateShopid",s),c.store.dispatch("updateAduserid",o),c.store.dispatch("updateAwake",n),c.store.dispatch("NetTaskbegin",{ssid:e,status:i,imType:d}),c.store.dispatch("updateSsidAction",e),c.store.dispatch("updateImtype",d),c.store.dispatch("updateSessionStatus",S.a.stateMap.connected)})),t.on("switchToManual",(function(t){c.store.dispatch("updateRobot",!t),c.store.dispatch("sendChatTip",{isRobot:!t,switchToManual:{status:t}})})),t.on("storgeUpdate",(function(t){c.store.dispatch("updateMsgFromStorage",t)})),t.on("entrySite",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.store.dispatch("entrySiteHandle",t)})),t.on("antiCheck",(function(t){e.emit("antiCheckResult",[t])})),t.on("checkAntiCaptcha",(function(t){e.emit("checkCaptchaResult",[t])})),t.on("antiCaptcha",(function(t){c.store.dispatch("antiCaptchaResult",t)})),e.on("antiCheckResult",(function(t){c.store.dispatch("antiCheckResult",t)})),e.on("checkCaptchaResult",(function(t){c.store.dispatch("checkCaptchaResult",t)})),t.on("recommend",(function(t){var e=t.status,i=t.suggestInfo,a=void 0===i?[]:i;0===e&&c.store.dispatch("updateSugReplies",a)}))}var D=function(){window.BcpSdk=new C.a(c.store.getState("terminal"));var t=new R.a;E(window.BcpSdk,t),k.a.init.apply(k.a,arguments)},j=i(30),H=i(56),L={};function P(){var t=c.store._dispatch;c.store._dispatch=function(e,i,a){t.call(c.store,e,i,a),function(t,e,i){d.a.logFromStore(t,e,i)}(c.store,e,i)}}L.init=function(){P(),c.store.actions.NetTaskbegin||c.store.addAction("NetTaskbegin",(function(t,e){var i=e.getState,a=e.dispatch,n=t.status;i("autoConnect"),i("tplName"),i("aiService"),0!==n&&2!==n||(2===n&&a("sendWaitInfo"),a("sendAutoMsg"),a("sendCachedMsg"),a("sendTrackBeforeConnect"))})),c.store.actions.AddMessageToChatView||c.store.addAction("AddMessageToChatView",(function(t,e){var i=e.getState,a=e.dispatch,n=t.history,s=n?"unshift":"push",o=i("session.total"),d=i("session.state")===S.a.stateMap.connected,r=T.a.isCloseMsg(t),l=i("session.hasMissKefuMsg"),p="kefu"===t.tag,u=i("fixedRefPrefix"),m=!1,h=o+1,g=i("fixed");if(i("rebound"),d||!r){var f=i("session.hasFirstKefuMsg");p&&!f&&a("UpdateHasFirstKefuMsg"),d||!p||l||(m=!0,a("UpdateHasMissKefuMsg"),setTimeout((function(){a("UpdateFixedRefs",u+"-"+o)}))),(!g&&"user"===t.source||g&&!n&&"user"===t.source||"system"===t.source)&&(a("decideIsNeedScrollToBottom",!0),a("updateFixedAction",!1));var v=i("isNeedScrollToBottom");v&&setTimeout((function(){a("ChatViewScrollToBottom")})),i("missMessage");var x={name:t.name,log:t.log,style:t.style,type:t.type,source:t.source,content:t.content,action:t.action,contenttext:H.a.xssFilter(t.contenttext),msgid:t.msgid,msgtime:t.msgtime,history:t.history,status:0,num:h,fixed:m,tag:t.tag},w=t.message_id||t.msgid;if(w&&c.store.dispatch("updateshowMessageIds",{msgid:w}),"user"===t.source){var b=t.history,y=c.store.getState("session.chatCount"),k=c.store.getState("session.currentUserMsgCount"),M=c.store.getState("feature"),I=parseInt(c.store.getState("awake"),10),C=c.store.getState("historyLen.user"),B=1===I&&M.custom_awake;return!b&&(k+=1),x.seq=k,x.imid=c.store.getState("imid"),C===y&&B&&c.store.dispatch("sendWake"),Object(j.builder)()[s]("message",x).apply("session.chatCount",(function(t){return t+1})).set("session.currentUserMsgCount",k).apply("session.total",(function(t){return t+1}))}if(!g&&!v&&"service"===t.source){var R=i("message").length;a("updateMissMessage",{on:!0,hasFirst:!0,index:R,number:i("missMessage.number")+1})}return Object(j.builder)()[s]("message",x).apply("session.total",(function(t){return t+1}))}})),c.store.actions.ChatAction||c.store.addAction("ChatAction",(function(t,e){e.getState,e.dispatch;var i={type:"onClick"},a=t.value;"card"===a.type&&a.content?i.data={type:"card",text:a.content.title||a.content.text||"",value:a.content.cid||a.content.value||""}:i.data=a,k.a.sendUserAction(i)}));var t={type:"pv",from:"imlp",content:performance&&performance.now?Math.round(performance.now()):-1,ext:c.store.getState("pageInfo")};if(d.a.log(t),!c.store.getState("review")){c.store.getState("appid"),c.store.getState("tplName"),c.store.getState("autoConnect"),c.store.getState("rebound"),c.store.getState("wake");var e=c.store.getState("config")||{},i=("manual"===e.inviteType||"auto"===e.inviteType)&&e.inviteData||!1;c.store.dispatch("sendWelcome"),c.store.dispatch("sendInitUserMsg"),i&&c.store.dispatch("sendInvite",e.inviteData),c.store.dispatch("updateSuggestForPc")}};var A=L,F=i(178),N=i(3),U=i(163),_=i(13),q=i(265),K=i(41),W=i(768),O=i.n(W),$=i(171),z=i(172);function V(t){if(t){Object(z.a)(t);var e=N.a.formatLocationSearch();t.wsid=_.a.createWsid(t.pvKey),t.session.state=S.a.defaultState,t.pcPopup=!0,t.historyKey=(t.content_provider||[])[0],function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n()(t,(function(e,i){o()(t,i,Object(B.a)(e))}))}(t.message),t.appid=t.appid||"",t.client=t.terminal||"PC",t.user_id=t.user_id||t.aduserid,t.typeboxtext="";var i=H.a.isPt();i&&o()(t,"x.pt",i);var a=t.feature,s=t.disables||[];s.length&&(t.feature=function(t,e){var i={};for(var a in e=e||[],t=t||{})t.hasOwnProperty(a)&&(i[a]=!(e.indexOf(a)>-1));return i}(a,s));var c=t.expParamsList;t.expParam=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return t.forEach((function(t){t.params.forEach((function(i){e["".concat(t.module_name,"_").concat(i.name)]=i.value}))})),e}(c),t.k=t.pvKey.slice(0,16),t.iv=t.pvKey.slice(16,32),t.sdk="sdk"===e.from||e.rebound,t.bfid=e&&e.bfid||"",t.fid=e&&e.fid||"",t.n=parseInt(K.a.rn(),10),t.rebound&&(t.cancelCard=!0,t.message=[]),t.originUrl=N.a.formatUrl(location.href,{},!0),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.source="system",t.tag="card_sync"}))}(t.message),t.rebound&&(t.cancelCard=!0,t.message=[]);t.feature.baozhang;t.xyl=t.appid&&(0===t.appid.indexOf("xyl_ad")||0===t.appid.indexOf("xyl_cip")),t.showBaozhangInfo&&t.message.unshift(_.a.getBaozhang());var d=t.contactNumber;t.contactNumber=N.a.formatContactNumber(d),t.rebound=e.hasOwnProperty("rebound")&&e.rebound||!1;var r=t.message||[],l=r[0]||{};l.num=1,l.fixed=1,t.session.initMsg=r.length,t.session.total=r.length,t.fixedRefPrefix="imlp-chatview-fixed",t.fixed=!1,t.isNeedScrollToBottom=!0,e.mockBcpserver&&(t.bcpserver=e.mockBcpserver,t.xhinfo.url=e.mockBcpserver+"/static/xcx/index.html"),e.hasOwnProperty("sdkdomain")&&(e.sdkdomain?t.sdkdomain=location.protocol+"//"+decodeURIComponent(e.sdkdomain):t.sdkdomain=location.protocol+"//"+location.host),t.historySeq=history.length,t.initTime=(new Date).getTime();var p=t.manual_connect_strategy;p&&"string"==typeof p&&(t.autoConnectSource={auto:!0,send:!0},t.autoConnectSource[p]=!0)}}function X(t){Object($.a)(),V(t),function(t){c.store.raw=t}(t),function(t){d.a.init(t,r)}(t),d.a.logPageShow(),F.a.init(),A.init(),function(t){var e={im_type:t.im_type,imid:t.imid},i=N.a.getCipTrackInfo()||{},a=t.config||{};a.inviteType&&a.inviteData&&(e.inviteType=a.inviteType,e.inviteContent=a.inviteData),["level1","level2","level3","notifyIM"].forEach((function(i){var a=t[i];a&&(e[i]=a)}));var n={params:t.params,userid:t.user_id,cuserid:a.cuserid,localPageType:a.localPageType,shopId:a.shopId,merchantId:a.merchantId,wid:a.wid,spuId:a.spuId,productId:a.productId,user_id_type:t.user_id_type,aduserid:t.aduserid,xst:t.xst||"",abTest:t.abTest||"",autoConnect:t.autoConnect,transparent:t.transparent,appid:t.appid||"",pvKey:t.pvKey||"",pvkey:t.pvKey||"",shop_id:t.shopid||"",client:t.client,url:location.href,imid:t.imid,wsid:t.wsid,referrer:Object(U.a)(document.referrer),title:t.title,bfid:t.bfid},s=N.a.getViewport();n.dpi="".concat(s.width,"x").concat(s.height),t.channel&&(n.channel=t.channel),t.imlpAccessId&&(n.imlpAccessId=t.imlpAccessId),i.cipUrl&&(n.cipUrl=i.cipUrl),i.cipText&&(n.cipText=i.cipText);var o={f:H.a.eIv(q.a.getFp()),historyKey:t.historyKey,isSaveHistory:!0,apiHost:window.location.origin||""};t.sdkdomain&&(o.host=t.sdkdomain),D({imParam:e,pageParam:n,options:o})}(t),(new O.a).attach(document.getElementById("app"))}i(345);window.imlpapp=function(t){X(t)}},177:function(t,e,i){var a=i(2);i(1304);var n=i(1305),s=i(598).default;t.exports=i(598),t.exports.default=a(s,n,[])},281:function(t,e,i){var a=i(2);i(1325);var n=i(1326),s=i(639).default;t.exports=i(639),t.exports.default=a(s,n,[])},282:function(t,e,i){var a=i(2);i(1333);var n=i(1334),s=i(611).default;t.exports=i(611),t.exports.default=a(s,n,[])},283:function(t,e,i){var a=i(2);i(1339);var n=i(1340),s=i(614).default;t.exports=i(614),t.exports.default=a(s,n,[])},594:function(t,e,i){"use strict";i.r(e);var a=i(7),n=i.n(a),s=i(4),o=i.n(s),c=(i(79),i(6),i(8),i(17),i(37),i(0)),d=i(3),r=i(165),l=i(44),p=i(769),u=i.n(p),m=i(770),h=i.n(m),g=i(771),f=i.n(g),v=i(772),x=i.n(v),w=i(773),b=i.n(w),y=i(792),k=i.n(y),M=i(797),T=i.n(M),S=i(175),I=i.n(S),C=i(1);i(13);e.default=c.connect.san({HeaderOn:"switch.Header",NotificationOn:"switch.Notification",ChatViewOn:"switch.ChatView",TypeBoxOn:"switch.TypeBox",MaskOn:"switch.Mask",slideTags:"slideTags",appid:"appid",iframe:"iframe",preview:"preview",feature:"feature",fixedRefPrefix:"fixedRefPrefix",smartprogram:"smartprogram",ucid:"aduserid",sider:"sider",header:"header",userid:"user_id"},{initTypeboxInfo:"initTypeboxInfo",initChatviewInfo:"initChatviewInfo",setMask:"setMask",updateCardTrack:"updateUserTrack",updateHiddenMsg:"UpdateHiddenMsg",updateFixedAction:"updateFixedAction",updatePreview:"UpdatePreviewAction",inputFocus:"inputFocus",masktoggle:"MaskToggle",updateMsgFromStorage:"updateMsgFromStorage",send:"SendMessage",showmask:"setMask"})({components:{"ui-header":u.a,"ui-chatview":b.a,"ui-typebox":k.a,"ui-mask":T.a,"ui-toast":h.a,"ui-iframe":f.a,"ui-widget-preview":x.a,"ui-chat-miss-message-tip":I.a},initData:function(){return{emptyRefKey:"imlp-chatview-empty",chatviewRefKey:"imlp-chatview",iframeRefKey:"imlp-chatview-iframe",typeboxRefKey:"imlp-component-typebox-type-zone",sugSliderRefKey:"imlp-component-sugslider",layoutCls:"layout-ready",status:"open"}},attached:function(){this.initEvents()},initEvents:function(){document.addEventListener("click",this.clickHandler.bind(this),!1)},clickHandler:function(t){var e=this.data.get("typeboxRefKey"),i=this.ref(e),a=i.getEmojiBoxComp(),n=i.getEmojiBtnElem();a&&(d.a.contains(a.el,t.target)||t.target===n||i.hideEmoji())},chatActionHandler:function(t){var e=t.value.value,i=t.value.type||"",a=e.type||"";switch(i){case"toast":c.store.dispatch("ShowToast",e);break;case"leaveWord":c.store.dispatch("LeaveWord",e);break;default:c.store.dispatch("ChatAction",t.value)}var n=e.actionType||"",s=e.content||e.value||"",o=c.store.getState("showMenuMore")||!1;if(o&&c.store.dispatch("showMenuMore",!1),"async"===n)c.store.dispatch("getAsyncCard",{cid:e.value||"",mat:e.mat||{},ucid:this.data.get("ucid")});else if("sync"===n){var r={type:"syncCard",value:e.value};c.store.dispatch("CardLink",r)}else switch(a){case"url":var l=s.url||s;this.openUrl(l);break;case"tel":this.actions.showmask({show:!0,childcomponent:"qrcode",data:{phone:e.value}});break;case"card":c.store.dispatch("CardLink",t.value);break;case"menuMore":c.store.dispatch("showMenuMore",!o);break;case"iframe":c.store.dispatch("IframeAction",{on:!0,src:d.a.formatUrl(s,{showpageinpc:1})});break;case"client_msg":this.actions.send({source:"user",type:C.e.TEXT,content:s,trigger:"sug",sourceTag:"sugRecommend"});break;case"sugQa":var p=e.text||"";this.makeSugQa(p,s);break;case"menu":this.actions.showmask({show:!0,childcomponent:"declare"})}},makeSugQa:function(t,e){this.actions.send({source:"user",type:C.e.TEXT,content:t,trigger:"sug",sourceTag:"sugRecommend"}),"[object Object]"===Object.prototype.toString.call(e)&&"card"===e.type&&e.value&&c.store.dispatch("getAsyncCard",{mat:JSON.stringify(e.value),ucid:this.data.get("ucid"),xst:this.data.get("xst")}),e&&"[object String]"===Object.prototype.toString.call(e)&&setTimeout((function(){c.store.dispatch("AddMessageToChatView",{source:"service",type:C.e.TEXT,content:e,trigger:"sug",sourceTag:"sugRecommend",msgtime:(new Date).getTime()})}),300)},openUrl:function(t){if(t){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.click(),e=null}},getTrackHistory:function(t){t.cardType;return t.history},hideIframe:function(){var t=this.ref(this.data.get("iframeRefKey"));t&&t.hideIframe&&t.hideIframe()},hidePreviewImage:function(){this.actions.updatePreview({src:"",on:!1})},setCompRect:function(t){var e={typebox:{action:"initTypeboxInfo",refKey:this.data.get("typeboxRefKey")},chatview:{action:"initChatviewInfo",refKey:this.data.get("chatviewRefKey")}},i=o()(e,t)||{},a=i.action,s=i.refKey;if(s&&a&&o()(this.actions,a)){var c=this.ref(s),d=c&&c.el;n()(this,t,c);var r=d&&d.getBoundingClientRect&&d.getBoundingClientRect();this.actions[a](r)}},updateHistory:function(){var t=[c.store.getState("channel"),c.store.getState("level1"),c.store.getState("level2"),c.store.getState("level3"),c.store.getState("user_id"),c.store.getState("im_type"),c.store.getState("ssid"),c.store.getState("appid")].join("__"),e={cdata:d.a.base64Encode(t)},i=d.a.formatUrl(location.href,e);i&&history.replaceState(null,null,i)},messages:{inputFocus:function(t){t=t||{};var e=this.ref(this.data.get("typeboxRefKey"));e&&e.focus&&e.focus();var i=t.value&&t.value.msg,a=t.value&&t.value.tag;i&&e&&e.renderInput&&e.renderInput(t.value.msg,a),this.actions.inputFocus(t.value)},clearInput:function(t){var e=this.ref(this.data.get("typeboxRefKey"));e&&e.renderInput&&e.renderInput("")},updateSugsliderArrows:function(t){var e=this.data.get("sugSliderRefKey"),i=this.ref(this.data.get("typeboxRefKey")).ref(e);i&&i.setArrowStatus&&i.setArrowStatus()},scrollToMessage:function(t){var e,i=this.data.get("emptyRefKey"),a=t.value,n=this.ref(this.data.get("chatviewRefKey")),s=n&&n.ref(i),o=n&&n.ref(a);if(t.value&&o){var c=o.getBoundingClientRect(),d=n.el.getBoundingClientRect();e=c.top-d.top}else e=s.getDistanceToTop();n.el.scrollTop+=e},scrollHandle:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ref(this.data.get("chatviewRefKey"));e&&e.scrollHandle&&e.scrollHandle(t)},setCompRect:function(t){var e=t.value;this.setCompRect(e)},setTypeboxInfo:function(){var t=this.ref(this.data.get("typeboxRefKey")),e=t&&t.el,i=e&&e.getBoundingClientRect();this.actions.initTypeboxInfo(i)},"chat-action":function(t){this.chatActionHandler(t)},operate:function(t){var e=t.value,i=e.history,a=e.item,n=e.type,s=(e.force,e.parent);i&&(i=r.a.getTrackHistory({item:a,history:i,cardType:a&&a.mat&&a.mat.cardType,parent:s}),l.a.trackHandle(i,a)),this.chatActionHandler({value:{type:n,value:a}})},"hidden-toolMenu":function(){this.actions.setMask({show:!1})},"hide-iframe":function(){this.hideIframe()},"hidden-msg":function(){this.actions.updateHiddenMsg()},"cancel-fixed":function(){this.actions.updateFixedAction(!1)},"update-history":function(){history.replaceState&&this.updateHistory()},computeMinHeight:function(t){var e=(t.value||{}).first;this.ref(this.data.get("chatviewRefKey")).computeMinHeight(e)},preview:function(t){t.value&&this.actions.updatePreview({on:!0,src:t.value})}}})},595:function(t,e,i){"use strict";i.r(e);i(98);var a=i(0);e.default=a.connect.san({},{updatePcPopup:"updatePcPopup",updateMissMessageUpList:"updateMissMessageUpList"})({initData:function(){return{foldable:!0}},attached:function(){window.parent.postMessage({type:"imlp-popup-loaded",from:"imlp-popup"},"*")},fold:function(){this.actions.updatePcPopup(!1),this.actions.updateMissMessageUpList({reset:!0}),this.dispatch("clearInput"),window.parent.postMessage({type:"imlp-popup-hide",from:"imlp-popup"},"*")}})},596:function(t,e,i){"use strict";i.r(e);i(8);var a=i(0);e.default=a.connect.san({},{})({initData:function(){return{list:[]}},attached:function(){var t=this,e="ShowToast";a.store.actions.ShowToast||a.store.addAction(e,(function(e,i){i.getState,i.dispatch;setTimeout((function(){t.data.pop("list")}),2400),t.data.unshift("list",e)}))}})},597:function(t,e,i){"use strict";i.r(e);i(10);var a=i(0),n=i(177),s=i.n(n),o=i(131);e.default=a.connect.san({iframe:"iframe"},{updateIframe:"IframeAction",setMask:"setMask"})({components:{"widgets-ui-qrcode":s.a},initData:function(){return{iframeMask:!1}},attached:function(){this.initMessageListener(),this.initIframeListener()},showIframeMask:function(t){t.preventDefault(),t.stopPropagation(),this.data.set("iframeMask",!0)},hideIframeMask:function(t){t.preventDefault(),t.stopPropagation(),this.data.set("iframeMask",!1)},hideIframe:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.actions.updateIframe({on:!1,src:this.data.get("iframe").src})},initMessageListener:function(){var t=this;window.addEventListener("message",(function(e){e.data.type,"openIM"===e.data.type&&(t.actions.setMask({}),t.hideIframe())}),!1)},initIframeListener:function(){var t=this;this.ref("imlp-component-iframe").onload=function(){try{var e=this.contentWindow.location,i=e.href,a=e.pathname;if(Object(o.a)(i)&&-1===a.indexOf("/imlp/static"))return void t.hideIframe()}catch(t){}t.data.set("loaded",!0),t.actions.updateIframe({on:!0,src:t.data.get("iframe").src})}}})},598:function(t,e,i){"use strict";i.r(e);i(17);var a=i(0),n=i(182),s=i.n(n),o=i(269);e.default=a.connect.san({},{})({initData:function(){return{qrcodeElemRef:"qrcode"+(new Date).getTime(),baseConf:{width:125,height:125},isImlp:0}},attached:function(){this.initQrCode()},initQrCode:function(){var t=this.data.get("value")||"",e=this.data.get("isImlp"),i=this.data.get("type")||"url",a=this.data.get("baseConf"),n=this.data.get("w")||a.width,c=this.data.get("h")||a.height,d=this.ref(this.data.get("qrcodeElemRef"));new s.a(d,{text:"",width:n,height:c,colorDark:"#000000",colorLight:"#ffffff",correctLevel:s.a.CorrectLevel.L}).makeCode(o.a.getQrcodeUrl({type:i,value:t,isImlp:e}))}})},599:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({preview:"preview"},{updatePreview:"UpdatePreviewAction"})({initData:function(){return{data:{src:"",on:!1},refKey:"imlp-widget-imagepreivew-image",width:"",height:"",computed:!1}},hide:function(t){t&&t.preventDefault();var e={src:"",on:!1};this.data.set("data",e),this.data.set("computed",!1),this.actions.updatePreview(e)},loadHandler:function(t){var e=document.body.getBoundingClientRect(),i=t.target||this.ref(this.data.get("refKey")),a=i.naturalWidth,n=i.naturalHeight,s=a/n,o=e.width,c=e.height,d=a,r=n;(a>o||n>c)&&(s>o/c?r=(d=o)/s:d=(r=c)*s),this.data.set("computed",!0),this.data.set("width",d),this.data.set("height",r)}})},600:function(t,e,i){"use strict";i.r(e);var a=i(74),n=i.n(a),s=(i(8),i(79),i(19),i(6),i(20),i(159),i(12),i(35),i(0)),o=(i(30),i(1310),i(774)),c=i.n(o),d=i(775),r=i.n(d),l=i(776),p=i.n(l),u=i(777),m=i.n(u),h=i(778),g=i.n(h),f=i(779),v=i.n(f),x=i(281),w=i.n(x),b=i(174),y=i.n(b),k=i(277),M=i.n(k),T=i(786),S=i.n(T),I=i(788),C=i.n(I),B=i(789),R=i.n(B),E=i(790),D=i.n(E),j=i(791),H=i.n(j),L=i(22);s.store.actions.ChatViewScrollToBottom||s.store.addAction("ChatViewScrollToBottom",(function(t,e){for(var i=e.getState,a=e.dispatch,n=document.querySelectorAll(".pc-imlp-component-chatview"),s=function(t){setTimeout((function(){n[t].scrollTop=n[t].scrollHeight,i("missMessage.number")>0&&a("updateMissMessage",{number:0,hasFirst:!1,index:-1})}),100)},o=0;o<n.length;o++)s(o)})),e.default=s.connect.san({message:"message",typeboxbottombox:"typeboxbottombox",missMessage:"missMessage",missMessageUp:"missMessageUp",typebox:"typebox",Iframe:"iframe",slideTags:"slideTags",menuGroup:"menuGroup",totalNum:"session.total",fixed:"fixed",hiddenMsg:"session.hiddenMsg",fixedRefs:"fixedRefs",rebound:"rebound",fixedRefPrefix:"fixedRefPrefix",notification:"notification",rectInfo:"chatview",abTest:"abTest"},{setBottomBox:"ToggleTypeBoxBottomBox",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom",updateMissMessage:"updateMissMessage",updateMissMessageUpList:"updateMissMessageUpList",updateFixedState:"updateFixedAction",updateFixedRefs:"UpdateFixedRefs",logSyncMessage:"logSyncMessage",updatePcPopup:"updatePcPopup"})({initData:function(){return{xRefList:[],initHeight:0,laterHeight:0,selfHeight:0,wrapperRef:"pc-component-chatview-wrapper",pageXY:"",scrollTop:""}},attached:function(){var t=this,e=document.body.getBoundingClientRect(),i=this.el.getBoundingClientRect();this.data.set("initHeight",e.height),this.data.set("selfHeight",i.height),this.scrollTimer="",this.initEvents(),this.logInitMessages(),this.resetNum();var a=this.data.get("fixed");this.data.get("rebound");a&&(this.scrollToFixedMessage(),setTimeout((function(){t.computeMissMessage()}))),this.watch("totalNum",(function(e){t.data.get("fixed")&&setTimeout((function(){t.computeMissMessage()}))})),this.watch("fixedRefs",(function(e){t.scrollToFixedMessage(),t.computeMissMessage()}))},components:{"ui-chat-wakeup":c.a,"ui-chat-text":r.a,"ui-chat-base":p.a,"ui-chat-leaveword-card":m.a,"ui-chat-image":g.a,"ui-chat-empty":v.a,"ui-base-card":w.a,"ui-standard-card":y.a,"ui-combined-card":M.a,"ui-tab-card":S.a,"ui-notification-card":C.a,"ui-declare":R.a,"ui-leaveword":D.a,"ui-leavetel":H.a},initEvents:function(){var t=this;this.touchendInterval=null,this.el.addEventListener("scroll",n()(this.scrollHandle.bind(this),100),!1),window.addEventListener("message",(function(e){var i=e.data||{};"track_page"===i.from&&"imlp-popup-open"===i.type?(document.body.classList.add("layout-loaded"),t.actions.updatePcPopup(!0),t.actions.updateMissMessage({number:0,hasFirst:!1,index:-1}),s.store.dispatch("ChatViewScrollToBottom"),t.dispatch("updateSugsliderArrows"),setTimeout((function(){t.dispatch("setCompRect","chatview"),t.computeMissMessageUp()}),100)):"track_page"===i.from&&"imlp-popup-loaded"===i.type&&document.body.classList.add("layout-loaded")}))},logInitMessages:function(){var t=this;this.data.get("message").forEach((function(e){t.actions.logSyncMessage(e)}))},scrollHandle:function(t){this.updateMissMessage&&this.updateMissMessage(),this.computeMissMessageUp&&this.computeMissMessageUp()},updateMissMessage:function(){var t=!this.data.get("fixed")&&this.getChatviewToBottomStatus();this.actions.decideIsNeedScrollToBottom(t);var e=this.data.get("emptyRefKey"),i=this.ref(e);(t||i&&i.el&&this.getViewPortStatus(i.el))&&this.actions.updateMissMessage({number:0,hasFirst:!1,index:-1})},getChatviewToBottomStatus:function(){var t=this.el,e=t.getBoundingClientRect(),i=this.ref(this.data.get("wrapperRef"));return(i&&i.getBoundingClientRect()).height-e.height-t.scrollTop<5},getViewPortStatus:function(t,e){var i,a=this.data.get("typebox"),n=t.getBoundingClientRect(),s=this.data.get("rectInfo");try{if(n.height&&1!==e)if(2===e){var o=n.bottom<=s.top+n.height/2,c=n.bottom>=s.bottom+n.height/2;i=!o&&!c}else i=n.top<a.top&&n.top+n.height>=a.top;else i=n.top+2<a.top}catch(t){}return i},resetNum:function(){var t=this,e=this.data.get("message")||[],i=this.data.get("fixedRefPrefix");e.forEach((function(e,a){e.num=a+1,e.fixed&&t.actions.updateFixedRefs(i+"-"+a)}))},computeMissMessageUp:function(){var t=(this.data.get("missMessageUp")||{}).list||[];if(t.length){var e=t[0]+"",i=this.ref(e),a=!!i&&this.getViewPortStatus(i,2);this.actions.updateMissMessageUpList({reset:a,on:!a})}},computeMissMessage:function(){var t=this,e=this.data.get("message")||[],i=e.length,a=i;e.forEach((function(e){var i="pc-imlp-component-chatview-"+(e.num-1),n=t.ref(i)&&t.ref(i).el,s=!!n&&t.getViewPortStatus(n,1);n&&s&&(a=e.num)}));var n=i-a;this.actions.updateMissMessage({on:!0,hasFirst:!0,index:a,number:n})},computeMinHeight:function(t){var e=this.data.get("fixedRefs")||[],i=e[e.length-1];i&&this.dispatch("scrollToMessage",i);var a=this.ref(i)&&this.ref(i).el,n=this.el.getBoundingClientRect();if(a){var s=n.height+a.offsetTop;s&&this.data.set("minHeight",Math.abs(s)+"px")}},scrollToFixedMessage:function(){this.computeMinHeight(),s.store.dispatch("ChatViewScrollToBottom")},messages:{reScrollToFixedMessage:function(){this.scrollToFixedMessage(),this.computeMissMessage()}},filters:{highLight:function(t){var e=t.content,i=t.source;if("welcome"!==t.tag){e=(e=e.replace(/(\\n)|(\n)/g,"<br/>")).replace(/(\\r)|(\r)/g,"");var a={},n="msg_format"===this.data.get("abTest");return"service"===i&&n&&(a={em:[""],br:[""],p:[""]}),e=(e=(e=(e=L.a.formatRichText(a,e)).replace(/(<br(\s*\/?)?>)/g,"<br/>")).replace(/(.*)<(p)>(.*?)<\/\2>$/,"$1$3")).replace(/^(<br\/>)+|(<br\/>)+$/g,"")}return e}}})},601:function(t,e,i){"use strict";i.r(e);i(17),i(26),i(18);e.default={filters:{getTime:function(t,e){t=void 0!==t?parseInt(t):(new Date).getTime();var i="".concat(function(t){var e=new Date(t).getDay();return"星期".concat(["日","一","二","三","四","五","六"][e])}(t)," ").concat(function(t){var e=new Date(t).getHours();return e<10&&(e="0"+e),e}(t),":").concat(function(t){var e=new Date(t).getMinutes();return e<10&&(e="0"+e),e}(t));return i}}}},602:function(t,e,i){"use strict";i.r(e),e.default={}},603:function(t,e,i){"use strict";i.r(e);i(12),i(35),i(10);e.default={filters:{emoji:function(t,e){var i=["微笑","调皮","色","睡","疑问","流泪","汗","晕","撇嘴","惊恐","尴尬","害羞","委屈","大笑","大哭","可爱","再见","偷笑","乖","难过"];return t.replace(/\[(微笑|调皮|色|睡|疑问|流泪|汗|晕|撇嘴|惊恐|尴尬|害羞|委屈|大笑|大哭|可爱|再见|偷笑|乖|难过)\]/g,(function(t,e){return'<i class="imlp-component-text-emoji imlp-component-text-icon-'+(i.indexOf(e)+1)+'"></i>'}))}}}},604:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({savatar:"service.avatar",uavatar:"user.avatar"},{})({})},605:function(t,e,i){"use strict";i.r(e);i(12),i(53),i(10),i(55);var a=i(66);e.default={attached:function(){var t=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.data.set("isIOS",t)},submit:function(t){t.preventDefault();var e=t.target;if(-1===(e.className||"").indexOf("imlp-component-chatviewleaveword_submit_disabled")){var i=e.parentNode,a=i.querySelector("select"),n=i.querySelector("input");this.validateInput(a.value,n.value)?(this.dispatch("chat-action",{type:"leaveWord",value:{type:a.value,content:n.value}}),this.disabledBtn(e,a,n)):this.dispatch("chat-action",{type:"toast",value:{text:"输入错误"}})}},disabledBtn:function(t,e,i){t.innerHTML="已提交",t.className+=" imlp-component-chatviewleaveword_submit_disabled",e.disabled=!0,i.disabled=!0},validateInput:function(t,e){return e=e.trim(),Object(a.a)(t,e)}}},606:function(t,e,i){"use strict";i.r(e);i(8);var a=i(0);e.default=a.connect.san({imageList:"imageList",savatar:"service.avatar",uavatar:"user.avatar"},{updateImage:"UpdateImage",updatePreview:"UpdatePreviewAction"})({initData:function(){return{loaded:!1,imageWidth:0,imageHeight:0,outImageHeight:0,outImageWidth:0,picReadedRef:"imlp-chatview-pic-readed-ref",progress:0}},attached:function(){var t=this,e=t.data.get("content")||{},i=t.data.get("history")||!1,a=t.data.get("imageList")||{},n=e.image_url;if(n){var s=new Image;s.onload=function(){var e=this.naturalWidth,a=this.naturalHeight,n=Math.max(e,a);if(n>180){var s=Math.min(e,a);s=s/n*180,n=180,e>a?(e=n,a=s):(e=s,a=n)}t.data.set("loaded",!0),t.data.set("imageWidth",e),t.data.set("imageHeight",a),i&&setTimeout((function(){t.dispatch("reScrollToFixedMessage")}))},s.src=n}var o=a[e.uuid]||{};if(o){var c=o.width,d=o.height,r=Math.max(c,d);if(r>180){var l=Math.min(c,d);l=l/r*180,r=180,c>d?(c=r,d=l):(c=l,d=r)}t.data.set("outImageHeight",d),t.data.set("outImageWidth",c)}},preview:function(t){this.actions.updatePreview({on:!0,src:t})},loadHandler:function(t,e){a.store.dispatch("resRetry",{event:t,isRetrySuccess:e})}})},607:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({typebox:"typebox"},{updateMissMessage:"updateMissMessage"})({attached:function(){this.dispatch("setFirstMissMessage",this.data.get("index"))},getDistanceToTop:function(){var t=this.el.getBoundingClientRect(),e=this.owner.el.getBoundingClientRect();return t.top-e.top}})},608:function(t,e,i){"use strict";i.r(e);i(10);var a=i(0);e.default=a.connect.san({},{})({initData:function(){},attached:function(){var t=this,e=this.el,i=e.querySelector(".imlp-widget-buttongroup-showmore"),a=this.data.get("moreStatus");if(i){var n=e.querySelectorAll(".imlp-widget-buttongroup-hidelist");i.addEventListener("click",(function(e){e.preventDefault();for(var s=0;s<n.length;s++)-1!==n[s].className.indexOf("imlp-widget-buttongroup-hidelist")?(n[s].className="imlp-widget-buttongroup-buttonrow",i.innerHTML="收起"):(n[s].className="imlp-widget-buttongroup-buttonrow imlp-widget-buttongroup-hidelist",i.innerHTML="展开");t.setSpreadStatus(!a),t.dispatch("scrollHandle")}))}},operate:function(t,e){t&&t.preventDefault();var i=e.text;"url"===e.type&&this.dispatch("update-history"),this.dispatch("operate",{item:e,type:"buttonGroup",history:i})},setSpreadStatus:function(t){this.data.set("moreStatus",t)}})},609:function(t,e,i){"use strict";i.r(e);i(19),i(6),i(20);var a=i(0),n=i(782),s=i.n(n),o=i(282),c=i.n(o),d=i(783),r=i.n(d),l=i(784),p=i.n(l);e.default=a.connect.san({},{})({initData:function(){return{track:""}},components:{"ui-text-ellipise-box":s.a,"ui-carousel":c.a,"ui-score":r.a,"ui-imglist":p.a},attached:function(){this.getTitle()},preview:function(t){((this.data.get("data")||{}).action||{}).type||this.dispatch("preview",t)},getTitle:function(){var t=this;((this.data.get("data")||{}).info||[]).forEach((function(e){"subtitle"===e.type&&e.text&&t.data.set("track",e.text)}))},operate:function(t,e){if(t&&t.preventDefault(),e){var i=this.data.get("track");this.dispatch("operate",{item:e,type:"DetailBase",history:i,parent:this.data.get("card")})}}})},610:function(t,e,i){"use strict";i.r(e);var a=i(29),n=i.n(a),s=i(14),o=i.n(s),c=(i(12),i(35),i(18),i(6),i(71),i(8),i(0));e.default=c.connect.san({},{})({initData:function(){return{ellipsisChar:"...",computed:!1,moreStatus:0,firstRound:0,styleText:""}},attached:function(){var t=this,e=this.data.get("data.tag"),i=this.data.get("data.text")+""||"";i=i.replace(/\n/g,"<br>"),this.data.set("data.text",i);var a=this.data.get("display"),n=(this.data.get("moreStatus"),this.data.get("computed"),e?"".concat(e,": ").concat(i):i);this.data.set("data.text",n),this.data.set("data.currentTextStr",n);var s=this.data.get("data.maxHeight"),o=this.data.get("data.normal");if(s)this.data.set("data.lineNumber",0);else if(o)return this.data.set("computed",!0),this.data.set("data.more",0),void this.data.set("styleText","-webkit-line-clamp: ".concat(this.data.get("data.lineNumber"),";display: -webkit-box;overflow: hidden;-webkit-box-orient: vertical;"));var c=this.data.get("data.lineNumber");0!==s&&(a&&s||void 0===a)?this.initNeedShowMore(1):0!==c&&(a&&c||void 0===a)&&this.initNeedShowMore(0),this.watch("display",(function(e){var i=this.data.get("moreStatus"),a=this.data.get("computed");!e||a||i||(c?t.initNeedShowMore(0):s&&t.initNeedShowMore(1))}))},initNeedShowMore:function(t){var e=this;return n()(o.a.mark((function i(){var a,n,s,c,d,r,l,p,u,m;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=e.data||{},!t){i.next=10;break}return n=a.get("data.currentTextStr"),i.next=5,e.getTextHeight(n);case 5:s=i.sent,c=a.get("data.maxHeight"),s>c&&a.set("styleText","max-height: ".concat(c,"px")),i.next=39;break;case 10:return d=a.get("data.text"),r=a.get("ellipsisChar"),e.el.getBoundingClientRect(),l=e.getContainerWidth(),i.next=16,e.getTextWidth(d);case 16:if(p=i.sent,0,!(p>=l)){i.next=38;break}return u=Math.floor(d.length*l/p),u-=5,m=d.substring(0,u)+r,i.next=24,e.getTextWidth(m);case 24:if(!((p=i.sent)>l)){i.next=34;break}case 26:if(!(p>l&&u>1)){i.next=34;break}return u--,m=d.substring(0,u)+r,i.next=31,e.getTextWidth(m);case 31:p=i.sent,i.next=26;break;case 34:a.set("data.currentTextStr",m),a.set("data.tempTextStr",m),i.next=39;break;case 38:a.set("data.more",0);case 39:a.set("computed",!0);case 40:case"end":return i.stop()}}),i)})))()},getContainerWidth:function(){var t=this.data.get("data.lineNumber")||2,e=this.el.getBoundingClientRect().width*(t-.6);return this.data.set("containerWidth",e),e},getTextWidth:function(t){var e=this;return this.data.set("data.tempTextStr",t),new Promise((function(i){e.data.get("firstRound");e.ref("widget-text-ellipsis-placeholder").innerHTML=t,i(e.ref("widget-text-ellipsis-placeholder").getBoundingClientRect().width)}))},getTextHeight:function(t){var e=this;return new Promise((function(i){e.ref("widget-text-ellipsis-placeholder").innerHTML=t,setTimeout((function(){var t=e.ref("widget-text-ellipsis-placeholder").getBoundingClientRect().height;i(t)}),10)}))},toggleMore:function(t){t.preventDefault(),t.stopPropagation();var e=this.data.get("data.more"),i=this.data.get("moreStatus"),a=this.data.get("data.text"),n=this.data.get("data.tempTextStr"),s=this.data.get("data.lineNumber"),o=this.data.get("data.maxHeight");e&&(s?this.data.set("data.currentTextStr",i?n:a):o&&this.data.set("styleText",i?"max-height: ".concat(o,"px"):"max-height:auto;"),this.data.set("moreStatus",!i)),this.dispatch("scrollHandle")}})},611:function(t,e,i){"use strict";i.r(e);i(26),i(8),i(123);var a=i(0);e.default=a.connect.san({},{})({initData:function(){return{defaultConf:{auto:1,interval:5e3,guide:1,active:0,reverse:0,list:[]},data:{}}},attached:function(){this.formatData(),this.data.get("data.total")>1&&this.autoNext()},formatData:function(){var t=this.data.get("defaultConf")||{},e=this.data.get("data")||{},i=void 0!==e.auto?e.auto:t.auto,a=void 0!==e.reverse?e.reverse:t.reverse,n=void 0!==e.interval?e.interval:t.interval,s=void 0!==e.guide?e.guide:t.guide,o=e.list||e.text,c=void 0!==o?o:t.list,d=c.active&&c.active<c.length?c.active:t.active,r=c.length;this.data.set("data",{auto:i,reverse:a,interval:n,guide:s,list:c,active:d,total:r})},autoNext:function(){var t=this,e=parseInt(this.data.get("data.interval"),10);this.timer=setInterval((function(){t.goNext()}),e)},goNext:function(){var t=Number(this.data.get("data.active")),e=this.getNext(t);this.data.set("data.active",e),this.data.set("data.prev",t)},getNext:function(t){var e=this.data.get("data.total");return e>1?(t+1)%e:t}})},612:function(t,e,i){"use strict";i.r(e);i(26),i(205),i(37);var a=i(0);e.default=a.connect.san({},{})({attached:function(){this.dispatch("broadScoreInfo")},filters:{star:function(t){var e=[],i=parseInt(t,10),a=t%1;a>.5?i++:a>0&&(i+=.5),t=i;for(var n=(t*=20)/20,s=0;s<5;s++){var o='<span class="imlp-widget-score-wrap-star-bg">';if(n>=s+1)o+="<span></span>";else if(n>s&&n<s+1){o+='<span style="width:'+(t%20*100/20).toFixed(1)+'%"></span>'}o+="</span>",e.push(o)}return e.join("")}}})},613:function(t,e,i){"use strict";i.r(e);i(113);e.default={attached:function(){this.formatList()},preview:function(t){this.dispatch("preview",t)},formatList:function(){var t=this.data.get("data")||{},e=t.value||[],i=t.num,a=[];a=i?e.splice(0,i):e,this.data.set("data.value",a)}}},614:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({},{openXh:"openXh",bindXh:"bindXh",activeXh:"activeXh",logXh:"logXh"})({attached:function(){"xh"===this.data.get("data").category&&this.actions.logXh("show")},operate:function(t,e){switch(e.tag){case"openxh":this.actions.openXh(),this.actions.logXh("open");break;case"activexh":this.actions.activeXh(),this.actions.logXh("active");break;case"bindxh":this.actions.bindXh(),this.actions.logXh("bind");break;default:return}}})},615:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(41);e.default=a.connect.san({},{inputFocus:"inputFocus"})({initData:function(){return{spread:!1}},attached:function(){},toggle:function(){var t=this.data.get("spread");this.data.set("spread",!t)},itemHandler:function(t,e,i){t.preventDefault&&t.preventDefault(),"zixun"===e.type?(e.msg=n.a.getInputFillText(i),e.tag="user-check",this.dispatch("inputFocus",e)):e.action&&(t.stopPropagation&&t.stopPropagation(),this.dispatch("operate",{item:e.action,type:"list"}))}})},616:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(787),s=i.n(n);e.default=a.connect.san({},{})({initData:function(){return{spread:{status:0},fold:0,showWidgets:[],heightComputed:!1}},components:{"widget-tabs":s.a}})},617:function(t,e,i){"use strict";i.r(e);i(8);var a=i(0),n=(i(30),i(281)),s=i.n(n);e.default=a.connect.san({},{})({initData:function(){return{active:-1,detail:{}}},attached:function(){this.setTab()},components:{"ui-base-card":s.a},setTab:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.data.set("active",-1),setTimeout((function(){var i=(t.data.get("data")[e].value||{}).content||{};t.data.set("active",e),t.data.set("detail",i)}))},change:function(t,e){this.data.get("active")!==e&&this.setTab(e)}})},618:function(t,e,i){"use strict";i.r(e);var a=i(283),n=i.n(a),s=i(0);e.default=s.connect.san({notificationMap:"notificationMap"},{updateNotification:"UpdateNotification"})({initData:function(){return{limitMap:{doctor:2},visible:!1}},components:{"widget-notification":n.a},attached:function(){this.render()},render:function(){var t=this.data,e=t.get("content.category"),i=t.get("limitMap")[e];if(i&&(this.actions.updateNotification({type:e}),t.get("notificationMap")[e]>i))return t.set("visible",!1),void this.dispatch("hidden-msg");t.set("visible",!0)}})},619:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({},{showmask:"setMask"})({showMask:function(){this.actions.showmask({show:!0,childcomponent:"declare"})}})},620:function(t,e,i){"use strict";i.r(e);i(10),i(18),i(55);var a=i(0),n=i(66),s=i(41),o=i(1);e.default=a.connect.san({preset:"presetMessage",connected:"session.connected",pageTitle:"pageTitle",xyl:"xyl"},{addMessage:"AddMessageToChatView"})({computed:{invitewords:function(){var t=this.data.get("pageTitle");return this.data.get("connected")?"请填写一下信息，我们会尽快和您联系：":"感谢您对"+t+"的关注！当前客服人员不在线，请填写一下信息，我们会尽快和您联系。"}},initData:function(){return{isError:!1}},attached:function(){},submit:function(t){t.preventDefault();var e=t.target;if(-1===(e.className||"").indexOf("submit-disabled")){var i=e.parentNode.parentNode,a=i.querySelector(".tel-input");if(this.validateInput(a.value)){var n=this.data.get("xyl"),c=s.a.getFiltedPresetMsg()||(n?"「疾病」相关信息":""),d=i.querySelector(".name-input").value,r=i.querySelector(".leaveword-textarea").value,l=a.value,p="您好，".concat(c?"我想咨询"+c+"，":"","以下是我的个人信息：姓名：").concat(d,"，手机号码：").concat(l,"，咨询内容：").concat(r,"。");this.dispatch("chat-action",{type:"leaveWord",value:{type:"phone",content:p,tag:"leaveword"}}),this.actions.addMessage({type:o.e.TEXT,content:p,source:"user"}),this.disabledBtn(e,a)}else this.data.set("isError",!0)}},disabledBtn:function(t,e){t.innerHTML="已提交",t.className+=" submit-disabled",e.disabled=!0},validateInput:function(t){return t=t.trim(),Object(n.a)("phone",t)},clearError:function(t){t.preventDefault(),t.target.parentNode.querySelector(".tel-input").value="",this.data.set("isError",!1)}})},621:function(t,e,i){"use strict";i.r(e);i(10),i(55);var a=i(0),n=i(66),s=i(1);e.default=a.connect.san({},{addMessage:"AddMessageToChatView"})({initData:function(){return{isError:!1}},attached:function(){},submit:function(t){t.preventDefault();var e=t.target;if(-1===(e.className||"").indexOf("submit-disabled")){var i=e.parentNode.querySelector("input");if(this.validateInput(i.value)){var a="您好，我的电话是"+i.value+"， 请您尽快和我联系。";this.dispatch("chat-action",{type:"leaveWord",value:{type:"phone",content:a,tag:"leavetel"}}),this.actions.addMessage({type:s.e.TEXT,content:a,source:"user"}),this.disabledBtn(e,i)}else this.data.set("isError",!0)}},disabledBtn:function(t,e){t.innerHTML="已提交",t.className+=" submit-disabled",e.disabled=!0},validateInput:function(t){return t=t.trim(),Object(n.a)("phone",t)},clearError:function(t){t.preventDefault(),t.target.parentNode.querySelector(".leavetel-input").value="",this.data.set("isError",!1)}})},622:function(t,e,i){"use strict";i.r(e);i(8),i(17),i(55),i(26);var a=i(0),n=i(30),s=i(793),o=i.n(s),c=i(794),d=i.n(c),r=i(795),l=i.n(r),p=i(176),u=i.n(p),m=i(175),h=i.n(m),g=i(5),f=(i(3),i(280)),v=i.n(f),x=i(1);a.store.actions.UpdateTypeBoxInput||a.store.addAction("UpdateTypeBoxInput",(function(t,e){e.getState,e.dispatch;return Object(n.builder)().set("typeboxtext",t)})),a.store.actions.ToggleTypeBoxBottomBox||a.store.addAction("ToggleTypeBoxBottomBox",(function(t,e){e.getState,e.dispatch;return Object(n.builder)().set("typeboxbottombox",t)})),e.default=a.connect.san({text:"typeboxtext",landpageurl:"landpageurl",contactNumber:"contactNumber",sendImage:"sendImage",bottombox:"typeboxbottombox",appid:"appid",iframe:"iframe",sessionState:"session.state",presetMessage:"presetMessage",feedbackURL:"feedbackURL",xhinfo:"xhinfo",blockSession:"review",needBackXcx:"needBackXcx",clientSourceExt:"clientSourceExt",baozhangUrl:"baozhangUrl",showBaozhangInfo:"showBaozhangInfo",menu:"typeboxConfig.menu"},{updateText:"UpdateTypeBoxInput",setBottomBox:"ToggleTypeBoxBottomBox",send:"SendMessage",connectNet:"ConnectNet",setMask:"setMask",updateFixedState:"updateFixedAction",updateIsNeedScrollToBottom:"decideIsNeedScrollToBottom",triggerXhRule:"triggerXhRule",logPresetMsg:"logPresetMsg",updateCardShow:"updateCardShow",updateInputTrack:"updateInputTrack",inputFocus:"inputFocus"})({components:{"ui-typebox-emoji":o.a,"ui-uploader":d.a,"ui-menu":l.a,"ui-chat-miss-message-tip":h.a,"ui-sugslider":u.a,"logo-emoji":v.a},initData:function(){return{bottombox:"emoji",emojiBoxRefKey:"imlp-component-emoji-box",emojiBtnRefKey:"imlp-component-emoji-btn",inputRefKey:"pc-imlp-component-typebox-input",presetWord:"",buttonClicked:!1,sended:!1,focused:!1,defaultPlaceholder:"请输入您的问题，按Enter直接发送",placeholder:"请输入您的问题，按Enter直接发送",plusBoxItemPlaceholderClass:"imlp-component-typebox-plus-box-item-order-999",textChanged:!1,filterRefKey:"typebox-tool-filter",sessionClosedState:g.a.stateMap.closed,quickInput:{}}},attached:function(){var t=this,e=this.data.get("inputRefKey"),i=this.data.get("filterRefKey");this.inputElem=this.ref(e),this.filterElem=this.ref(i),this.autoTextarea(this.inputElem),this.initPresetWord(),this.dispatch("setCompRect","typebox"),t.scrollToEnd(),this.watch("text",(function(e){this.data.set("textChanged",!0),t.actions.updateText(e)}))},updateFilterState:function(){var t=this.filterElem.checked;this.actions.updateCardShow(!t),this.dispatch("scrollHandle")},hideEmoji:function(){"emoji"===this.data.get("bottombox")&&this.toggleBox("")},initPresetWord:function(){var t=this.data.get("presetWord"),e=(this.data.get("textChanged"),this.data.get("presetMessage")||{}),i=e.enabled,a=e.message,n=e.from,s=e.showType;i&&a&&1===s&&(t=a,this.data.set("presetWord",t),this.data.set("placeholder",t),this.actions.updateText(t),this.actions.logPresetMsg({type:"preset_show_".concat(n),content:encodeURIComponent(t)}),this.actions.updateFixedState(!0),this.actions.updateIsNeedScrollToBottom(!1))},renderInput:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.inputElem.value=t,this.updateText(),e&&this.data.set("quickInput",{tag:e,value:t})},toggleBox:function(t,e){if("input"==t)this.actions.setBottomBox("input"),this.scrollToEnd();else{var i=this.inputElem,a=this.data.get("bottombox");a==t?(clearInterval(this.imlpcid),this.actions.setBottomBox("input"),i.focus()):("emoji"===a&&"plus"===t?this.actions.setBottomBox(""):this.actions.setBottomBox(t),i.blur())}},scrollToEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,e=this;setTimeout((function(){e.el.scrollIntoView&&e.el.scrollIntoView(!0),e.el.scrollIntoViewIfNeeded&&e.el.scrollIntoViewIfNeeded()}),t)},keydown:function(t){13===t.keyCode&&(this.send(t,!0),this.focus())},getEmojiBoxComp:function(){var t=this.data.get("emojiBoxRefKey");return this.ref(t)},getEmojiBtnElem:function(){var t=this.data.get("emojiBtnRefKey");return this.ref(t)},inputfocus:function(){this.data.get("blockSession")||this.actions.connectNet({source:"focus"}),this.actions.inputFocus("typebox"),this.actions.updateInputTrack({start:{ts:(new Date).getTime(),len:this.data.get("text").length}}),(a.store.getState("showMenuMore")||!1)&&a.store.dispatch("showMenuMore",!1)},inputBlur:function(){this.actions.updateInputTrack({end:{ts:(new Date).getTime(),len:this.data.get("text").length}}),this.timerId&&(clearInterval(this.timerId),this.timerId=null)},updateText:function(){this.actions.updateText(this.inputElem.value.trim()),this.actions.updateInputTrack({middle:{ts:(new Date).getTime(),len:this.inputElem.value.trim().length}})},send:function(t,e){var i=this.inputElem,a=this.data.get("sended"),n=this.data.get("defaultPlaceholder"),s=this.data.get("text"),o=this.data.get("presetWord"),c=(this.data.get("presetMessage")||{}).from,d=this.data.get("buttonClicked"),r=this.data.get("textChanged");s&&!d&&this.data.set("buttonClicked",!0),(13===t.keyCode||e)&&(13===t.keyCode&&t.preventDefault(),""===s.trim()&&""===o.trim()||((""===s.trim()&&""!==o.trim()||!r&&""!==s.trim()&&""!==o.trim())&&(s=o.trim(),a||(!0,this.data.set("sended",!0),this.data.set("presetWord",""),this.data.set("placeholder",n),c&&this.data.set("quickInput",{tag:c,value:encodeURIComponent(s)}),c&&this.actions.logPresetMsg({type:"preset_send_".concat(c),content:encodeURIComponent(s)}))),this.actions.updateText(""),i.innerHTML="",i.value="",this.actions.setBottomBox(""),this.actions.send({source:"user",type:x.e.TEXT,content:s,trigger:"input",sourceTag:this.data.get("quickInput").tag}),this.data.set("quickInput",{}),i.focus()))},autoTextarea:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:148;this.input=t,this.maxHeight=i,this.minHeight=parseInt(getComputedStyle(t,null).height,10)},openSessionClosedTip:function(){this.actions.setMask({show:!0,childcomponent:"session-closure"})},focus:function(){var t=this.data.get("inputRefKey");this.ref(t)&&this.ref(t).focus(),this.actions.setBottomBox("")},messages:{renderInput:function(t){this.renderInput(t.value)},focusInput:function(){this.focus()}}})},623:function(t,e,i){"use strict";i.r(e);i(55),i(12),i(42);var a=i(0),n=i(170),s=i.n(n),o=i(3);e.default=a.connect.san({text:"typeboxtext"},{updateText:"UpdateTypeBoxInput",setBottomBox:"ToggleTypeBoxBottomBox"})({initData:function(){return{currentSlide:0}},attached:function(){for(var t=this,e=this.el.querySelectorAll(".imlp-component-typeboxemoji-slide-item"),i=e.length,a=this.actions.updateText,n=function(i){var n=e[i];n.addEventListener("click",(function(){var e=t.data.get("text").trim();if(n.classList.contains("imlp-component-typeboxemoji-slide-item-delete")){var i=/\[(微笑|调皮|色|睡|疑问|流泪|汗|晕|撇嘴|惊恐|尴尬|害羞|委屈|大笑|大哭|可爱|再见|偷笑|乖|难过)\]$/.exec(e);i&&(a(e.slice(0,i.index)),t.dispatch("renderInput",e.slice(0,i.index)))}else{var s=o.a.getDataset(n).text;a(e+s),t.dispatch("renderInput",e+s),t.dispatch("focusInput")}}))},c=0;c<i;c++)n(c);var d=this.data;new s.a(this.el,{startSlide:0,speed:400,auto:!1,continuous:!1,disableScroll:!1,stopPropagation:!1,callback:function(t,e){},transitionEnd:function(t,e){d.set("currentSlide",t)}})}})},624:function(t,e,i){"use strict";i.r(e);var a=i(278),n=i.n(a),s=i(24),o=i.n(s),c=i(14),d=i.n(c),r=(i(17),i(26),i(42),i(54),i(72),i(6),i(71),i(63),i(86),i(12),i(53),i(19),i(20),i(10),i(25),i(79),i(418),i(123),i(318),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),i(343),i(344),i(8),i(0)),l=i(80),p=i.n(l),u=i(279),m=i.n(u),h=i(1);e.default=r.connect.san({imageList:"imageList"},{send:"SendMessage",addMessageToChatView:"AddMessageToChatView",updateImage:"UpdateImage",setBottomBox:"ToggleTypeBoxBottomBox"})({components:{"logo-uploader":m.a},initData:function(){return{data:[],max:9,maxSize:51200,maxUploadSize:3,typeArray:["jpeg","jpg","png","gif"],uploadUrl:"/imlp/upload",imgNumber:0,maxSideRequired:1800,maxSideShowRequired:180,iframeName:"uploadFrame",uploadFormRefKey:"uploadForm",supportFiles:!1,hiddenInputRefKey:"hiddenInput"}},attached:function(){var t=this.ref(this.data.get("hiddenInputRefKey"));this.data.set("supportFiles",!o()(t.files))},getUuid:function(){var t=this.data.get("imgNumber");return this.data.set("imgNumber",t+1),"img"+(new Date).getTime()+t},triggerInput:function(){this.ref("uploadElem").click()},handleInputChange:function(){var t=this,e=this,i=this.data,a=(i.get("typeArray"),parseInt(i.get("maxSize"),10),this.ref("uploadElem")),n=[],s=Array.prototype.slice.call(a.files);if(this.checkFiles(s)){var o=s.map((function(i){return t.transformFileToDataUrl(i).then((function(a){i.uuid=e.getUuid(),i.width=a.width,i.height=a.height,i.drawWidth=a.drawWidth,i.drawHeight=a.drawHeight;var s={status:0,uuid:i.uuid,progress:0,tempSrc:a.src,width:a.width,height:a.height,drawWidth:a.drawWidth,drawHeight:a.drawHeight};t.actions.updateImage(s),t.actions.addMessageToChatView({source:"user",type:h.e.IMAGE,content:s,trigger:"input"}),n.push({file:i,dataUrl:a.src,uuid:i.uuid})}))}));Promise.all(o).then((function(){var e=!0;window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(e=!1),t.uploadGen=t.uploadGenerator(n);var i=t.uploadGen.next();t.ref("uploadElem").value=null,i.value.map((function(i){e?t.processData(i):t.processFormDataForFile(i)}))}))}else r.store.dispatch("ShowToast",{text:"图片类型不对或者尺寸太大"})},checkFiles:function(t){var e=this.data,i=this.ref("uploadElem"),a=e.get("typeArray"),n=parseInt(e.get("maxSize"),10),s={typeError:!1,sizeError:!1};return t.forEach((function(t){-1===a.indexOf(t.type.split("/")[1])&&(s.typeError=!0),t.size>1024*n&&(s.sizeError=!0)})),!s.typeError&&!s.sizeError||(i.value=null,!1)},transformFileToDataUrl:function(t){var e=this;return new Promise((function(i,a){e.fileToDataURL(t,(function(t){i(t)}))}))},uploadGenerator:d.a.mark((function t(e){var i,a,n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.data.get("maxUploadSize"),!((a=e.length)>i)){t.next=20;break}n=[],s=0;case 5:if(!(s<a)){t.next=18;break}if(!(s<i)){t.next=13;break}if(n.push(e[s]),s!==i-1){t.next=11;break}return t.next=11,n;case 11:t.next=15;break;case 13:return t.next=15,[e[s]];case 15:s++,t.next=5;break;case 18:t.next=22;break;case 20:return t.next=22,e.map((function(t){return t}));case 22:case"end":return t.stop()}}),t,this)})),processData:function(t){var e,i=t.dataUrl,a=t.file;try{e=this.dataURLtoBlob(i)}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var n=new window.BlobBuilder;n.append(arrayBuffer),e=n.getBlob(a.type)}else r.store.dispatch("ShowToast",{text:"版本过低，不支持上传图片"})}t.blob=e,this.processFormDataForBlob(t)},processFormDataForBlob:function(t){var e=new FormData,i=t.file,a=t.blob;e.append("type",i.type),e.append("size",a.size),e.append("name",i.name),e.append("lastModifiedDate",i.lastModifiedDate),e.append("file",a),t.formData=e,this.uploadImg(t)},processFormDataForFile:function(t){var e=new FormData,i=t.file;e.append("type",i.type||'image/jpeg"'),e.append("size",i.size),e.append("name",i.name),e.append("lastModifiedDate",i.lastModifiedDate||(new Date).getTime()),e.append("file",i),t.formData=e,this.uploadImg(t)},uploadImg:function(t){var e=this,i=new XMLHttpRequest,a=this.data.get("uploadUrl"),n=t.formData,s={status:400,content:""};i.upload.addEventListener("progress",e.handleProgress.bind(e,t.uuid),!1),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status||201===i.status){var a;try{a=JSON.parse(i.responseText)}catch(t){a=s}e.handleUploadEnd(t,a)}else e.handleUploadEnd(t,s)},i.open("POST",a,!0),i.send(n)},handleProgress:function(t,e){if(e.lengthComputable){var i=Number.parseInt(e.loaded/e.total*100,10);100===i&&(i=99),this.actions.updateImage({status:0,uuid:t,progress:i})}},handleUploadEnd:function(t,e){var i=this,a=t.file||{};if(this.actions.setBottomBox(""),0===e.status){var n=e.content;this.actions.updateImage({status:1,uuid:t.uuid,progress:100,imgSrc:n}),this.actions.send({source:"user",type:h.e.IMAGE,content:{image_url:n,image_width:a.width,image_height:a.height,thumb_url:n},trigger:"input",isMsgHidden:!0})}else this.actions.updateImage({uuid:t.uuid,status:-1}),r.store.dispatch("ShowToast",{text:"文件上传失败"});var s=this.uploadGen.next();if(!s.done){var o=!0;window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(o=!1),s.value.map((function(t){o?i.processData(t):i.processFormDataForFile(t)}))}},dataURLtoBlob:function(t){for(var e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(e.length),n=new Uint8Array(a),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return new Blob([a],{type:i})},fileToDataURL:function(t,e){var i,a=this;p.a.getData(t,(function(){p.a.getAllTags(this),i=p.a.getTag(this,"Orientation")}));var n=this,s=this.data.get("maxSideRequired"),o=this.data.get("maxSideShowRequired"),c=new FileReader;c.onload=function(t){n.preloadImage(t.target.result,(function(){var n,c,d=this.naturalWidth,r=this.naturalHeight;this.naturalWidth>this.naturalHeight&&this.naturalWidth>s?r=(d=s)*this.naturalHeight/this.naturalWidth:this.naturalHeight>this.naturalWidth&&this.naturalHeight>s&&(d=(r=s)*this.naturalWidth/this.naturalHeight);var l=document.createElement("canvas"),p=l.getContext("2d");l.width=d,l.height=r,p.drawImage(this,0,0,d,r);var u=null;if(navigator.userAgent.match(/iphone/i)){if(""!=i&&1!=i)switch(i){case 6:a.rotateImg(this,"left",l);break;case 8:a.rotateImg(this,"right",l);break;case 3:a.rotateImg(this,"right",l),a.rotateImg(this,"right",l)}u=l.toDataURL("image/jpeg")}else if(navigator.userAgent.match(/Android/i))u=t.target.result;else{if(""!=i&&1!=i)switch(i){case 6:a.rotateImg(this,"left",l);break;case 8:a.rotateImg(this,"right",l);break;case 3:a.rotateImg(this,"right",l),a.rotateImg(this,"right",l)}u=l.toDataURL("image/jpeg")}l.width>l.height&&l.width>o?c=(n=o)*l.height/l.width:l.height>l.width&&l.height>o&&(n=(c=o)*l.width/l.height);var m={width:l.width,height:l.height,drawWidth:n,drawHeight:c,src:u};e(m)}))},c.readAsDataURL(t)},rotateImg:function(t,e,i){if(null!=t){var a=t.height,n=t.width,s=2;null==s&&(s=0),"right"==e?++s>3&&(s=0):--s<0&&(s=3);var o=90*s*Math.PI/180,c=i.getContext("2d");switch(s){case 0:i.width=n,i.height=a,c.drawImage(t,0,0);break;case 1:i.width=a,i.height=n,c.rotate(o),c.drawImage(t,0,-a);break;case 2:i.width=n,i.height=a,c.rotate(o),c.drawImage(t,-n,-a);break;case 3:i.width=a,i.height=n,c.rotate(o),c.drawImage(t,-n,0)}}},preloadImage:function(t,e){var i=new Image;i.onload=n()(e,i),i.src=t},formUpload:function(){var t,e=this,i=this.ref(this.data.get("uploadFormRefKey")),a=document.createElement("iframe"),n=this.data.get("iframeName"),s=this.data.get("uploadUrl");a.setAttribute("id",n),a.setAttribute("name",n),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("frameborder","0"),i.parentNode.appendChild(a);var o=document.getElementById(n),c=function a(){o.detachEvent?o.detachEvent("onload",a):o.removeEventListener&&o.removeEventListener("load",a,!1),o.contentDocument?t=o.contentDocument.body.textContent||o.contentDocument.body.innerHTML:o.contentWindow?t=o.contentWindow.body.textContent||o.contentWindow.document.body.innerHTML:o.document&&(t=o.document.body.textContent||o.document.body.innerHTML);try{t=JSON.parse(t)}catch(e){t={}}0===t.status&&t.content&&e.preloadImage(t.content,(function(){var i,a,n=this.naturalWidth,s=this.naturalHeight,o=e.data.get("maxSideShowRequired");n>s&&n>o?a=(i=o)*s/n:s>n&&s>o&&(i=(a=o)*n/s);var c={status:1,uuid:e.getUuid(),progress:100,tempSrc:t.content,width:n,height:s,drawWidth:i,drawHeight:a};e.actions.updateImage(c),e.actions.addMessageToChatView({source:"user",type:h.e.IMAGE,content:c,trigger:"input"}),e.actions.send({source:"user",type:h.e.IMAGE,content:{image_url:t.content,image_width:n,image_height:s,thumb_url:t.content},trigger:"input",isMsgHidden:!0})})),setTimeout((function(){i.parentNode.removeChild(o)}),200)};o.addEventListener?o.addEventListener("load",c,!0):o.attachEvent&&o.attachEvent("onload",c),i.setAttribute("target",n),i.setAttribute("action",s),i.setAttribute("method","post"),console.log("clicked"),i.submit()}})},625:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(796),s=i.n(n);e.default=a.connect.san({menu:"typeboxConfig.menu",showMenuMore:"showMenuMore"},{updateFixedState:"updateFixedAction",decideIsNeedScrollToBottom:"decideIsNeedScrollToBottom"})({components:{"logo-menu":s.a},moreClick:function(t){t&&t.preventDefault(),this.dispatch("operate",{item:{type:"menuMore",text:"更多信息"},type:"menu",history:"更多信息"})},operate:function(t,e){t&&t.preventDefault();var i=e.text;this.dispatch("operate",{item:e,type:"menu",history:i}),"menu"===e.type&&(this.actions.decideIsNeedScrollToBottom(!1),this.actions.updateFixedState(!1))}})},626:function(t,e,i){"use strict";i.r(e),e.default={}},627:function(t,e,i){"use strict";i.r(e);i(18);var a=i(0),n=(i(30),i(798)),s=i.n(n),o=i(799),c=i.n(o),d=i(800),r=i.n(d),l=i(801),p=i.n(l),u=i(802),m=i.n(u),h=i(803),g=i.n(h);e.default=a.connect.san({show:"mask.show",child:"mask.childcomponent",data:"mask.data"},{toggle:"MaskToggle",set:"setMask"})({initData:function(){var t=a.store.getState("header.title"),e=a.store.getState("im_type");return{menu:[{action:"iframe",text:"页面须知",url:"/imlp/static?page=1"},{action:"iframe",text:"服务声明",url:"/imlp/static?page=2&imType=".concat(e,"&name=").concat(t)}]}},components:{"ui-declare":s.a,"ui-qrcode":c.a,"ui-qrcode-scaled":r.a,"ui-session-closure":p.a,"ui-detention":m.a,"ui-captcha":g.a},toggle:function(){this.actions.toggle({})},set:function(){this.actions.set({})},attached:function(){this.watch("show",(function(t){var e=t?"add":"remove",i="layout-fixed";document.documentElement.classList[e](i),document.body.classList[e](i)}))}})},628:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(13);e.default=a.connect.san({appid:"appid",imType:"im_type",name:"title"},{masktoggle:"MaskToggle"})({initData:function(){return{text:""}},toggle:function(){this.actions.masktoggle({})},attached:function(){var t=this.data.get("imType");this.data.set("imName",n.a.getImName(t))}})},629:function(t,e,i){"use strict";i.r(e);var a=i(40),n=i.n(a),s=i(0),o=i(177),c=i.n(o);e.default=s.connect.san({contactNumber:"contactNumber"},{masktoggle:"MaskToggle"})({components:{"widgets-ui-qrcode":c.a},computed:{phone:function(){var t=this.data.get("data")||{},e=this.data.get("contactNumber"),i=t.phone||e;return"object"===n()(i)&&(i=i.number),i}},toggle:function(){this.actions.masktoggle({})}})},630:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(177),s=i.n(n);e.default=a.connect.san({},{masktoggle:"MaskToggle"})({components:{"widgets-ui-qrcode":s.a},toggle:function(){this.actions.masktoggle({})}})},631:function(t,e,i){"use strict";i.r(e);var a=i(0);e.default=a.connect.san({},{masktoggle:"MaskToggle"})({initData:function(){return{text:""}},hide:function(){this.actions.masktoggle({})},refresh:function(){window.location.reload()}})},632:function(t,e,i){"use strict";i.r(e);i(17),i(8);var a=i(0);e.default=a.connect.san({smartprogram:"smartprogram",imType:"im_type",ssid:"ssid",historySeq:"historySeq"},{masktoggle:"MaskToggle",detentionAction:"detentionAction",leave:"NetTaskleave"})({initData:function(){return{text:""}},attached:function(){this.actions.detentionAction("show")},hide:function(){this.actions.detentionAction("hide"),this.actions.masktoggle({});var t="#back"+(new Date).getTime(),e={title:"title",url:t};window.history.pushState(e,"title",t)},confirm:function(){var t=this;this.actions.masktoggle({}),this.leave(),setTimeout((function(){t.back()}),300)},leave:function(){var t=this.data.get("imType"),e=this.data.get("ssid");this.actions.leave({im_type:t,ssid:e})},back:function(){for(var t=this.data.get("historySeq"),e=history.length-t,i=0;i<e;i++)history.back()}})},633:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(804),s=i.n(n);e.default=a.connect.san({},{})({components:{"widget-captcha":s.a}})},634:function(t,e,i){"use strict";i.r(e);i(55);var a=i(0);e.default=a.connect.san({captcha:"anti.captcha.image",base64:"anti.captcha.base64",token:"anti.captcha.token",antiErrMsg:"anti.captcha.errMsg"},{getCaptcha:"getCaptcha",checkCaptcha:"checkCaptcha",masktoggle:"MaskToggle",showToast:"ShowToast",antiBlock:"antiBlock",antiLog:"antiLog"})({initData:function(){return{code:"",inputRef:"imlp-widget-captcha-input",errMsgMap:{empty:"答案为空,请重新输入",length:"验证码长度不足4位,请重新输入",default:"答案输入异常,请重新输入"}}},attached:function(){this.inputElem=this.ref(this.data.get("inputRef")),this.getCaptcha(),this.watch("code",(function(t){t&&this.data.set("errMsg","")})),this.watch("antiErrMsg",(function(t){t&&this.data.set("errMsg",t)}))},inputHandle:function(){this.data.set("code",this.inputElem.value.trim())},keydown:function(t){13===t.keyCode&&this.confirm()},getCaptcha:function(){this.actions.getCaptcha(),this.actions.antiLog("captcha_refresh")},confirm:function(){var t=this.invalidInput(this.inputElem.value);t?this.errHandle(t):this.submit(),this.clearInput()},submit:function(){this.actions.antiLog("captcha_check"),this.actions.checkCaptcha(this.inputElem.value)},invalidInput:function(t){return t?"":"empty"},errHandle:function(t){var e=this.data.get("errMsgMap"),i=e[t]||e.default;this.data.set("errMsg",i)},clearInput:function(){this.inputElem.innerHTML="",this.inputElem.value="",this.data.set("code","")},cancel:function(){this.actions.masktoggle({}),this.actions.antiBlock(),this.actions.antiLog("captcha_cancel")}})},639:function(t,e,i){"use strict";i.r(e);i(19),i(6),i(20),i(25),i(10);var a=i(0),n=i(780),s=i.n(n),o=i(781),c=i.n(o),d=i(283),r=i.n(d),l=i(282),p=i.n(l),u=i(785),m=i.n(u);var h={formatFilter:function(t){if("buttonGroup"===t.name){t.cell=t.cell||2;var e=t.list||[],i=[],a=[];if(t.row){var n=t.row*t.cell;void 0===t.more&&e.length>n&&(t.more=!0)}for(var s=0;s<e.length;s++)s%t.cell==0&&(a=[],i.push(a)),a.push(e[s]);for(s=a.length;s<t.cell;s++)a.push({type:"blank"});return t.listTemp=i,t}return t}},g=i(91);e.default=a.connect.san({},{})({initData:function(){return{showWidgets:[],heightComputed:!1,track:""}},attached:function(){var t=this,e=this.el,i=e.querySelectorAll(".imlp-basecard-widget-hide"),a=this.data.get("showWidgets"),n=this.data.get("content"),s=this.data.get("content").list||[],o=n.showCount||s.length,c=n.more||0;if(s.forEach((function(t,e){"buttonGroup"!==t.name&&"detailBase"!==t.name||e<o&&a.push("widget"+e)})),c&&i.length>0){var d=e.querySelector(".imlp-basecard-morelink");d.style.display="block",d.addEventListener("click",(function(e){e.preventDefault();for(var a=!1,n=0;n<i.length;n++)-1!==i[n].className.indexOf("imlp-basecard-widget-hide")?(i[n].className="imlp-basecard-widget",d.innerHTML="收起",a=!0):(i[n].className="imlp-basecard-widget imlp-basecard-widget-hide",d.innerHTML="展开全部",a=!1);try{var s=t.data.raw.content.showCount;for(n=0;n<i.length;n++)t.ref("widget"+(n+s)).data.set("display",a)}catch(e){}t.dispatch("scrollHandle")}))}},updateActionUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.data.get("type")+"",i=this.data.get("action")||{};"url"===i.type&&i.value&&("5000"!==e&&"5001"!==e||this.data.set("action.value",g.a.getUrlWithImlpUrl(i.value,t)))},operate:function(t,e){if(e&&(t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),e)){e.mat=e.mat||{},e.mat.cardType=e.mat.cardType||this.data.get("type");var i=this.data.get("track");this.dispatch("operate",{item:e,type:"BaseCard",history:i})}},components:{"widget-buttongroup":s.a,"widget-detailbase":c.a,"widget-notification":r.a,"widget-carousel":p.a,"widget-list":m.a},filters:{widgetFormat:h.formatFilter}})},68:function(t,e){t.exports=_sdk_cfd795},768:function(t,e,i){var a=i(2);i(1296);var n=i(1297),s=i(594).default;t.exports=i(594),t.exports.default=a(s,n,[])},769:function(t,e,i){var a=i(2);i(1298);var n=i(1299),s=i(595).default;t.exports=i(595),t.exports.default=a(s,n,[])},770:function(t,e,i){var a=i(2);i(1300);var n=i(1301),s=i(596).default;t.exports=i(596),t.exports.default=a(s,n,[])},771:function(t,e,i){var a=i(2);i(1302);var n=i(1303),s=i(597).default;t.exports=i(597),t.exports.default=a(s,n,[])},772:function(t,e,i){var a=i(2);i(1306);var n=i(1307),s=i(599).default;t.exports=i(599),t.exports.default=a(s,n,[])},773:function(t,e,i){var a=i(2);i(1308);var n=i(1309),s=i(600).default;t.exports=i(600),t.exports.default=a(s,n,[])},774:function(t,e,i){var a=i(2);i(1313);var n=i(1314),s=i(602).default;t.exports=i(602),t.exports.default=a(s,n,[])},775:function(t,e,i){var a=i(2);i(1315);var n=i(1316),s=i(603).default;t.exports=i(603),t.exports.default=a(s,n,[])},776:function(t,e,i){var a=i(2);i(1317);var n=i(1318),s=i(604).default;t.exports=i(604),t.exports.default=a(s,n,[])},777:function(t,e,i){var a=i(2);i(1319);var n=i(1320),s=i(605).default;t.exports=i(605),t.exports.default=a(s,n,[])},778:function(t,e,i){var a=i(2);i(1321);var n=i(1322),s=i(606).default;t.exports=i(606),t.exports.default=a(s,n,[])},779:function(t,e,i){var a=i(2);i(1323);var n=i(1324),s=i(607).default;t.exports=i(607),t.exports.default=a(s,n,[])},780:function(t,e,i){var a=i(2);i(1327);var n=i(1328),s=i(608).default;t.exports=i(608),t.exports.default=a(s,n,[])},781:function(t,e,i){var a=i(2);i(1329);var n=i(1330),s=i(609).default;t.exports=i(609),t.exports.default=a(s,n,[])},782:function(t,e,i){var a=i(2);i(1331);var n=i(1332),s=i(610).default;t.exports=i(610),t.exports.default=a(s,n,[])},783:function(t,e,i){var a=i(2);i(1335);var n=i(1336),s=i(612).default;t.exports=i(612),t.exports.default=a(s,n,[])},784:function(t,e,i){var a=i(2);i(1337);var n=i(1338),s=i(613).default;t.exports=i(613),t.exports.default=a(s,n,[])},785:function(t,e,i){var a=i(2);i(1341);var n=i(1342),s=i(615).default;t.exports=i(615),t.exports.default=a(s,n,[])},786:function(t,e,i){var a=i(2);i(1343);var n=i(1344),s=i(616).default;t.exports=i(616),t.exports.default=a(s,n,[])},787:function(t,e,i){var a=i(2);i(1345);var n=i(1346),s=i(617).default;t.exports=i(617),t.exports.default=a(s,n,[])},788:function(t,e,i){var a=i(2);i(1347);var n=i(1348),s=i(618).default;t.exports=i(618),t.exports.default=a(s,n,[])},789:function(t,e,i){var a=i(2);i(1349);var n=i(1350),s=i(619).default;t.exports=i(619),t.exports.default=a(s,n,[])},790:function(t,e,i){var a=i(2);i(1351);var n=i(1352),s=i(620).default;t.exports=i(620),t.exports.default=a(s,n,[])},791:function(t,e,i){var a=i(2);i(1353);var n=i(1354),s=i(621).default;t.exports=i(621),t.exports.default=a(s,n,[])},792:function(t,e,i){var a=i(2);i(1355);var n=i(1356),s=i(622).default;t.exports=i(622),t.exports.default=a(s,n,[])},793:function(t,e,i){var a=i(2);i(1357);var n=i(1358),s=i(623).default;t.exports=i(623),t.exports.default=a(s,n,[])},794:function(t,e,i){var a=i(2);i(1359);var n=i(1360),s=i(624).default;t.exports=i(624),t.exports.default=a(s,n,[])},795:function(t,e,i){var a=i(2);i(1361);var n=i(1362),s=i(625).default;t.exports=i(625),t.exports.default=a(s,n,[])},796:function(t,e,i){var a=i(2);i(1363);var n=i(1364),s=i(626).default;t.exports=i(626),t.exports.default=a(s,n,[])},797:function(t,e,i){var a=i(2);i(1365);var n=i(1366),s=i(627).default;t.exports=i(627),t.exports.default=a(s,n,[])},798:function(t,e,i){var a=i(2);i(1367);var n=i(1368),s=i(628).default;t.exports=i(628),t.exports.default=a(s,n,[])},799:function(t,e,i){var a=i(2);i(1369);var n=i(1370),s=i(629).default;t.exports=i(629),t.exports.default=a(s,n,[])},800:function(t,e,i){var a=i(2);i(1371);var n=i(1372),s=i(630).default;t.exports=i(630),t.exports.default=a(s,n,[])},801:function(t,e,i){var a=i(2);i(1373);var n=i(1374),s=i(631).default;t.exports=i(631),t.exports.default=a(s,n,[])},802:function(t,e,i){var a=i(2);i(1375);var n=i(1376),s=i(632).default;t.exports=i(632),t.exports.default=a(s,n,[])},803:function(t,e,i){var a=i(2);i(1377);var n=i(1378),s=i(633).default;t.exports=i(633),t.exports.default=a(s,n,[])},804:function(t,e,i){var a=i(2);i(1379);var n=i(1380),s=i(634).default;t.exports=i(634),t.exports.default=a(s,n,[])}},[[1383,1,0]]]);